!function(){function e(e,c){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,c){if(!e)return;if("string"==typeof e)return t(e,c);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,c)}(e))||c&&e&&"number"==typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,i=new Array(t);c<t;c++)i[c]=e[c];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var c=0;c<t.length;c++){var i=t[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,c){return t&&i(e.prototype,t),c&&i(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{fRIO:function(t,i,n){"use strict";n.r(i),n.d(i,"TasksModule",function(){return Qe});var l=n("ofXK"),r=n("VToC"),s=n("25+x"),o=n("cplz"),d=n("7dP1"),u=n("bmg4"),g=n("44PX"),f=n("K3ix"),h=n("+Cnu"),b=n("Lm2G"),v=n("hzby"),m=n("dZIy"),p=n("LPYB"),_=n("oOf3"),y=n("3Pt+"),S=n("tyNb"),w=n("WuMH"),N=n("gFX4"),D=n.n(N),x=n("CMKA"),E=n("piOG"),k=n("PSD3"),M=n.n(k),C=n("fXoL"),R=n("3t6R"),I=n("REEf"),U=n("1kSV"),O=n("qeeY"),A=n("jhN1"),T=n("eLGb"),F=n("ZOsW"),G=n("sYmb");function P(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",69),C.ec()),2&e){var c=C.vc();C.Nb(1),C.Ec("alt",c.user.name)}}function j(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",70),C.ec()),2&e){var c=C.vc();C.Nb(1),C.Ec("alt",c.user.name),C.Dc("src",c.baseFolder+"/"+c.user.avatar,C.Wc)}}function L(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",72),C.ec()),2&e){var c=C.vc().$implicit,i=C.vc();C.Nb(1),C.Ec("alt",c.name),C.Dc("src",i.baseFolder+"/"+c.avatar,C.Wc)("ngbTooltip",c.name)}}function $(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",73),C.ec()),2&e){var c=C.vc().$implicit;C.Nb(1),C.Ec("alt",c.name),C.Dc("ngbTooltip",c.name)}}function z(e,t){if(1&e&&(C.hc(0,"li",71),C.bd(1,L,2,3,"ng-container",10),C.bd(2,$,2,2,"ng-container",10),C.gc()),2&e){var c=t.$implicit;C.Nb(1),C.Dc("ngIf",null!=c.avatar),C.Nb(1),C.Dc("ngIf",null==c.avatar)}}function q(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",72),C.ec()),2&e){var c=C.vc().$implicit,i=C.vc(2);C.Nb(1),C.Ec("alt",c.name),C.Dc("src",i.baseFolder+"/"+c.avatar,C.Wc)("ngbTooltip",c.name)}}function H(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",73),C.ec()),2&e){var c=C.vc().$implicit;C.Nb(1),C.Ec("alt",c.name),C.Dc("ngbTooltip",c.name)}}function B(e,t){if(1&e&&(C.hc(0,"li",71),C.bd(1,q,2,3,"ng-container",10),C.bd(2,H,2,2,"ng-container",10),C.gc()),2&e){var c=t.$implicit;C.Nb(1),C.Dc("ngIf",null!=c.avatar),C.Nb(1),C.Dc("ngIf",null==c.avatar)}}function V(e,t){if(1&e&&(C.fc(0),C.hc(1,"p"),C.dd(2),C.wc(3,"translate"),C.gc(),C.hc(4,"div",13),C.hc(5,"ul"),C.bd(6,B,3,2,"li",14),C.gc(),C.gc(),C.ec()),2&e){var c=C.vc();C.Nb(2),C.fd("",C.xc(3,2,"Followers"),":"),C.Nb(4),C.Dc("ngForOf",c.ccList)}}function Y(e,t){if(1&e){var c=C.ic();C.hc(0,"li",20),C.rc("click",function(){return C.Uc(c),C.vc()._createNew()}),C.hc(1,"a",21),C.hc(2,"span",22),C.cc(3,"i",29),C.dd(4),C.wc(5,"translate"),C.gc(),C.gc(),C.gc()}2&e&&(C.Nb(4),C.fd(" ",C.xc(5,1,"Create new"),""))}function K(e,t){if(1&e){var c=C.ic();C.hc(0,"li",25),C.rc("click",function(){C.Uc(c);var e=C.vc();return e.getUserEmail(e.type="trash")}),C.hc(1,"a",26),C.hc(2,"span",22),C.cc(3,"i",74),C.dd(4),C.wc(5,"translate"),C.gc(),C.hc(6,"span",24),C.dd(7),C.gc(),C.gc(),C.gc()}if(2&e){var i=C.vc();C.Nb(4),C.fd(" ",C.xc(5,2,"Trash"),""),C.Nb(3),C.fd("(",i.getUserEmail("trash").length,")")}}function W(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",81),C.ec()),2&e){var c=C.vc().$implicit,i=C.vc();C.Nb(1),C.Ec("alt",c.name),C.Dc("src",i.baseFolder+"/"+c.avatar,C.Wc)}}function J(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",82),C.ec()),2&e){var c=C.vc().$implicit;C.Nb(1),C.Ec("alt",c.name)}}function X(e,t){if(1&e){var c=C.ic();C.hc(0,"a",26),C.hc(1,"div",8),C.hc(2,"label",75),C.hc(3,"input",76),C.rc("ngModelChange",function(e){return t.$implicit.is_active=e})("change",function(e){C.Uc(c);var i=t.$implicit;return C.vc().selectedmail(e,i)}),C.gc(),C.gc(),C.hc(4,"div",77),C.rc("click",function(){C.Uc(c);var e=t.$implicit;return C.vc().selectedUserEmail(e)}),C.bd(5,W,2,2,"ng-container",10),C.bd(6,J,2,1,"ng-container",10),C.gc(),C.hc(7,"div",78),C.rc("click",function(){C.Uc(c);var e=t.$implicit;return C.vc().selectedUserEmail(e)}),C.hc(8,"h6"),C.dd(9),C.hc(10,"small"),C.dd(11,"("),C.hc(12,"span",79),C.dd(13),C.wc(14,"date"),C.gc(),C.dd(15,")"),C.gc(),C.gc(),C.hc(16,"p"),C.cc(17,"span",80),C.gc(),C.gc(),C.gc(),C.gc()}if(2&e){var i=t.$implicit,a=t.index;C.Nb(2),C.Dc("ngClass",2==i.type?"d-block jignore":"d-block"),C.Nb(1),C.Fc("id","chk-ani",a+1,""),C.Fc("name","chk-ani",a+1,""),C.Dc("ngModel",i.is_active)("disabled",!(2!=i.type&&!i.is_active)),C.Nb(2),C.Dc("ngIf",null!=i.avatar),C.Nb(1),C.Dc("ngIf",null==i.avatar),C.Nb(1),C.Dc("ngClass",2==i.type?"media-body jignore":"media-body"),C.Nb(2),C.fd(" ",i.title," "),C.Nb(4),C.ed(C.yc(14,11,i.timestamp,"dd/MM/yyyy HH:mm")),C.Nb(4),C.Dc("innerHtml",i.content,C.Vc)}}function Z(e,t){1&e&&(C.fc(0),C.hc(1,"div",83),C.hc(2,"div",84),C.cc(3,"img",85),C.hc(4,"p",48),C.dd(5),C.wc(6,"translate"),C.gc(),C.gc(),C.gc(),C.ec()),2&e&&(C.Nb(5),C.ed(C.xc(6,1,"Not found items")))}function Q(e,t){1&e&&(C.fc(0),C.dd(1),C.wc(2,"translate"),C.ec()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Send")))}function ee(e,t){1&e&&(C.fc(0),C.dd(1),C.wc(2,"translate"),C.ec()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Loading")))}function te(e,t){if(1&e){var c=C.ic();C.hc(0,"div",54),C.hc(1,"label",86),C.dd(2),C.wc(3,"translate"),C.gc(),C.hc(4,"ng-select",87),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc().follow_users=e}),C.wc(5,"translate"),C.wc(6,"translate"),C.gc(),C.gc()}if(2&e){var i=C.vc();C.Nb(2),C.ed(C.xc(3,9,"Followers")),C.Nb(2),C.Dc("items",i._users)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",i.follow_users)("placeholder",C.xc(5,11,"Please choose"))("notFoundText",C.xc(6,13,"Not found item"))}}function ce(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",82),C.ec()),2&e){var c=C.vc(2);C.Nb(1),C.Ec("alt",null==c.selectEmail?null:c.selectEmail.name)}}function ie(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",102),C.ec()),2&e){var c=C.vc(2);C.Nb(1),C.Dc("src",c.baseFolder+"/"+(null==c.selectEmail?null:c.selectEmail.avatar),C.Wc)}}function ae(e,t){if(1&e&&(C.hc(0,"span"),C.dd(1),C.gc()),2&e){var c=t.$implicit;C.Nb(1),C.fd("",c.name,", ")}}function ne(e,t){if(1&e){var c=C.ic();C.hc(0,"li",111),C.hc(1,"img",112),C.rc("click",function(){C.Uc(c);var e=t.$implicit;return C.vc(3)._downloadFileResult(e)}),C.gc(),C.gc()}}function le(e,t){if(1&e&&(C.fc(0),C.hc(1,"div",71),C.hc(2,"h6",103),C.cc(3,"i",104),C.dd(4),C.wc(5,"translate"),C.gc(),C.hc(6,"a",105),C.cc(7,"i",106),C.dd(8),C.wc(9,"translate"),C.gc(),C.cc(10,"div",107),C.gc(),C.hc(11,"div",108),C.hc(12,"ul",109),C.bd(13,ne,2,0,"li",110),C.gc(),C.gc(),C.cc(14,"hr"),C.ec()),2&e){var c=C.vc(2);C.Nb(4),C.fd(" ",C.xc(5,3,"Attachment")," "),C.Nb(4),C.ed(C.xc(9,5,"All")),C.Nb(5),C.Dc("ngForOf",null==c.selectEmail?null:c.selectEmail.urls.data)}}function re(e,t){if(1&e){var c=C.ic();C.hc(0,"li"),C.hc(1,"a",100),C.rc("click",function(){C.Uc(c);var e=C.vc(2);return e.updateType(e.selectEmail,2)}),C.cc(2,"i",113),C.dd(3),C.wc(4,"translate"),C.gc(),C.gc()}2&e&&(C.Nb(3),C.ed(C.xc(4,1,"Delete")))}function se(e,t){if(1&e){var c=C.ic();C.hc(0,"li"),C.hc(1,"a",100),C.rc("click",function(){C.Uc(c);var e=C.vc(2);return e.updateType(e.selectEmail,null)}),C.cc(2,"i",114),C.dd(3),C.wc(4,"translate"),C.gc(),C.gc()}2&e&&(C.Nb(3),C.ed(C.xc(4,1,"Recall")))}function oe(e,t){1&e&&C.cc(0,"i",125)}function de(e,t){1&e&&(C.fc(0),C.dd(1),C.wc(2,"translate"),C.ec()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Processing")))}function ue(e,t){if(1&e){var c=C.ic();C.fc(0),C.cc(1,"hr"),C.hc(2,"div",2),C.hc(3,"div",115),C.hc(4,"div",54),C.hc(5,"div",116),C.hc(6,"input",117),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc(2).entitySubDID.content=e}),C.wc(7,"translate"),C.gc(),C.hc(8,"div",118),C.hc(9,"span",119),C.cc(10,"i",120),C.hc(11,"input",121,122),C.rc("change",function(e){C.Uc(c);var t=C.Rc(12);return C.vc(2).fileEvent1(e,t)}),C.gc(),C.gc(),C.hc(13,"span",123),C.rc("click",function(){C.Uc(c);var e=C.vc(2);return e.isSaveComment?null:e.submitComment(e.selectEmail)}),C.bd(14,oe,1,0,"i",124),C.bd(15,de,3,3,"ng-container",10),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.ec()}if(2&e){var i=C.vc(2);C.Nb(6),C.Ec("placeholder",C.xc(7,4,"Comment")),C.Dc("ngModel",i.entitySubDID.content),C.Nb(8),C.Dc("ngIf",!i.isSaveComment),C.Nb(1),C.Dc("ngIf",i.isSaveComment)}}var ge=function(e){return{"active show":e}};function fe(e,t){if(1&e){var c=C.ic();C.hc(0,"div",88),C.hc(1,"div",89),C.hc(2,"div",35),C.hc(3,"div",2),C.hc(4,"div",90),C.hc(5,"div",8),C.bd(6,ce,2,1,"ng-container",10),C.bd(7,ie,2,1,"ng-container",10),C.hc(8,"div",11),C.hc(9,"h6"),C.dd(10),C.hc(11,"small"),C.hc(12,"span",79),C.dd(13),C.wc(14,"date"),C.gc(),C.hc(15,"span",79),C.dd(16),C.wc(17,"date"),C.gc(),C.dd(18),C.wc(19,"date"),C.hc(20,"i",91),C.rc("click",function(){C.Uc(c);var e=C.vc();return e.updateType(e.selectEmail,1)}),C.gc(),C.gc(),C.gc(),C.hc(21,"p"),C.bd(22,ae,2,1,"span",92),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(23,"div",93),C.hc(24,"div",94),C.hc(25,"p",95),C.dd(26),C.gc(),C.hc(27,"i",96),C.rc("click",function(){C.Uc(c);var e=C.vc();return e.addFavourite(e.selectEmail)}),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(28,"div",52),C.cc(29,"p",97),C.cc(30,"hr"),C.bd(31,le,15,7,"ng-container",10),C.hc(32,"div",98),C.hc(33,"ul",99),C.hc(34,"li"),C.hc(35,"a",100),C.rc("click",function(){C.Uc(c);var e=C.vc();return e.flagReply=!e.flagReply}),C.cc(36,"i",101),C.dd(37),C.wc(38,"translate"),C.gc(),C.gc(),C.dc(39),C.bd(40,re,5,3,"li",10),C.bd(41,se,5,3,"li",10),C.gc(),C.gc(),C.bd(42,ue,16,6,"ng-container",10),C.gc(),C.gc(),C.gc()}if(2&e){var i=C.vc();C.Dc("ngClass",C.Ic(29,ge,!i.compose)),C.Nb(6),C.Dc("ngIf",null==(null==i.selectEmail?null:i.selectEmail.avatar)),C.Nb(1),C.Dc("ngIf",null!=(null==i.selectEmail?null:i.selectEmail.avatar)),C.Nb(3),C.fd(" ",null==i.selectEmail?null:i.selectEmail.title," "),C.Nb(3),C.fd("(",C.yc(14,18,null==i.selectEmail?null:i.selectEmail.timestamp,"dd/MM/yyyy"),")"),C.Nb(3),C.fd(" ",C.yc(17,21,null==i.selectEmail?null:i.selectEmail.timestamp,"h:mm"),""),C.Nb(2),C.fd(" ",C.yc(19,24,null==i.selectEmail?null:i.selectEmail.timestamp,"a")," "),C.Nb(2),C.Dc("ngClass",1==(null==i.selectEmail?null:i.selectEmail.type)?"icofont icofont-flag-alt-1 text-danger":"icofont icofont-flag-alt-1"),C.Nb(2),C.Dc("ngForOf",null==i.selectEmail?null:i.selectEmail.cc),C.Nb(4),C.ed(null==i.selectEmail?null:i.selectEmail.email),C.Nb(1),C.Tb("starred",i._flagFav),C.Nb(2),C.Dc("innerHTML",null==i.selectEmail?null:i.selectEmail.content,C.Vc),C.Nb(2),C.Dc("ngIf",null!=(null==i.selectEmail?null:i.selectEmail.urls)),C.Nb(6),C.ed(C.xc(38,27,"Reply")),C.Nb(3),C.Dc("ngIf",2!=(null==i.selectEmail?null:i.selectEmail.type)),C.Nb(1),C.Dc("ngIf",2==(null==i.selectEmail?null:i.selectEmail.type)),C.Nb(1),C.Dc("ngIf",i.flagReply)}}function he(e,t){if(1&e){var c=C.ic();C.hc(0,"li",111),C.hc(1,"img",112),C.rc("click",function(){C.Uc(c);var e=t.$implicit;return C.vc(3)._downloadFileResult(e)}),C.gc(),C.gc()}}var be=function(){return[]};function ve(e,t){if(1&e&&(C.hc(0,"tr"),C.hc(1,"td"),C.dd(2),C.gc(),C.hc(3,"td"),C.hc(4,"div",108),C.hc(5,"ul",109),C.bd(6,he,2,0,"li",110),C.gc(),C.gc(),C.gc(),C.hc(7,"td"),C.dd(8),C.gc(),C.hc(9,"td"),C.dd(10),C.wc(11,"date"),C.gc(),C.gc()),2&e){var c=t.$implicit;C.Nb(2),C.ed(c.content),C.Nb(4),C.Dc("ngForOf",null==c.urls?C.Hc(7,be):c.urls.data),C.Nb(2),C.ed(c.name),C.Nb(2),C.ed(C.yc(11,4,c.timestamp,"dd/MM/yyyy h:mm a"))}}function me(e,t){if(1&e&&(C.hc(0,"div",115),C.hc(1,"div",5),C.hc(2,"div",126),C.hc(3,"h4",127),C.dd(4),C.wc(5,"translate"),C.gc(),C.gc(),C.hc(6,"div",6),C.hc(7,"div",128),C.hc(8,"table",129),C.hc(9,"thead"),C.hc(10,"th"),C.dd(11),C.wc(12,"translate"),C.gc(),C.hc(13,"th"),C.dd(14),C.wc(15,"translate"),C.gc(),C.hc(16,"th"),C.dd(17),C.wc(18,"translate"),C.gc(),C.hc(19,"th"),C.dd(20),C.wc(21,"translate"),C.gc(),C.gc(),C.hc(22,"tbody"),C.bd(23,ve,12,8,"tr",92),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc()),2&e){var c=C.vc();C.Nb(4),C.fd(" ",C.xc(5,6,"Related information")," "),C.Nb(7),C.ed(C.xc(12,8,"Content")),C.Nb(3),C.ed(C.xc(15,10,"Attachement")),C.Nb(3),C.ed(C.xc(18,12,"Created by")),C.Nb(3),C.ed(C.xc(21,14,"CreatedDate")),C.Nb(3),C.Dc("ngForOf",c._children)}}var pe,_e=((pe=function(){function t(e,i,a,n,l,r,s,o,d,u,g){c(this,t),this._authenService=e,this._dataService=i,this._route=a,this._notifyService=n,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=o,this._utilyService=d,this.sanitizer=u,this._activatedRoute=g,this._id="",this.entity={},this.entitySub={},this.baseFolder=x.a.BASE_API,this._users=[],this.follow_users=[],this.related_users=[],this.ccList=[],this.flagShow=!1,this.filesToUpload=[],this.isSave=!1,this.getlist=[],this.getlistAll=[],this.flagReply=!1,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._children=[],this.entitySubDID={},this.filesToUpload1=[],this.isSaveComment=!1,this._flagFav=!1,this._flagAllowCC=!1,this.compose=!0,this.allEmails=w.a.Emails,this.selectedEmails=[],this.socket=D()(x.a.BASE_API)}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.user=this._authenService.getLoggedInUser(),this._activatedRoute.params.subscribe(function(t){e._id=t.id,e.loadUsersWithDept(e._id),e.loadData(),e.socket.on("refreshPage",function(e){})})}},{key:"loadUsersWithDept",value:function(t){var c=this,i={};i.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",i).subscribe(function(i){c._dataService.post("/tasks/detailCount",{id:t,userid:c.user.id}).subscribe(function(t){c.entity=t.data,c.related_users=null==t.data.related_users?[]:t.data.related_users.data;var a,n=[],l=e(t.data.related_users.data);try{for(l.s();!(a=l.n()).done;){var r=a.value;r.id!=c.user.id&&n.push({id:r.id,name:r.name})}}catch(v){l.e(v)}finally{l.f()}var s,o=null==t.data.follow_users?[]:JSON.parse(t.data.follow_users),d=e(o);try{var u=function(){var e=s.value;if(c.user.id!=e){var t=i.data.filter(function(t){return t.id==e})[0];n.push({id:e,name:t.name})}};for(d.s();!(s=d.n()).done;)u()}catch(v){d.e(v)}finally{d.f()}var g,f=[],h=e(o);try{var b=function(){var e=g.value;c.user.id==e&&(c._flagAllowCC=!0,c.compose=!1);var t=i.data.filter(function(t){return t.id==e})[0];f.push({id:e,name:t.name,avatar:t.avatar})};for(h.s();!(g=h.n()).done;)b()}catch(v){h.e(v)}finally{h.f()}c.ccList=f,c._users=n,c.socket.emit("refresh",{})})})}},{key:"loadDetail",value:function(t){var c=this;this._dataService.post("/tasks/detailCount",{id:t,userid:this.user.id}).subscribe(function(t){c.entity=t.data;var i,a=[],n=e(t.data.related_users.data);try{for(n.s();!(i=n.n()).done;){var l=i.value;l.id!=c.user.id&&a.push({id:l.id,name:l.name})}}catch(d){n.e(d)}finally{n.f()}var r,s=e(null==t.data.follow_users?[]:JSON.parse(t.data.follow_users));try{for(s.s();!(r=s.n()).done;){var o=r.value;c.user.id!=o&&a.push({id:o,name:null})}}catch(d){s.e(d)}finally{s.f()}c._users=a,c.socket.emit("refresh",{})})}},{key:"fileEvent",value:function(e,t){this.filesToUpload=e.target.files,this._files=t}},{key:"submit",value:function(){var e=this;this.entitySub.follow_users=this.flagShow?JSON.stringify(this.follow_users):null,this.isSave=!0,this.entitySub.id=this._id,this.entitySub.parent_id=null,this.entitySub.created_by=this.user.id,0==this.filesToUpload.length?this._dataService.post("/tasks/addDetail",this.entitySub).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?E.a.MSG_ADDNO_EN:E.a.MSG_ADDNO,"en"==e.user.lang?E.a.error_title_en:E.a.error_title):(e.entitySub={},e.entitySub.title=null,e.entitySub.content=null,e.follow_users=[],e.entitySub.follow_users=null,e.flagShow=!1,e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?E.a.MSG_ADD_EN:E.a.MSG_ADD,"OK"))},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==e.user.lang?E.a.error_title_en:E.a.error_title)}):this._processUploadDisagreeAfter(this.filesToUpload)}},{key:"_processUploadDisagreeAfter",value:function(e){var t=this,c={folder_name:"tasks"};c.id=this._id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+c.id+"/"+c.folder_name,e).subscribe(function(e){t.entitySub.urls={data:e.data},console.log(t.entitySub,e),t._dataService.post("/tasks/addDetail",t.entitySub).subscribe(function(e){t.isSave=!1,"failed"!=e.result&&(t._files.value=[],t._notifyService.showSuccess("en"==t.user.lang?E.a.MSG_ADD_EN:E.a.MSG_ADD,"OK"),t.socket.emit("refresh",{}))},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==t.user.lang?E.a.error_title_en:E.a.error_title)})},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==t.user.lang?E.a.error_title_en:E.a.error_title)})}},{key:"loadData",value:function(){var e=this;this._dataService.post("/tasks/getalltaskdetail",{userid:this.user.id,id:this._id}).subscribe(function(t){console.log("kq",t),e.getlist=t.data.filter(function(e){return 2!=e.type}),e.getlistAll=t.data})}},{key:"getUserEmail",value:function(t){var c=this;if("allmail"==t)return this.getlist;if("favourite"==t){var i,a=[],n=e(this.getlistAll.filter(function(e){return null!=e.favorites&&2!=e.type}));try{for(n.s();!(i=n.n()).done;){var l=i.value;l.favorites.data.filter(function(e){return e.id==c.user.id&&e.stat}).length>0&&a.push(l)}}catch(r){n.e(r)}finally{n.f()}return a}return"trash"===t?this.getlistAll.filter(function(e){return 2==e.type}):"draft"===t?this.getlistAll.filter(function(e){return(null==e.is_active||0==e.is_active)&&2!=e.type}):"important"===t?this.getlistAll.filter(function(e){return 1==e.type}):[]}},{key:"selectedUserEmail",value:function(e){var t=this;this.selectEmail=e,null!=this.selectEmail&&(this._flagFav=null!=this.selectEmail.favorites&&this.selectEmail.favorites.data.filter(function(e){return e.id==t.user.id&&e.stat}).length>0),this.compose=!1,this.loadSubData(e.did)}},{key:"selectedmail",value:function(e,t){var c=this;M.a.fire({title:"en"==this.user.lang?E.a.are_you_sure_complete_en:E.a.are_you_sure_complete,text:t.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?E.a.cancel_en:E.a.cancel,confirmButtonText:"en"==this.user.lang?E.a.confirmtext_en:E.a.confirmtext}).then(function(e){if(e.value){var i={};i.did=t.did,i.stat=!0,c._dataService.post("/tasks/updateStatus",i).subscribe(function(e){c._notifyService.showSuccess("en"==c.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK"),c.loadData()},function(){c._notifyService.showError("en"==c.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==c.user.lang?E.a.error_title_en:E.a.error_title)})}})}},{key:"moveEmails",value:function(e){e&&this.selectedEmails.filter(function(t){return t.type=e})}},{key:"addFavourite",value:function(e){console.log(e),this.updateFavorite(e.did,!this._flagFav)}},{key:"_downloadFileResult",value:function(e){window.open(x.a.BASE_API+"/"+e,"blank")}},{key:"loadSubData",value:function(e){var t=this;this._dataService.post("/tasks/getalltaskdetailbydid",{did:e,page:this.pageIndex,limit:this.pageSize}).subscribe(function(e){console.log(e),t._children=e.data,t.totalRow=e.rowCount,t.totalPage=e.totalPages})}},{key:"_createNew",value:function(){this.compose=!0,this._children=[]}},{key:"fileEvent1",value:function(e,t){this.filesToUpload1=e.target.files,this._files1=t}},{key:"submitComment",value:function(e){var t=this;this.isSaveComment=!0,this.entitySubDID.id=this._id,this.entitySubDID.parent_id=e.did,this.entitySubDID.created_by=this.user.id,this.entitySubDID.title="Re: "+e.title,0==this.filesToUpload1.length?this._dataService.post("/tasks/addDetail",this.entitySubDID).subscribe(function(c){t.isSaveComment=!1,t.flagReply=!1,"failed"===c.result?t._notifyService.showError("en"==t.user.lang?E.a.MSG_ADDNO_EN:E.a.MSG_ADDNO,"en"==t.user.lang?E.a.error_title_en:E.a.error_title):(t.entitySubDID={},t.loadSubData(e.did),t._notifyService.showSuccess("en"==t.user.lang?E.a.MSG_ADD_EN:E.a.MSG_ADD,"OK"))},function(){t.isSaveComment=!1,t.flagReply=!1,t._notifyService.showError("en"==t.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==t.user.lang?E.a.error_title_en:E.a.error_title)}):this._processUploadDisagreeAfter1(this.filesToUpload1,e.did)}},{key:"_processUploadDisagreeAfter1",value:function(e,t){var c=this,i={folder_name:"tasks"};i.id=this._id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,e).subscribe(function(e){c.entitySubDID.urls={data:e.data},c._dataService.post("/tasks/addDetail",c.entitySubDID).subscribe(function(e){c.isSaveComment=!1,c.flagReply=!1,"failed"!=e.result&&(c._files1.value=[],c._notifyService.showSuccess("en"==c.user.lang?E.a.MSG_ADD_EN:E.a.MSG_ADD,"OK"),c.loadSubData(t))},function(){c.isSaveComment=!1,c.flagReply=!1,c._notifyService.showError("en"==c.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==c.user.lang?E.a.error_title_en:E.a.error_title)})},function(){c.isSaveComment=!1,c.flagReply=!1,c._notifyService.showError("en"==c.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==c.user.lang?E.a.error_title_en:E.a.error_title)})}},{key:"updateFavorite",value:function(e,t){var c=this,i={};i.did=e,i.stat=t,i.userid=this.user.id,this._dataService.post("/tasks/updateFavorite",i).subscribe(function(t){"failed"===t.result?c._notifyService.showError("en"==c.user.lang?E.a.MSG_UPDATENO_EN:E.a.MSG_UPDATENO,"en"==c.user.lang?E.a.error_title_en:E.a.error_title):(c.compose=!0,c._children=[],c.selectEmail=t.data,c.loadData(),c.loadSubData(e),c._notifyService.showSuccess("en"==c.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK"))},function(){c._notifyService.showError("en"==c.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==c.user.lang?E.a.error_title_en:E.a.error_title)})}},{key:"updateType",value:function(e,t){var c=this;this.compose=!0,this._children=[];var i={};i.did=e.did,i.type=1==e.type?null:t,this._dataService.post("/tasks/updateTypes",i).subscribe(function(t){"failed"===t.result?c._notifyService.showError("en"==c.user.lang?E.a.MSG_UPDATENO_EN:E.a.MSG_UPDATENO,"en"==c.user.lang?E.a.error_title_en:E.a.error_title):(c.loadDetail(e.did),c.loadData(),c.loadSubData(e.did),c._notifyService.showSuccess("en"==c.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK"))},function(){c._notifyService.showError("en"==c.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==c.user.lang?E.a.error_title_en:E.a.error_title)})}}]),t}()).\u0275fac=function(e){return new(e||pe)(C.bc(d.a),C.bc(o.a),C.bc(S.d),C.bc(R.a),C.bc(s.a),C.bc(r.a),C.bc(I.a),C.bc(U.s),C.bc(O.a),C.bc(A.b),C.bc(S.a))},pe.\u0275cmp=C.Vb({type:pe,selectors:[["app-task-detail"]],decls:137,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-xl-3","col-md-6"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"email-app-sidebar"],[1,"media"],[1,"media-size-email"],[4,"ngIf"],[1,"media-body"],[1,"f-w-600"],[1,"customers","d-inline-block","avatar-group"],["class","d-inline-block",4,"ngFor","ngForOf"],["role","tablist",1,"nav","main-menu"],[1,"nav-item"],["routerLink","/tasks/requests","id","pills-darkhome-tab","data-toggle","pill","role","tab","aria-controls","pills-darkhome","aria-selected","true",1,"btn-primary","btn-block","btn-mail"],[1,"icofont","icofont-rounded-double-left","mr-2"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["href","javascript:void(0)","id","pills-darkprofile-tab","data-toggle","pill","role","tab","aria-controls","pills-darkprofile","aria-selected","false",1,"show"],[1,"title"],[1,"icon-info-alt"],[1,"badge","pull-right","digits"],[3,"click"],["href","javascript:void(0)"],[1,"icon-star"],[1,"icon-folder"],[1,"icon-pencil-alt"],[3,"ngClass"],[3,"click",4,"ngIf"],[1,"email-right-aside"],[1,"card","email-body"],[1,"pr-0","b-r-light"],[1,"email-top"],[1,"col"],[1,"col","text-right"],[1,"inbox",2,"max-height","630px !important"],["href","javascript:void(0)",4,"ngFor","ngForOf"],[1,"col-xl-6","col-md-12"],[1,"card","email-body","radius-left"],[1,"pl-0"],[1,"tab-content"],["id","pills-darkhome","role","tabpanel","aria-labelledby","pills-darkhome-tab",1,"tab-pane","fade",3,"ngClass"],[1,"email-compose"],[1,"email-top","compose-border"],[1,"col-sm-8","xl-50"],[1,"mb-0"],[1,"col-sm-4","btn-middle","xl-50"],["type","button",1,"btn","btn-primary","btn-block","btn-mail","text-center","mb-0","mt-0",3,"click"],[1,"fa","fa-paper-plane","mr-2"],[1,"email-wrapper"],[1,"theme-form"],[1,"form-group"],["for","title"],[1,"text-danger"],["id","title","type","text","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","chk-hidden",1,"d-block"],["id","chk-hidden","name","chk-hidden","type","checkbox",1,"checkbox_animated",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"form-group","mb-0"],["id","content",1,"text-muted"],["name","content","id","content","skin","moono-lisa","language","en",3,"ngModel","ngModelChange"],["for","filesToUpload",1,"col-form-label","pt-0"],["id","filesToUpload","name","filesToUpload","multiple","","type","file","accept",".pdf,.doc,.docx,.png,.jpg,jpeg",1,"form-control",3,"change"],["filesToUpload",""],["class","tab-pane fade","id","pills-darkprofile","role","tabpanel","aria-labelledby","pills-darkprofile-tab",3,"ngClass",4,"ngIf"],["class","col-md-12",4,"ngIf"],["src","../../../../assets/img/icon.png",1,"mr-3","rounded-circle","img-60",3,"alt"],[1,"mr-3","rounded-circle","img-60",3,"src","alt"],[1,"d-inline-block"],[1,"img-40","rounded-circle",3,"src","alt","ngbTooltip"],["src","../../../../assets/img/icon.png",1,"img-40","rounded-circle",3,"alt","ngbTooltip"],[1,"icon-trash"],["for","chk-ani",3,"ngClass"],["type","checkbox",1,"checkbox_animated",3,"id","name","ngModel","disabled","ngModelChange","change"],[1,"media-size-email",3,"click"],[3,"ngClass","click"],[1,"digits"],[3,"innerHtml"],[1,"mr-3","rounded-circle","img-50",3,"src","alt"],["src","../../../../assets/img/icon.png",1,"mr-3","rounded-circle","img-50",3,"alt"],[1,"search-not-found","text-center"],[1,""],["src","../../../../assets/images/search-not-found.png","alt","",1,"second-search"],["for","follower"],["name","_usersCc","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["id","pills-darkprofile","role","tabpanel","aria-labelledby","pills-darkprofile-tab",1,"tab-pane","fade",3,"ngClass"],[1,"email-content"],[1,"col-md-6","xl-100","col-sm-12"],[2,"cursor","pointer","font-size","16pt",3,"ngClass","click"],[4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12"],[1,"float-right","d-flex"],[1,"user-emailid"],[1,"fa","fa-star-o","f-18","mt-1",2,"cursor","pointer",3,"click"],[3,"innerHTML"],[1,"action-wrapper"],[1,"actions"],["href","javascript:void(0)",1,"text-muted",3,"click"],[1,"fa","fa-reply","mr-2"],["alt","image",1,"mr-3","rounded-circle","img-50",3,"src"],[1,"text-muted"],[1,"icofont","icofont-clip"],["href","javascript:void(0)",1,"text-muted","text-right","right-download"],[1,"fa","fa-long-arrow-down","mr-2"],[1,"clearfix"],[1,"attachment"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],["src","../../../../assets/files/ico_file.png",1,"img-fluid",2,"width","20px","height","25px","cursor","pointer",3,"click"],[1,"fa","fa-trash","mr-2"],[1,"fa","fa-recycle","mr-2"],[1,"col-md-12"],[1,"input-group"],["type","text","aria-label","Recipient's username","name","comment",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text","btn-file"],[1,"icofont","icofont-attachment"],["type","file","name","filesToUpload1","multiple","","type","file","accept",".pdf,.doc,.docx,.png,.jpg,jpeg",3,"change"],["filesToUpload1",""],[1,"input-group-text",3,"click"],["class","icofont icofont-save",4,"ngIf"],[1,"icofont","icofont-save"],[1,"card-header"],[1,"card-title","mb-0"],[1,"table-responsive"],[1,"table","card-table","table-vcenter","text-nowrap"]],template:function(e,t){if(1&e){var c=C.ic();C.hc(0,"div",0),C.hc(1,"div",1),C.hc(2,"div",2),C.hc(3,"div",3),C.hc(4,"div",4),C.hc(5,"div",5),C.hc(6,"div",6),C.hc(7,"div",7),C.hc(8,"div",8),C.hc(9,"div",9),C.bd(10,P,2,1,"ng-container",10),C.bd(11,j,2,2,"ng-container",10),C.gc(),C.hc(12,"div",11),C.hc(13,"h6",12),C.dd(14),C.gc(),C.hc(15,"p"),C.dd(16),C.gc(),C.gc(),C.gc(),C.hc(17,"div",8),C.hc(18,"div",11),C.hc(19,"p"),C.dd(20),C.wc(21,"translate"),C.gc(),C.hc(22,"p"),C.dd(23),C.wc(24,"translate"),C.gc(),C.hc(25,"p"),C.dd(26),C.wc(27,"translate"),C.gc(),C.hc(28,"div",13),C.hc(29,"ul"),C.bd(30,z,3,2,"li",14),C.gc(),C.gc(),C.bd(31,V,7,4,"ng-container",10),C.gc(),C.gc(),C.hc(32,"ul",15),C.hc(33,"li",16),C.hc(34,"a",17),C.cc(35,"i",18),C.dd(36),C.wc(37,"translate"),C.gc(),C.gc(),C.hc(38,"li"),C.cc(39,"hr"),C.gc(),C.bd(40,Y,6,3,"li",19),C.hc(41,"li",20),C.rc("click",function(){return t.getUserEmail(t.type="important")}),C.hc(42,"a",21),C.hc(43,"span",22),C.cc(44,"i",23),C.dd(45),C.wc(46,"translate"),C.gc(),C.hc(47,"span",24),C.dd(48),C.gc(),C.gc(),C.gc(),C.hc(49,"li",25),C.rc("click",function(){return t.getUserEmail(t.type="favourite")}),C.hc(50,"a",26),C.hc(51,"span",22),C.cc(52,"i",27),C.dd(53),C.wc(54,"translate"),C.gc(),C.hc(55,"span",24),C.dd(56),C.gc(),C.gc(),C.gc(),C.hc(57,"li",25),C.rc("click",function(){return t.getUserEmail(t.type="allmail")}),C.hc(58,"a",26),C.hc(59,"span",22),C.cc(60,"i",28),C.dd(61),C.wc(62,"translate"),C.gc(),C.hc(63,"span",24),C.dd(64),C.gc(),C.gc(),C.gc(),C.hc(65,"li",25),C.rc("click",function(){return t.getUserEmail(t.type="draft")}),C.hc(66,"a",26),C.hc(67,"span",22),C.cc(68,"i",29),C.dd(69),C.wc(70,"translate"),C.gc(),C.hc(71,"span",30),C.dd(72),C.gc(),C.gc(),C.gc(),C.bd(73,K,8,4,"li",31),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(74,"div",3),C.hc(75,"div",32),C.hc(76,"div",33),C.hc(77,"div",34),C.hc(78,"div",35),C.hc(79,"div",2),C.hc(80,"div",36),C.hc(81,"h5"),C.dd(82),C.wc(83,"translate"),C.wc(84,"titlecase"),C.gc(),C.gc(),C.cc(85,"div",37),C.gc(),C.gc(),C.hc(86,"div",38),C.bd(87,X,18,14,"a",39),C.wc(88,"slice"),C.bd(89,Z,7,3,"ng-container",10),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(90,"div",40),C.hc(91,"div",32),C.hc(92,"div",41),C.hc(93,"div",42),C.hc(94,"div",43),C.hc(95,"div",44),C.hc(96,"div",45),C.hc(97,"div",46),C.hc(98,"div",2),C.hc(99,"div",47),C.hc(100,"h4",48),C.dd(101),C.wc(102,"translate"),C.gc(),C.gc(),C.hc(103,"div",49),C.hc(104,"button",50),C.rc("click",function(){return t.isSave?null:t.submit()}),C.cc(105,"i",51),C.bd(106,Q,3,3,"ng-container",10),C.bd(107,ee,3,3,"ng-container",10),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(108,"div",52),C.hc(109,"form",53),C.hc(110,"div",54),C.hc(111,"label",55),C.dd(112),C.wc(113,"translate"),C.hc(114,"span",56),C.dd(115,"*"),C.gc(),C.gc(),C.hc(116,"input",57),C.rc("ngModelChange",function(e){return t.entitySub.title=e}),C.gc(),C.gc(),C.hc(117,"div",54),C.hc(118,"label",58),C.dd(119),C.wc(120,"translate"),C.wc(121,"translate"),C.gc(),C.hc(122,"input",59),C.rc("ngModelChange",function(e){return t.flagShow=e}),C.gc(),C.gc(),C.bd(123,te,7,15,"div",60),C.hc(124,"div",61),C.hc(125,"label",62),C.dd(126),C.wc(127,"translate"),C.gc(),C.hc(128,"ck-editor",63),C.rc("ngModelChange",function(e){return t.entitySub.content=e}),C.gc(),C.gc(),C.hc(129,"div",54),C.hc(130,"label",64),C.dd(131),C.wc(132,"translate"),C.gc(),C.hc(133,"input",65,66),C.rc("change",function(e){C.Uc(c);var i=C.Rc(134);return t.fileEvent(e,i)}),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.bd(135,fe,43,31,"div",67),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.bd(136,me,24,16,"div",68),C.gc(),C.gc(),C.gc()}2&e&&(C.Nb(10),C.Dc("ngIf",null==t.user.avatar),C.Nb(1),C.Dc("ngIf",null!=t.user.avatar),C.Nb(3),C.ed(t.user.name),C.Nb(2),C.ed(t.user.email),C.Nb(4),C.gd("",C.xc(21,41,"Title"),": ",t.entity.title,""),C.Nb(3),C.gd("",C.xc(24,43,"Content"),": ",t.entity.description,""),C.Nb(3),C.fd("",C.xc(27,45,"Assigned to"),":"),C.Nb(4),C.Dc("ngForOf",t.related_users),C.Nb(1),C.Dc("ngIf",t.ccList.length>0),C.Nb(5),C.fd(" ",C.xc(37,47,"Return")," "),C.Nb(4),C.Dc("ngIf",!t._flagAllowCC),C.Nb(5),C.fd(" ",C.xc(46,49,"Important"),""),C.Nb(3),C.fd("(",t.getUserEmail("important").length,")"),C.Nb(5),C.fd(" ",C.xc(54,51,"Favourite"),""),C.Nb(3),C.fd("(",t.getUserEmail("favourite").length,")"),C.Nb(5),C.fd(" ",C.xc(62,53,"All"),""),C.Nb(3),C.fd("(",t.getUserEmail("allmail").length,")"),C.Nb(5),C.fd(" ",C.xc(70,55,"Pending"),""),C.Nb(2),C.Dc("ngClass",0==t.getUserEmail("draft").length?"badge pull-right digits":"badge pull-right text-danger digits"),C.Nb(1),C.fd("(",t.getUserEmail("draft").length,")"),C.Nb(1),C.Dc("ngIf",!t._flagAllowCC),C.Nb(9),C.fd(" ",C.xc(83,57,t.type?C.xc(84,59,"allmail"==t.type?"All":t.type):"All")," "),C.Nb(5),C.Dc("ngForOf",C.zc(88,61,t.getUserEmail(t.type?t.type:"allmail"),0,7)),C.Nb(2),C.Dc("ngIf",!t.getUserEmail(t.type?t.type:"allmail").length),C.Nb(6),C.Dc("ngClass",C.Ic(77,ge,t.compose)),C.Nb(6),C.ed(C.xc(102,65,"New message")),C.Nb(5),C.Dc("ngIf",!t.isSave),C.Nb(1),C.Dc("ngIf",t.isSave),C.Nb(5),C.fd("",C.xc(113,67,"Title")," "),C.Nb(4),C.Dc("ngModel",t.entitySub.title),C.Nb(3),C.gd(" ",C.xc(120,69,"Shown")," / ",C.xc(121,71,"Hidden"),"?"),C.Nb(3),C.Dc("ngModel",t.flagShow),C.Nb(1),C.Dc("ngIf",t.flagShow),C.Nb(3),C.ed(C.xc(127,73,"Description")),C.Nb(2),C.Dc("ngModel",t.entitySub.content),C.Nb(3),C.ed(C.xc(132,75,"Attachment")),C.Nb(4),C.Dc("ngIf",null!=t.selectEmail),C.Nb(1),C.Dc("ngIf",t._children.length>0))},directives:[l.q,l.p,S.g,l.o,y.z,y.o,y.p,y.c,y.w,y.n,y.q,y.b,T.a,U.N,F.a],pipes:[G.c,l.z,l.y,l.f],styles:[".btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;text-align:right;opacity:0;outline:none;background:#fff;cursor:pointer;display:block}"]}),pe),ye=n("wd/R");function Se(e,t){1&e&&C.cc(0,"img",31)}function we(e,t){1&e&&(C.fc(0),C.hc(1,"tr"),C.hc(2,"td",32),C.hc(3,"h3",33),C.dd(4),C.wc(5,"translate"),C.gc(),C.gc(),C.gc(),C.ec()),2&e&&(C.Nb(4),C.fd(" ",C.xc(5,1,"No records now!!!")," "))}function Ne(e,t){if(1&e&&(C.fc(0),C.dd(1),C.wc(2,"date"),C.ec()),2&e){var c=C.vc().$implicit;C.Nb(1),C.ed(C.yc(2,1,c.valid_date,"dd/MM/yyyy HH:mm"))}}function De(e,t){1&e&&(C.fc(0),C.dd(1),C.wc(2,"translate"),C.ec()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Indefinite")))}function xe(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",44),C.ec()),2&e){var c=C.vc().$implicit,i=C.vc(2);C.Nb(1),C.Ec("alt",c.name),C.Dc("src",i.baseFolder+"/"+c.avatar,C.Wc)("ngbTooltip",c.name)}}function Ee(e,t){if(1&e&&(C.fc(0),C.cc(1,"img",45),C.ec()),2&e){var c=C.vc().$implicit;C.Nb(1),C.Ec("alt",c.name),C.Dc("ngbTooltip",c.name)}}function ke(e,t){if(1&e&&(C.hc(0,"li",43),C.bd(1,xe,2,3,"ng-container",28),C.bd(2,Ee,2,2,"ng-container",28),C.gc()),2&e){var c=t.$implicit;C.Nb(1),C.Dc("ngIf",null!=c.avatar),C.Nb(1),C.Dc("ngIf",null==c.avatar)}}function Me(e,t){1&e&&(C.hc(0,"span",46),C.dd(1),C.wc(2,"translate"),C.gc()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Opening")))}function Ce(e,t){1&e&&(C.hc(0,"span",47),C.dd(1),C.wc(2,"translate"),C.gc()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Completed")))}function Re(e,t){1&e&&(C.hc(0,"span",48),C.dd(1),C.wc(2,"translate"),C.gc()),2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Cancel")))}function Ie(e,t){if(1&e){var c=C.ic();C.hc(0,"button",52),C.rc("click",function(){C.Uc(c);var e=C.vc(2).$implicit;return C.vc().deleteItem(e)}),C.wc(1,"translate"),C.cc(2,"i",53),C.gc()}2&e&&C.Dc("ngbTooltip",C.xc(1,1,"Delete"))}function Ue(e,t){if(1&e){var c=C.ic();C.fc(0),C.hc(1,"button",49),C.rc("click",function(){C.Uc(c);var e=C.vc().$implicit,t=C.vc(),i=C.Rc(78);return t._openModal(i,e)}),C.wc(2,"translate"),C.cc(3,"i",50),C.gc(),C.bd(4,Ie,3,3,"button",51),C.ec()}if(2&e){var i=C.vc().$implicit;C.Nb(1),C.Dc("ngbTooltip",C.xc(2,2,"Edit")),C.Nb(3),C.Dc("ngIf",0==i.is_active)}}function Oe(e,t){if(1&e){var c=C.ic();C.fc(0),C.hc(1,"tr"),C.hc(2,"td",27),C.dd(3),C.gc(),C.hc(4,"td",27),C.hc(5,"a",34),C.dd(6),C.gc(),C.gc(),C.hc(7,"td",27),C.bd(8,Ne,3,4,"ng-container",28),C.bd(9,De,3,3,"ng-container",28),C.gc(),C.hc(10,"td",27),C.hc(11,"div",35),C.hc(12,"ul"),C.bd(13,ke,3,2,"li",36),C.gc(),C.gc(),C.gc(),C.hc(14,"td",37),C.rc("click",function(){C.Uc(c);var e=t.$implicit,i=C.vc();return 0==e.is_active?i._addReminder(e):null}),C.cc(15,"i",38),C.wc(16,"translate"),C.hc(17,"span",39),C.dd(18),C.gc(),C.gc(),C.hc(19,"td",27),C.dd(20),C.wc(21,"translate"),C.gc(),C.hc(22,"td",27),C.bd(23,Me,3,3,"span",40),C.bd(24,Ce,3,3,"span",41),C.bd(25,Re,3,3,"span",42),C.gc(),C.hc(26,"td",27),C.bd(27,Ue,5,4,"ng-container",28),C.gc(),C.gc(),C.ec()}if(2&e){var i=t.$implicit,a=t.index,n=C.vc();C.Nb(3),C.fd(" ",a+1," "),C.Nb(2),C.Fc("routerLink","/tasks/requests/detail/",i.id,""),C.Nb(1),C.ed(i.title),C.Nb(2),C.Dc("ngIf",null!=i.valid_date),C.Nb(1),C.Dc("ngIf",null==i.valid_date),C.Nb(4),C.Dc("ngForOf",i.related_users.data),C.Nb(2),C.Dc("ngbTooltip",C.xc(16,15,"Reminder")),C.Nb(3),C.ed(null==i.reminder?0:i.reminder),C.Nb(2),C.hd(" ",C.xc(21,17,"Viewed")," (",i.count_view,"/",i.total_users,") "),C.Nb(3),C.Dc("ngIf",0==i.is_active),C.Nb(1),C.Dc("ngIf",1==i.is_active),C.Nb(1),C.Dc("ngIf",2==i.is_active),C.Nb(2),C.Dc("ngIf",i.created_by==n.user.id)}}function Ae(e,t){if(1&e){var c=C.ic();C.hc(0,"a",74),C.rc("click",function(){return C.Uc(c),C.vc(2).turnOnFlagCC()}),C.dd(1),C.wc(2,"translate"),C.gc()}2&e&&(C.Nb(1),C.ed(C.xc(2,1,"Cc")))}function Te(e,t){if(1&e){var c=C.ic();C.hc(0,"div",60),C.hc(1,"label",75),C.dd(2),C.wc(3,"translate"),C.gc(),C.hc(4,"ng-select",76),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc(2).follow_users=e}),C.wc(5,"translate"),C.wc(6,"translate"),C.gc(),C.gc()}if(2&e){var i=C.vc(2);C.Nb(2),C.ed(C.xc(3,10,"Followers")),C.Nb(2),C.Dc("items",i._usersCc)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",i.follow_users)("placeholder",C.xc(5,12,"Please choose"))("notFoundText",C.xc(6,14,"Not found item"))("disabled",0!=i.entity.is_active)}}function Fe(e,t){1&e&&(C.fc(0),C.hc(1,"a",77),C.cc(2,"img",78),C.dd(3),C.wc(4,"translate"),C.gc(),C.ec()),2&e&&(C.Nb(3),C.fd(" ",C.xc(4,1,"Processing")," "))}function Ge(e,t){if(1&e){var c=C.ic();C.hc(0,"button",80),C.rc("click",function(){return C.Uc(c),C.vc(3).saveChange()}),C.dd(1),C.wc(2,"translate"),C.gc()}2&e&&(C.Nb(1),C.fd(" ",C.xc(2,1,"Save")," "))}function Pe(e,t){if(1&e&&(C.fc(0),C.bd(1,Ge,3,3,"button",79),C.ec()),2&e){var c=C.vc(2);C.Nb(1),C.Dc("ngIf",!c.isSave)}}var je=function(){return{dateInputFormat:"DD-MM-YYYY HH:mm",containerClass:"theme-dark-blue"}};function Le(e,t){if(1&e){var c=C.ic();C.hc(0,"div",54),C.hc(1,"h4",55),C.dd(2),C.wc(3,"translate"),C.gc(),C.hc(4,"button",56),C.rc("click",function(){return t.$implicit.dismiss("Cross click")}),C.hc(5,"span",57),C.dd(6,"\xd7"),C.gc(),C.gc(),C.gc(),C.hc(7,"div",58),C.hc(8,"div",59),C.hc(9,"div",60),C.hc(10,"label",61),C.dd(11),C.wc(12,"translate"),C.hc(13,"span",33),C.dd(14,"*"),C.gc(),C.gc(),C.hc(15,"input",62),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc().entity.title=e}),C.gc(),C.gc(),C.hc(16,"div",60),C.hc(17,"label",63),C.dd(18),C.wc(19,"translate"),C.hc(20,"span",33),C.dd(21,"*"),C.gc(),C.gc(),C.hc(22,"textarea",64),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc().entity.description=e}),C.gc(),C.gc(),C.hc(23,"div",60),C.hc(24,"label",65),C.dd(25),C.wc(26,"translate"),C.hc(27,"span",66),C.dd(28,"*"),C.gc(),C.bd(29,Ae,3,3,"a",67),C.gc(),C.hc(30,"ng-select",68),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc().related_users=e})("change",function(){return C.Uc(c),C.vc().changeUserCC()}),C.wc(31,"translate"),C.wc(32,"translate"),C.gc(),C.gc(),C.bd(33,Te,7,16,"div",69),C.hc(34,"div",60),C.hc(35,"label",70),C.dd(36),C.wc(37,"translate"),C.gc(),C.hc(38,"input",71),C.rc("ngModelChange",function(e){return C.Uc(c),C.vc().jdate=e})("bsValueChange",function(e){return C.Uc(c),C.vc().orgValueChange(e)}),C.wc(39,"translate"),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(40,"div",72),C.hc(41,"button",73),C.rc("click",function(){return t.$implicit.dismiss("Cross click")}),C.dd(42),C.wc(43,"translate"),C.gc(),C.bd(44,Fe,5,3,"ng-container",28),C.bd(45,Pe,2,1,"ng-container",28),C.gc()}if(2&e){var i=C.vc();C.Nb(2),C.gd(" ",C.xc(3,28,"ADD"==i._flagModal?"Add new":"Update")," ",i._title," "),C.Nb(9),C.fd("",C.xc(12,30,"Title")," "),C.Nb(4),C.Dc("ngModel",i.entity.title)("disabled",0!=i.entity.is_active),C.Nb(3),C.fd("",C.xc(19,32,"Content")," "),C.Nb(4),C.Dc("ngModel",i.entity.description)("disabled",0!=i.entity.is_active),C.Nb(3),C.fd("",C.xc(26,34,"Assigned to")," "),C.Nb(4),C.Dc("ngIf",0==i.entity.is_active),C.Nb(1),C.Dc("items",i._users)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",i.related_users)("placeholder",C.xc(31,36,"Please choose"))("notFoundText",C.xc(32,38,"Not found item"))("disabled",0!=i.entity.is_active),C.Nb(3),C.Dc("ngIf",i.flagCc),C.Nb(3),C.ed(C.xc(37,40,"Valid date")),C.Nb(2),C.Dc("placeholder",C.xc(39,42,"Indefinite"))("ngModel",i.jdate)("bsConfig",C.Hc(46,je))("disabled",0!=i.entity.is_active),C.Nb(4),C.fd(" ",C.xc(43,44,"Close")," "),C.Nb(2),C.Dc("ngIf",i.isSave),C.Nb(1),C.Dc("ngIf",0==i.entity.is_active)}}var $e,ze,qe,He=[{path:"",children:[{path:"requests",component:($e=function(){function t(e,i,a,n,l,r,s,o,d,u){c(this,t),this._authenService=e,this._dataService=i,this._route=a,this._notifyService=n,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=o,this._utilyService=d,this.sanitizer=u,this._keyword="",this.baseFolder=x.a.BASE_API,this._isLoading=!1,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._requestslist=[],this._title="",this._flagModal="ADD",this.isSave=!1,this.entity={},this.related_users=[],this.follow_users=[],this._users=[],this._usersCc=[],this.jdate=null,this.flagCc=!1,this.socket=D()(x.a.BASE_API)}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.user=this._authenService.getLoggedInUser(),this.loadData(),this.loadUsersWithDept(),this.socket.on("refreshPage",function(t){e.loadData()})}},{key:"loadData",value:function(){var t=this;this._isLoading=!0;var c={};c.page=this.pageIndex,c.limit=this.pageSize,c.filter=this._keyword,c.userid=this.user.id,this._dataService.post("/tasks/getall",c).subscribe(function(c){var i,a=[],n=e(c.data);try{for(n.s();!(i=n.n()).done;){var l=i.value,r=l.related_users.data.filter(function(e){return e.is_view}).length;l.count_view=r,l.total_users=l.related_users.data.length,a.push(l)}}catch(s){n.e(s)}finally{n.f()}t._requestslist=a,t.totalRow=c.rowCount,t.totalPage=c.totalPages,t._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}},{key:"loadUsersWithDept",value:function(){var t=this,c={};c.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",c).subscribe(function(c){console.log(c),t._users=c.data;var i=[];if(null!=t.entity.follow_users){var a,n=e(t._users);try{var l=function(){var e=a.value;null!=t.entity.follow_users&&0==JSON.parse(t.entity.follow_users).filter(function(t){return t==e.id}).length&&i.push(e)};for(n.s();!(a=n.n()).done;)l()}catch(r){n.e(r)}finally{n.f()}t._usersCc=i}else t._usersCc=t._users})}},{key:"changeUserCC",value:function(){var t=this;if(console.log("Before",this.related_users,this.follow_users),0==this.related_users.length)this.entity.related_users=null;else{var c,i=[],a=[],n=e(this.related_users);try{var l=function(){var e=c.value,n=t._users.filter(function(t){return t.id==e})[0];i.push({id:e,name:n.name,avatar:n.avatar,is_view:!1}),a.push(e)};for(n.s();!(c=n.n()).done;)l()}catch(u){n.e(u)}finally{n.f()}this.entity.related_users={data:i},this.entity.joined_users=0==a.length?null:JSON.stringify(a)}var r,s=[],o=e(this._users);try{var d=function(){var e=r.value;0==t.related_users.filter(function(t){return t==e.id}).length&&s.push(e)};for(o.s();!(r=o.n()).done;)d()}catch(u){o.e(u)}finally{o.f()}this._usersCc=s}},{key:"turnOnFlagCC",value:function(){var t=this;if(this.flagCc=!this.flagCc,this.flagCc){var c,i=[],a=e(this._users);try{var n=function(){var e=c.value;0==t.related_users.filter(function(t){return t==e.id}).length&&i.push(e)};for(a.s();!(c=a.n()).done;)n()}catch(l){a.e(l)}finally{a.f()}this._usersCc=i}}},{key:"_openModal",value:function(e,t){null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.description=null,this.related_users=[],this.entity.related_users={data:[]},this.follow_users=[],this.jdate=null,this.entity.valid_date=null,this.entity.is_active=0,this.entity.created_by=this.user.id):(this._flagModal="UPDATE",this.loadDetailById(t.id)),this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}},{key:"loadDetailById",value:function(t){var c=this;this._dataService.post("/tasks/detail",{id:t}).subscribe(function(t){c.entity=t.data;var i,a=[],n=e(t.data.related_users.data);try{for(n.s();!(i=n.n()).done;){var l=i.value;a.push(l.id)}}catch(u){n.e(u)}finally{n.f()}if(c.related_users=a,null!=t.data.valid_date&&(c.jdate=new Date(t.data.valid_date),c.entity.valid_date=ye(new Date(c.jdate)).format("DD/MM/YYYY HH:mm")),null!=t.data.follow_users){c.flagCc=!0,c.follow_users=JSON.parse(t.data.follow_users);var r,s=[],o=e(c._users);try{var d=function(){var e=r.value;0==t.data.related_users.data.filter(function(t){return t.id==e.id}).length&&s.push(e)};for(o.s();!(r=o.n()).done;)d()}catch(u){o.e(u)}finally{o.f()}c._usersCc=s}else c.flagCc=!1,c.follow_users=[]})}},{key:"orgValueChange",value:function(e){null!=e&&"Invalid date"!=e?(this.jdate=e,this.entity.valid_date=ye(this.jdate).format("YYYY-MM-DD HH:mm")):(this.jdate=null,this.entity.valid_date=null)}},{key:"saveChange",value:function(){var e=this;this.entity.follow_users=0==this.follow_users.length?null:JSON.stringify(this.follow_users),this.isSave=!0,"ADD"==this._flagModal?this._dataService.post("/tasks/add",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?E.a.MSG_ADDNO_EN:E.a.MSG_ADDNO,"en"==e.user.lang?E.a.error_title_en:E.a.error_title):(e.socket.emit("refresh",{}),e._notifyService.showSuccess("en"==e.user.lang?E.a.MSG_ADD_EN:E.a.MSG_ADD,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==e.user.lang?E.a.error_title_en:E.a.error_title)}):this._dataService.post("/tasks/update",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?E.a.MSG_UPDATENO_EN:E.a.MSG_UPDATENO,"en"==e.user.lang?E.a.error_title_en:E.a.error_title):(e.socket.emit("refresh",{}),e._notifyService.showSuccess("en"==e.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==e.user.lang?E.a.error_title_en:E.a.error_title)})}},{key:"_addReminder",value:function(e){var t=this;M.a.fire({title:"en"==this.user.lang?E.a.are_you_sure2send_en:E.a.are_you_sure2send,text:e.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?E.a.cancel_en:E.a.cancel,confirmButtonText:"en"==this.user.lang?E.a.confirmtext_en:E.a.confirmtext}).then(function(c){c.value&&t._dataService.post("/tasks/addReminder",{id:e.id}).subscribe(function(e){t._notifyService.showSuccess("en"==t.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK"),t.socket.emit("refresh",{})},function(){t._notifyService.showError("en"==t.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==t.user.lang?E.a.error_title_en:E.a.error_title)})})}},{key:"deleteItem",value:function(e){var t=this;M.a.fire({title:"en"==this.user.lang?E.a.are_you_sure_cancel_en:E.a.are_you_sure_cancel,text:e.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?E.a.cancel_en:E.a.cancel,confirmButtonText:"en"==this.user.lang?E.a.confirmtext_en:E.a.confirmtext}).then(function(c){c.value&&(e.is_active=2,t._dataService.post("/tasks/update",e).subscribe(function(e){t.socket.emit("refresh",{}),t._notifyService.showSuccess("en"==t.user.lang?E.a.MSG_UPDATE_EN:E.a.MSG_UPDATE,"OK")},function(){t._notifyService.showError("en"==t.user.lang?E.a.MSG_ERROR_EN:E.a.MSG_ERROR,"en"==t.user.lang?E.a.error_title_en:E.a.error_title)}))})}}]),t}(),$e.\u0275fac=function(e){return new(e||$e)(C.bc(d.a),C.bc(o.a),C.bc(S.d),C.bc(R.a),C.bc(s.a),C.bc(r.a),C.bc(I.a),C.bc(U.s),C.bc(O.a),C.bc(A.b))},$e.\u0275cmp=C.Vb({type:$e,selectors:[["app-task-request"]],decls:79,vars:72,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],["src","../../../../assets/img/loading.gif","width","25px",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"form-control","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["popupWorkModal",""],["src","../../../../assets/img/loading.gif","width","25px"],["colspan","8",2,"text-align","center"],[1,"text-danger"],["href","javascript:;",1,"text-danger",3,"routerLink"],[1,"customers","d-inline-block","avatar-group"],["class","d-inline-block",4,"ngFor","ngForOf"],[1,"text-truncate",2,"cursor","pointer",3,"click"],[1,"fa","fa-bell-o",2,"font-size","14pt",3,"ngbTooltip"],[1,"badge-pill","badge-danger"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"d-inline-block"],[1,"img-40","rounded-circle",3,"src","alt","ngbTooltip"],["src","../../../../assets/img/icon.png",1,"img-40","rounded-circle",3,"alt","ngbTooltip"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"btn","btn-sm","btn-warning","mr-sm-1",3,"ngbTooltip","click"],[1,"icofont","icofont-pencil-alt-5"],["class","btn btn-sm btn-danger mr-sm-1",3,"ngbTooltip","click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","mr-sm-1",3,"ngbTooltip","click"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"col-md-12"],["for","title"],["type","text","name","title","id","title","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","description"],["id","description","rows","3","name","description","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","assignedto"],[1,"text-danger","mr-sm-2"],["href","javascript:;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["name","_users","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["class","col-md-12",4,"ngIf"],["for","validdate"],["type","text","name","jdate","bsDatepicker","","autocomplete","off","required","",1,"form-control",3,"placeholder","ngModel","bsConfig","disabled","ngModelChange","bsValueChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["for","follower"],["name","_usersCc","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var c=C.ic();C.hc(0,"div",0),C.hc(1,"div",1),C.hc(2,"div",2),C.hc(3,"div",3),C.hc(4,"div",4),C.hc(5,"div",1),C.hc(6,"div",5),C.hc(7,"div",6),C.hc(8,"input",7),C.rc("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),C.wc(9,"translate"),C.gc(),C.hc(10,"button",8),C.rc("click",function(){C.Uc(c);var e=C.Rc(78);return t._openModal(e,null)}),C.dd(11),C.wc(12,"translate"),C.gc(),C.bd(13,Se,1,0,"img",9),C.gc(),C.gc(),C.hc(14,"div",10),C.hc(15,"div",11),C.hc(16,"select",12),C.rc("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),C.hc(17,"option",13),C.dd(18,"#10"),C.gc(),C.hc(19,"option",14),C.dd(20,"#25"),C.gc(),C.hc(21,"option",15),C.dd(22,"#50"),C.gc(),C.hc(23,"option",16),C.dd(24,"#100"),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(25,"div",17),C.hc(26,"div",18),C.hc(27,"div",19),C.hc(28,"div",20),C.hc(29,"pagination",21),C.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),C.gc(),C.gc(),C.hc(30,"div",22),C.hc(31,"a",23),C.dd(32),C.wc(33,"translate"),C.wc(34,"translate"),C.wc(35,"translate"),C.wc(36,"translate"),C.gc(),C.gc(),C.gc(),C.gc(),C.hc(37,"div",24),C.hc(38,"table",25),C.hc(39,"thead"),C.hc(40,"th",26),C.dd(41,"#"),C.gc(),C.hc(42,"th",27),C.dd(43),C.wc(44,"translate"),C.gc(),C.hc(45,"th",27),C.dd(46),C.wc(47,"translate"),C.gc(),C.hc(48,"th",27),C.dd(49),C.wc(50,"translate"),C.gc(),C.hc(51,"th",27),C.dd(52),C.wc(53,"translate"),C.gc(),C.hc(54,"th",27),C.dd(55),C.wc(56,"translate"),C.gc(),C.hc(57,"th",27),C.dd(58),C.wc(59,"translate"),C.gc(),C.hc(60,"th",27),C.dd(61),C.wc(62,"translate"),C.gc(),C.gc(),C.hc(63,"tbody"),C.bd(64,we,6,3,"ng-container",28),C.bd(65,Oe,28,19,"ng-container",29),C.gc(),C.gc(),C.gc(),C.hc(66,"div",18),C.hc(67,"div",19),C.hc(68,"div",20),C.hc(69,"pagination",21),C.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),C.gc(),C.gc(),C.hc(70,"div",22),C.hc(71,"a",23),C.dd(72),C.wc(73,"translate"),C.wc(74,"translate"),C.wc(75,"translate"),C.wc(76,"translate"),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.gc(),C.bd(77,Le,46,47,"ng-template",null,30,C.cd)}2&e&&(C.Nb(8),C.Dc("placeholder",C.xc(9,38,"Search"))("ngModel",t._keyword),C.Nb(3),C.fd(" ",C.xc(12,40,"Add new request")," "),C.Nb(2),C.Dc("ngIf",t._isLoading),C.Nb(3),C.Dc("ngModel",t.pageSize),C.Nb(13),C.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),C.Nb(3),C.id("",C.xc(33,42,"Total of records"),": ",t.totalRow," - ",C.xc(34,44,"Page")," ",t.pageIndex," ",C.xc(35,46,"of")," ",t.totalPage," ",C.xc(36,48,"page"),""),C.Nb(11),C.ed(C.xc(44,50,"Title")),C.Nb(3),C.fd(" ",C.xc(47,52,"Valid date")," "),C.Nb(3),C.fd(" ",C.xc(50,54,"Assigned to")," "),C.Nb(3),C.fd(" ",C.xc(53,56,"Reminder")," "),C.Nb(3),C.fd(" ",C.xc(56,58,"Joined")," "),C.Nb(3),C.ed(C.xc(59,60,"Status")),C.Nb(3),C.ed(C.xc(62,62,"Actions")),C.Nb(3),C.Dc("ngIf",0==t._requestslist.length),C.Nb(1),C.Dc("ngForOf",t._requestslist),C.Nb(4),C.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),C.Nb(3),C.id("",C.xc(73,64,"Total of records"),": ",t.totalRow," - ",C.xc(74,66,"Page")," ",t.pageIndex," ",C.xc(75,68,"of")," ",t.totalPage," ",C.xc(76,70,"page"),""))},directives:[y.c,y.n,y.q,l.q,y.x,y.r,y.A,b.a,l.p,S.g,U.N,y.w,F.a,v.b,v.a],pipes:[G.c,l.f],styles:[""]}),$e),data:{title:"Requests",breadcrumb:"Requests"}},{path:"requests/detail/:id",component:_e,data:{title:"Details",breadcrumb:"Details"}}]}],Be=((ze=function e(){c(this,e)}).\u0275mod=C.Zb({type:ze}),ze.\u0275inj=C.Yb({factory:function(e){return new(e||ze)},imports:[[S.h.forChild(He)],S.h]}),ze),Ve=n("arFO"),Ye=n("tmjD"),Ke=n("Kdsb"),We=n("g9iH"),Je=n("UkRs"),Xe=n("VXpv"),Ze=n("IkSl"),Qe=((qe=function e(){c(this,e)}).\u0275mod=C.Zb({type:qe}),qe.\u0275inj=C.Yb({factory:function(e){return new(e||qe)},providers:[d.a,o.a,s.a,r.a,G.d,I.a],imports:[[l.c,Be,y.k,_.a,p.b,G.b,m.a,v.c.forRoot(),b.b.forRoot(),h.a.forRoot(),f.a.forRoot(),We.b,g.a,u.a,Ve.a,U.u,F.b,Ye.b.forRoot(),Ke.c,Je.c,T.b,Xe.b,Ze.b]]}),qe)}}])}();