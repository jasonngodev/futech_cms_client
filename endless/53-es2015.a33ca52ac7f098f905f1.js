(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{PG0K:function(e,t,i){"use strict";i.r(t),i.d(t,"SubmissionsModule",function(){return di});var n=i("ofXK"),c=i("VToC"),s=i("25+x"),a=i("cplz"),l=i("7dP1"),o=i("bmg4"),r=i("44PX"),d=i("K3ix"),h=i("+Cnu"),u=i("Lm2G"),g=i("hzby"),f=i("dZIy"),b=i("LPYB"),_=i("oOf3"),p=i("3Pt+"),m=i("tyNb"),v=i("gFX4"),y=i.n(v),S=i("CMKA"),N=i("piOG"),D=i("PSD3"),w=i.n(D),M=i("fXoL"),x=i("3t6R"),I=i("REEf"),E=i("1kSV"),C=i("qeeY"),U=i("jhN1"),A=i("ZOsW"),R=i("tmjD"),k=i("eLGb"),P=i("VXpv"),G=i("IkSl"),O=i("sYmb");const T=["ckeEditor"],F=["ckeEditor1"],j=["combo"],$=["attached_file"],B=["attached_file1"];function z(e,t){1&e&&(M.hc(0,"div",37),M.hc(1,"button",38),M.cc(2,"i",39),M.dd(3),M.wc(4,"translate"),M.gc(),M.hc(5,"div",40),M.hc(6,"button",41),M.cc(7,"i",42),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"button",41),M.cc(11,"i",43),M.dd(12),M.wc(13,"translate"),M.gc(),M.hc(14,"button",41),M.cc(15,"i",44),M.dd(16),M.wc(17,"translate"),M.gc(),M.hc(18,"button",41),M.cc(19,"i",45),M.dd(20),M.wc(21,"translate"),M.gc(),M.gc(),M.gc()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,5,"Category")," "),M.Nb(5),M.fd(" ",M.xc(9,7,"Type of profile")," "),M.Nb(4),M.fd(" ",M.xc(13,9,"Profile group")," "),M.Nb(4),M.fd(" ",M.xc(17,11,"Type of document")," "),M.Nb(4),M.fd(" ",M.xc(21,13,"Manager Unit")," "))}function q(e,t){1&e&&(M.fc(0),M.hc(1,"tr"),M.hc(2,"td",46),M.hc(3,"h3",47),M.dd(4),M.wc(5,"translate"),M.gc(),M.gc(),M.gc(),M.ec()),2&e&&(M.Nb(4),M.fd(" ",M.xc(5,1,"No records now!!!")," "))}function H(e,t){1&e&&(M.hc(0,"span",56),M.cc(1,"i",57),M.gc())}function K(e,t){if(1&e&&(M.hc(0,"li"),M.dd(1),M.bd(2,H,2,0,"span",50),M.cc(3,"br"),M.hc(4,"small",49),M.dd(5),M.gc(),M.gc()),2&e){const e=t.$implicit,i=t.index,n=M.vc(2);M.Nb(1),M.gd(" ",i+1,".",e.user.name," "),M.Nb(1),M.Dc("ngIf",e.show),M.Nb(3),M.ed("en"==n.user.lang?e.user.dept_name_e:e.user.dept_name_l)}}function L(e,t){1&e&&(M.hc(0,"span",56),M.cc(1,"i",57),M.gc())}function V(e,t){if(1&e&&(M.fc(0),M.dd(1),M.wc(2,"date"),M.ec()),2&e){const e=M.vc().$implicit;M.Nb(1),M.fd("",M.yc(2,1,e.logs.timestamp,"dd/MM/yyyy HH:mm a")," ")}}function Y(e,t){1&e&&(M.hc(0,"span",58),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Draft")))}function W(e,t){1&e&&(M.hc(0,"span",59),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Processing")))}function Q(e,t){1&e&&(M.hc(0,"span",60),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Recall")))}function X(e,t){1&e&&(M.hc(0,"span",61),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Completed")))}function Z(e,t){1&e&&(M.hc(0,"span",62),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Cancel")))}function J(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"tr",48),M.rc("click",function(){M.Uc(e);const i=t.$implicit,n=M.vc(),c=M.Rc(83);return n._openModal(c,i)}),M.hc(2,"td",26),M.dd(3),M.gc(),M.hc(4,"td",26),M.dd(5),M.cc(6,"br"),M.hc(7,"small",49),M.dd(8),M.wc(9,"translate"),M.gc(),M.gc(),M.hc(10,"td",26),M.dd(11),M.wc(12,"date"),M.cc(13,"br"),M.hc(14,"small",49),M.dd(15),M.wc(16,"translate"),M.gc(),M.gc(),M.hc(17,"td",26),M.hc(18,"ul"),M.bd(19,K,6,4,"li",28),M.gc(),M.gc(),M.hc(20,"td",26),M.dd(21),M.bd(22,L,2,0,"span",50),M.cc(23,"br"),M.hc(24,"small",49),M.dd(25),M.gc(),M.gc(),M.hc(26,"td",26),M.bd(27,V,3,4,"ng-container",27),M.gc(),M.hc(28,"td",26),M.bd(29,Y,3,3,"span",51),M.bd(30,W,3,3,"span",52),M.bd(31,Q,3,3,"span",53),M.bd(32,X,3,3,"span",54),M.bd(33,Z,3,3,"span",55),M.gc(),M.gc(),M.ec()}if(2&e){const e=t.$implicit,i=t.index,n=M.vc();M.Nb(3),M.fd(" ",i+1," "),M.Nb(2),M.fd(" ",e.title,""),M.Nb(3),M.gd("",M.xc(9,17,"Code"),": ",e.code,""),M.Nb(3),M.fd(" ",M.yc(12,19,e.timestamp,"dd/MM/yyyy HH:mm"),""),M.Nb(4),M.gd("",M.xc(16,22,"Created by"),": ",e.name,""),M.Nb(4),M.Dc("ngForOf",e.reviews),M.Nb(2),M.fd(" ",e.approve.user.name," "),M.Nb(1),M.Dc("ngIf",e.approve.show),M.Nb(3),M.ed("en"==n.user.lang?e.approve.user.dept_name_e:e.approve.user.dept_name_l),M.Nb(2),M.Dc("ngIf",null!=e.logs),M.Nb(2),M.Dc("ngIf",0==e.is_active),M.Nb(1),M.Dc("ngIf",1==e.is_active),M.Nb(1),M.Dc("ngIf",2==e.is_active),M.Nb(1),M.Dc("ngIf",3==e.is_active),M.Nb(1),M.Dc("ngIf",4==e.is_active)}}function ee(e,t){if(1&e){const e=M.ic();M.hc(0,"button",71),M.rc("click",function(){return M.Uc(e),M.vc(2)._chooseButton(2)}),M.dd(1),M.wc(2,"translate"),M.gc()}if(2&e){const e=M.vc(2);M.Dc("ngClass",2==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(1),M.fd(" ",M.xc(2,2,"Timeline")," ")}}function te(e,t){if(1&e){const e=M.ic();M.hc(0,"button",71),M.rc("click",function(){return M.Uc(e),M.vc(2)._chooseButton(3)}),M.cc(1,"i",77),M.dd(2),M.wc(3,"translate"),M.gc()}if(2&e){const e=M.vc(2);M.Dc("ngClass",3==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(2),M.fd(" ",M.xc(3,2,"History")," ")}}function ie(e,t){if(1&e){const e=M.ic();M.hc(0,"button",71),M.rc("click",function(){return M.Uc(e),M.vc(2)._chooseButton(4)}),M.cc(1,"i",78),M.dd(2),M.wc(3,"translate"),M.gc()}if(2&e){const e=M.vc(2);M.Dc("ngClass",4==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(2),M.fd(" ",M.xc(3,2,"Comments")," ")}}function ne(e,t){if(1&e){const e=M.ic();M.fc(0),M.dd(1,"- "),M.hc(2,"a",113),M.rc("click",function(){M.Uc(e);const t=M.vc(3),i=M.Rc(85);return t._popupProfile(i,null)}),M.cc(3,"i",15),M.gc(),M.ec()}}function ce(e,t){if(1&e&&(M.hc(0,"div",114),M.dd(1),M.wc(2,"slice"),M.gc()),2&e){const e=t.item;M.Dc("ngbTooltip",e.title.length>25?e.title:""),M.Nb(1),M.fd(" ",e.title.length>25?M.zc(2,2,e.title,0,20)+"..":e.title," ")}}function se(e,t){if(1&e){const e=M.ic();M.hc(0,"input",115),M.rc("change",function(t){return M.Uc(e),M.vc(3).toggleCheckAll(t)}),M.gc(),M.dd(1),M.wc(2,"translate")}if(2&e){const e=M.vc(3);M.Dc("ngModel",e.checkAllIDs),M.Nb(1),M.fd(" ",M.xc(2,2,"Choose all")," ")}}function ae(e,t){if(1&e){const e=M.ic();M.hc(0,"div",118),M.hc(1,"span",119),M.dd(2),M.gc(),M.hc(3,"span",120),M.rc("click",function(){M.Uc(e);const i=t.$implicit;return(0,M.vc().clear)(i)}),M.dd(4,"\xd7"),M.gc(),M.gc()}if(2&e){const e=t.$implicit;M.Nb(2),M.gd("",e.name,"",e.login,"")}}function le(e,t){if(1&e&&(M.hc(0,"div",118),M.hc(1,"span",119),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e){const e=M.vc().items;M.Nb(2),M.gd("",e.length-2," ",M.xc(3,2,"more"),"...")}}function oe(e,t){if(1&e&&(M.bd(0,ae,5,2,"div",116),M.wc(1,"slice"),M.bd(2,le,4,4,"div",117)),2&e){const e=t.items;M.Dc("ngForOf",M.zc(1,2,e,0,2)),M.Nb(2),M.Dc("ngIf",e.length>2)}}function re(e,t){if(1&e&&(M.cc(0,"input",121),M.dd(1)),2&e){const e=t.item,i=t.item$;M.Fc("id","item-",t.index,""),M.Dc("checked",i.selected),M.Nb(1),M.fd(" ",e.name," ")}}function de(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"ck-editor",122,123),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(3).entity.content=t})("change",function(){M.Uc(e);const t=M.vc(3);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.gc(),M.ec()}if(2&e){const e=M.vc(3);M.Nb(1),M.Dc("ngModel",e.entity.content)("fullPage",!0)("config",e.ckEditorConfig)}}function he(e,t){if(1&e&&M.cc(0,"p",124),2&e){const e=M.vc(3);M.Dc("innerHtml",e._displayContent,M.Vc)}}function ue(e,t){if(1&e){const e=M.ic();M.fc(0),M.dd(1,"- "),M.hc(2,"a",125),M.rc("click",function(){M.Uc(e);const t=M.vc(3),i=M.Rc(95);return t.openViewDoc(i,t._originFile)}),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(3),M.ed(M.xc(4,1,"Download file")))}function ge(e,t){if(1&e){const e=M.ic();M.hc(0,"input",126,127),M.rc("change",function(t){M.Uc(e);const i=M.Rc(1);return M.vc(3).fileEvent(t,i)}),M.gc()}}function fe(e,t){if(1&e){const e=M.ic();M.hc(0,"i",130),M.rc("click",function(){M.Uc(e);const t=M.vc(4);return t.removeAttachment(t.entity.id,t.entity.attached_file,0)}),M.gc()}}function be(e,t){if(1&e){const e=M.ic();M.hc(0,"div",110),M.hc(1,"img",128),M.rc("click",function(){M.Uc(e);const t=M.vc(3),i=M.Rc(95);return t.openViewDoc(i,t._originFile)}),M.gc(),M.hc(2,"span",56),M.bd(3,fe,1,0,"i",129),M.gc(),M.gc()}if(2&e){const e=M.vc(3);M.Nb(3),M.Dc("ngIf",0==e.entity.is_active)}}function _e(e,t){if(1&e){const e=M.ic();M.hc(0,"input",131,132),M.rc("change",function(t){M.Uc(e);const i=M.Rc(1);return M.vc(3).fileEventMore(t,i)}),M.gc()}}function pe(e,t){if(1&e){const e=M.ic();M.hc(0,"span",134),M.hc(1,"i",130),M.rc("click",function(){M.Uc(e);const t=M.vc().$implicit,i=M.vc(3);return i.removeAttachment(i.entity.id,t,1)}),M.gc(),M.gc()}}function me(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"img",128),M.rc("click",function(){M.Uc(e);const t=M.vc(3),i=M.Rc(95);return t.openViewDoc(i,t._originFile)}),M.gc(),M.bd(2,pe,2,0,"span",133),M.ec()}if(2&e){const e=M.vc(3);M.Nb(2),M.Dc("ngIf",0==e.entity.is_active)}}function ve(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.ed(e.order)}}function ye(e,t){if(1&e){const e=M.ic();M.hc(0,"input",138),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.order=t})("change",function(){M.Uc(e);const t=M.vc(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.gc()}if(2&e){const e=M.vc(),t=e.index,i=e.$implicit;M.Fc("name","orderno",t+1,""),M.Fc("id","orderno",t+1,""),M.Dc("ngModel",i.order)}}function Se(e,t){1&e&&(M.hc(0,"span",56),M.cc(1,"i",57),M.gc())}function Ne(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.bd(2,Se,2,0,"span",50),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.fd("",e.user.name," "),M.Nb(1),M.Dc("ngIf",e.show)}}function De(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"nz-tree-select",139),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(4)._selectUser=t})("ngModelChange",function(){M.Uc(e);const t=M.vc().$implicit,i=M.vc(3);return i._getUserNew(t,i._selectUser)}),M.wc(2,"translate"),M.gc(),M.ec()}if(2&e){const e=M.vc(4);M.Nb(1),M.Ec("nzPlaceHolder",M.xc(2,4,"Please choose")),M.Dc("nzExpandedKeys",e.expandKeys1)("nzNodes",e._getusers)("ngModel",e._selectUser)}}function we(e,t){if(1&e&&(M.fc(0),M.dd(1),M.cc(2,"br"),M.hc(3,"small",49),M.dd(4),M.gc(),M.ec()),2&e){const e=M.vc().$implicit,t=M.vc(3);M.Nb(1),M.fd(" ","en"==t.user.lang?e.user.title_name_e:e.user.title_name_l,""),M.Nb(3),M.ed("en"==t.user.lang?e.user.dept_name_e:e.user.dept_name_l)}}function Me(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Only view")))}function xe(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Passed signature")))}function Ie(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Reviewed signature")))}function Ee(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Approved signature")))}function Ce(e,t){if(1&e&&(M.fc(0),M.bd(1,Me,3,3,"span",27),M.bd(2,xe,3,3,"span",27),M.bd(3,Ie,3,3,"span",27),M.bd(4,Ee,3,3,"span",27),M.ec()),2&e){const e=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",0==e.role),M.Nb(1),M.Dc("ngIf",1==e.role),M.Nb(1),M.Dc("ngIf",2==e.role),M.Nb(1),M.Dc("ngIf",3==e.role)}}function Ue(e,t){if(1&e){const e=M.ic();M.hc(0,"select",140),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.role=t})("change",function(){M.Uc(e);const t=M.vc(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.hc(1,"option",88),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"option",89),M.dd(5),M.wc(6,"translate"),M.gc(),M.hc(7,"option",90),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"option",91),M.dd(11),M.wc(12,"translate"),M.gc(),M.gc()}if(2&e){const e=M.vc(),t=e.$implicit;M.Fc("name","r",e.index+1,""),M.Dc("ngModel",t.role),M.Nb(2),M.ed(M.xc(3,6,"Only view")),M.Nb(3),M.fd(" ",M.xc(6,8,"Passed signature")," "),M.Nb(3),M.fd(" ",M.xc(9,10,"Reviewed signature")," "),M.Nb(3),M.fd(" ",M.xc(12,12,"Approved signature")," ")}}function Ae(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.ed(e.time)}}function Re(e,t){if(1&e){const e=M.ic();M.hc(0,"input",138),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.time=t})("change",function(){M.Uc(e);const t=M.vc(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.gc()}if(2&e){const e=M.vc(),t=e.index,i=e.$implicit;M.Fc("name","timer",t+1,""),M.Fc("id","timer",t+1,""),M.Dc("ngModel",i.time)}}function ke(e,t){if(1&e){const e=M.ic();M.hc(0,"a",141),M.rc("click",function(){M.Uc(e);const t=M.vc().$implicit;return M.vc(3).removeItemNew(t)}),M.cc(1,"i",142),M.gc()}}function Pe(e,t){if(1&e&&(M.hc(0,"tr"),M.hc(1,"td",26),M.bd(2,ve,2,1,"span",27),M.bd(3,ye,1,3,"input",135),M.gc(),M.hc(4,"td",26),M.bd(5,Ne,3,2,"span",27),M.bd(6,De,3,6,"ng-container",27),M.gc(),M.hc(7,"td",26),M.bd(8,we,5,2,"ng-container",27),M.gc(),M.hc(9,"td",26),M.bd(10,Ce,5,4,"ng-container",27),M.bd(11,Ue,13,14,"select",136),M.gc(),M.hc(12,"td",26),M.bd(13,Ae,2,1,"span",27),M.bd(14,Re,1,3,"input",135),M.gc(),M.hc(15,"td",26),M.bd(16,ke,2,0,"a",137),M.gc(),M.gc()),2&e){const e=t.$implicit,i=M.vc(3);M.Nb(2),M.Dc("ngIf",0!=i.entity.is_active),M.Nb(1),M.Dc("ngIf",0==i.entity.is_active),M.Nb(2),M.Dc("ngIf",e.flag||null!=e.user),M.Nb(1),M.Dc("ngIf",null==e.user),M.Nb(2),M.Dc("ngIf",null!=e.user),M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag),M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag),M.Nb(2),M.Dc("ngIf",!e.allow)}}function Ge(e,t){if(1&e){const e=M.ic();M.hc(0,"tfoot"),M.hc(1,"tr"),M.cc(2,"td",143),M.hc(3,"td",26),M.hc(4,"a",144),M.rc("click",function(){return M.Uc(e),M.vc(3).addItemNew()}),M.cc(5,"i",15),M.gc(),M.gc(),M.gc(),M.gc()}}function Oe(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"div",79),M.hc(2,"label",80),M.dd(3),M.wc(4,"translate"),M.hc(5,"span",47),M.dd(6,"(*)"),M.gc(),M.gc(),M.hc(7,"input",81),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2).entity.title=t})("change",function(){M.Uc(e);const t=M.vc(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.gc(),M.gc(),M.hc(8,"div",79),M.hc(9,"label",82),M.dd(10),M.wc(11,"translate"),M.hc(12,"span",47),M.dd(13,"(*)"),M.gc(),M.bd(14,ne,4,0,"ng-container",27),M.gc(),M.hc(15,"ng-select",83),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2).entity.profile_cat_id=t})("change",function(){M.Uc(e);const t=M.vc(2);return t._diagramChange(t.entity.profile_cat_id)}),M.wc(16,"translate"),M.wc(17,"translate"),M.bd(18,ce,3,6,"ng-template",84),M.gc(),M.gc(),M.hc(19,"div",85),M.hc(20,"label",86),M.dd(21),M.wc(22,"translate"),M.gc(),M.hc(23,"select",87),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2).entity.critical_level=t})("change",function(){M.Uc(e);const t=M.vc(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.hc(24,"option",88),M.dd(25),M.wc(26,"translate"),M.gc(),M.hc(27,"option",89),M.dd(28),M.wc(29,"translate"),M.gc(),M.hc(30,"option",90),M.dd(31),M.wc(32,"translate"),M.gc(),M.hc(33,"option",91),M.dd(34),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",85),M.hc(37,"label",92),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"select",93),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2).entity.priority_level=t})("change",function(){M.Uc(e);const t=M.vc(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.hc(41,"option",88),M.dd(42),M.wc(43,"translate"),M.gc(),M.hc(44,"option",89),M.dd(45),M.wc(46,"translate"),M.gc(),M.hc(47,"option",90),M.dd(48),M.wc(49,"translate"),M.gc(),M.hc(50,"option",91),M.dd(51),M.wc(52,"translate"),M.gc(),M.gc(),M.gc(),M.hc(53,"div",94),M.hc(54,"label",95),M.dd(55),M.wc(56,"translate"),M.gc(),M.hc(57,"ng-select",96,97),M.rc("blur",function(){return M.Uc(e),M.vc(2).onTouched()})("change",function(){M.Uc(e);const t=M.vc(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),M.wc(59,"translate"),M.wc(60,"translate"),M.bd(61,se,3,4,"ng-template",98),M.bd(62,oe,3,6,"ng-template",99),M.bd(63,re,2,3,"ng-template",84),M.gc(),M.gc(),M.hc(64,"div",79),M.hc(65,"label",100),M.dd(66),M.wc(67,"translate"),M.gc(),M.hc(68,"input",101),M.rc("change",function(){M.Uc(e);const t=M.vc(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null})("ngModelChange",function(t){return M.Uc(e),M.vc(2).entity.estimated_cost=t}),M.gc(),M.gc(),M.hc(69,"div",70),M.hc(70,"label",102),M.dd(71),M.wc(72,"translate"),M.gc(),M.bd(73,de,3,3,"ng-container",27),M.bd(74,he,1,1,"p",103),M.gc(),M.hc(75,"div",70),M.hc(76,"label",104),M.dd(77),M.wc(78,"translate"),M.bd(79,ue,5,3,"ng-container",27),M.gc(),M.bd(80,ge,2,0,"input",105),M.hc(81,"input",106),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2).entityUpload.fileUpload=t}),M.gc(),M.bd(82,be,4,1,"div",107),M.gc(),M.hc(83,"div",70),M.hc(84,"label",108),M.dd(85),M.wc(86,"translate"),M.gc(),M.bd(87,_e,2,0,"input",109),M.hc(88,"div",110),M.bd(89,me,3,1,"ng-container",28),M.gc(),M.gc(),M.hc(90,"div",70),M.hc(91,"label",111),M.dd(92),M.wc(93,"translate"),M.gc(),M.hc(94,"div",23),M.hc(95,"table",112),M.hc(96,"thead"),M.hc(97,"th",26),M.dd(98),M.wc(99,"translate"),M.gc(),M.hc(100,"th",26),M.dd(101),M.wc(102,"translate"),M.gc(),M.hc(103,"th",26),M.dd(104),M.wc(105,"translate"),M.gc(),M.hc(106,"th",26),M.dd(107),M.wc(108,"translate"),M.gc(),M.hc(109,"th",26),M.dd(110),M.wc(111,"translate"),M.gc(),M.hc(112,"th",26),M.dd(113),M.wc(114,"translate"),M.gc(),M.gc(),M.hc(115,"tbody"),M.bd(116,Pe,17,10,"tr",28),M.gc(),M.bd(117,Ge,6,0,"tfoot",27),M.gc(),M.gc(),M.gc(),M.ec()}if(2&e){const e=M.vc(2);M.Nb(3),M.fd("",M.xc(4,62,"Title")," "),M.Nb(4),M.Dc("ngModel",e.entity.title)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),M.Nb(3),M.fd("",M.xc(11,64,"Type of profile")," "),M.Nb(4),M.Dc("ngIf",0==e.entity.is_active),M.Nb(1),M.Dc("items",e._profiles)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",e.entity.profile_cat_id)("placeholder",M.xc(16,66,"Please choose"))("notFoundText",M.xc(17,68,"Not found item"))("disabled",0!=e.entity.is_active),M.Nb(6),M.ed(M.xc(22,70,"Critical level")),M.Nb(2),M.Dc("ngModel",e.entity.critical_level)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),M.Nb(2),M.ed(M.xc(26,72,"Normal")),M.Nb(3),M.ed(M.xc(29,74,"Important")),M.Nb(3),M.ed(M.xc(32,76,"Very important")),M.Nb(3),M.ed(M.xc(35,78,"Urgent")),M.Nb(4),M.ed(M.xc(39,80,"Priority level")),M.Nb(2),M.Dc("ngModel",e.entity.priority_level)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),M.Nb(2),M.ed(M.xc(43,82,"Normal")),M.Nb(3),M.ed(M.xc(46,84,"Hurry up")),M.Nb(3),M.ed(M.xc(49,86,"Urgent")),M.Nb(3),M.ed(M.xc(52,88,"Very urgent")),M.Nb(4),M.ed(M.xc(56,90,"Related requests")),M.Nb(2),M.Dc("multiple",!0)("items",e.related_requests)("closeOnSelect",!1)("placeholder",M.xc(59,92,"Please choose"))("notFoundText",M.xc(60,94,"Not found item"))("ngModel",e.entity.related_ids)("disabled",0!=e.entity.is_active),M.Nb(9),M.fd("",M.xc(67,96,"Estimated cost")," (VND)"),M.Nb(2),M.Dc("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("ngModel",e.entity.estimated_cost)("disabled",0!=e.entity.is_active),M.Nb(3),M.ed(M.xc(72,98,"Content")),M.Nb(2),M.Dc("ngIf",0==e.entity.is_active),M.Nb(1),M.Dc("ngIf",0!=e.entity.is_active),M.Nb(3),M.fd("",M.xc(78,100,"Attachment (if any)")," (.doc,.docx,.pdf) "),M.Nb(2),M.Dc("ngIf",null!=e._originFile),M.Nb(1),M.Dc("ngIf",0==e.entity.is_active&&null==e.entity.attached_file),M.Nb(1),M.Dc("ngModel",e.entityUpload.fileUpload),M.Nb(1),M.Dc("ngIf",null!=e.entity.attached_file),M.Nb(3),M.fd("",M.xc(86,102,"More attachment (if any)")," (.doc,.docx,.pdf) "),M.Nb(2),M.Dc("ngIf",0==e.entity.is_active),M.Nb(2),M.Dc("ngForOf",e.other_attached_files),M.Nb(3),M.ed(M.xc(93,104,"Handling staff")),M.Nb(6),M.fd(" ",M.xc(99,106,"Processing no.")," "),M.Nb(3),M.ed(M.xc(102,108,"Fullname")),M.Nb(3),M.ed(M.xc(105,110,"Title1")),M.Nb(3),M.ed(M.xc(108,112,"Method1")),M.Nb(3),M.ed(M.xc(111,114,"Time")),M.Nb(3),M.ed(M.xc(114,116,"Actions")),M.Nb(3),M.Dc("ngForOf",e.handling_users),M.Nb(1),M.Dc("ngIf",0==e.entity.is_active)}}function Te(e,t){1&e&&(M.hc(0,"div",149),M.hc(1,"h4",47),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"No records now!!!")," "))}function Fe(e,t){1&e&&M.cc(0,"img",153)}function je(e,t){if(1&e&&(M.fc(0),M.dd(1),M.wc(2,"date"),M.wc(3,"date"),M.ec()),2&e){const e=M.vc().$implicit;M.Nb(1),M.gd(", ",M.yc(2,2,e.timestamp,"HH:mm a")," - ",M.yc(3,5,e.timestamp,"dd/MM/yyyy"),"")}}function $e(e,t){if(1&e&&(M.hc(0,"div",149),M.hc(1,"div"),M.bd(2,Fe,1,0,"img",150),M.gc(),M.hc(3,"div",151),M.hc(4,"h6"),M.dd(5),M.hc(6,"span",152),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.wc(10,"translate"),M.bd(11,je,4,8,"ng-container",27),M.gc(),M.gc()),2&e){const e=t.$implicit;M.Nb(1),M.Qb("timeline-round m-r-30 timeline-line-1 ",null!=e.timestamp?"":e.flag?"bg-info":"bg-warning",""),M.Nb(1),M.Dc("ngIf",null!=e.timestamp),M.Nb(3),M.fd(" ",e.user.name," "),M.Nb(2),M.ed(M.yc(8,8,e.timestamp,"dd/MM/yyyy HH:mm")),M.Nb(2),M.fd(" ",M.xc(10,11,e.content),""),M.Nb(2),M.Dc("ngIf",null!=e.timestamp)}}function Be(e,t){if(1&e&&(M.hc(0,"div",145),M.cc(1,"hr"),M.hc(2,"div",2),M.hc(3,"div",6),M.hc(4,"div",146),M.bd(5,Te,4,3,"div",147),M.bd(6,$e,12,13,"div",148),M.gc(),M.gc(),M.gc(),M.gc()),2&e){const e=M.vc(2);M.Nb(5),M.Dc("ngIf",0==e._diagrams.length),M.Nb(1),M.Dc("ngForOf",e._diagrams)}}function ze(e,t){1&e&&(M.hc(0,"div",149),M.hc(1,"h4",47),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"No records now!!!")," "))}function qe(e,t){if(1&e&&(M.fc(0),M.hc(1,"small",49),M.dd(2),M.wc(3,"translate"),M.wc(4,"translate"),M.gc(),M.cc(5,"br"),M.ec()),2&e){const e=M.vc().$implicit;M.Nb(2),M.gd("",M.xc(3,2,"Messages"),": ",M.xc(4,4,e.messages),"")}}function He(e,t){if(1&e&&(M.fc(0),M.hc(1,"small",49),M.dd(2),M.wc(3,"translate"),M.gc(),M.cc(4,"br"),M.ec()),2&e){const e=M.vc().$implicit;M.Nb(2),M.gd("",M.xc(3,2,"Content"),": ",e.content,"")}}function Ke(e,t){if(1&e&&(M.hc(0,"small",49),M.dd(1),M.wc(2,"translate"),M.wc(3,"translate"),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.gd("",M.xc(2,2,"Approved cost"),": ",M.xc(3,4,e.approved_cost),"")}}function Le(e,t){if(1&e&&(M.hc(0,"div",149),M.hc(1,"div",154),M.cc(2,"img",153),M.gc(),M.hc(3,"div",151),M.hc(4,"h6"),M.dd(5),M.hc(6,"span",152),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.bd(9,qe,6,6,"ng-container",27),M.bd(10,He,5,4,"ng-container",27),M.bd(11,Ke,4,6,"small",155),M.gc(),M.gc()),2&e){const e=t.$implicit;M.Nb(5),M.fd(" ",e.user.name," "),M.Nb(2),M.ed(M.yc(8,5,e.timestamp,"dd/MM/yyyy HH:mm")),M.Nb(2),M.Dc("ngIf",null!=e.messages),M.Nb(1),M.Dc("ngIf",null!=e.content),M.Nb(1),M.Dc("ngIf",null!=e.approved_cost)}}function Ve(e,t){if(1&e&&(M.hc(0,"div",70),M.cc(1,"hr"),M.hc(2,"div",2),M.hc(3,"div",6),M.hc(4,"div",146),M.bd(5,ze,4,3,"div",147),M.bd(6,Le,12,8,"div",148),M.gc(),M.gc(),M.gc(),M.gc()),2&e){const e=M.vc(2);M.Nb(5),M.Dc("ngIf",0==e._histories.length),M.Nb(1),M.Dc("ngForOf",e._histories)}}function Ye(e,t){if(1&e&&(M.fc(0),M.cc(1,"img",174),M.ec()),2&e){const e=M.vc(2).$implicit,t=M.vc(3);M.Nb(1),M.Dc("src",t.baseFolder+"/"+e.avatar,M.Wc)}}function We(e,t){1&e&&(M.fc(0),M.cc(1,"img",175),M.ec())}function Qe(e,t){if(1&e&&(M.hc(0,"div",170),M.bd(1,Ye,2,1,"ng-container",27),M.bd(2,We,2,0,"ng-container",27),M.hc(3,"div",171),M.hc(4,"small",172),M.dd(5),M.gc(),M.hc(6,"span",173),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",null!=e.avatar&&""!=e.avatar),M.Nb(1),M.Dc("ngIf",null==e.avatar||""==e.avatar),M.Nb(3),M.fd("",e.name,","),M.Nb(2),M.ed(M.yc(8,5,null==e?null:e.timestamp,"dd/MM/yyyy HH:mm a")),M.Nb(2),M.fd(" ",null==e?null:e.messages," ")}}function Xe(e,t){if(1&e&&(M.fc(0),M.cc(1,"img",178),M.ec()),2&e){const e=M.vc(2).$implicit,t=M.vc(3);M.Nb(1),M.Dc("src",t.baseFolder+"/"+e.avatar,M.Wc)}}function Ze(e,t){1&e&&(M.fc(0),M.cc(1,"img",179),M.ec())}function Je(e,t){if(1&e&&(M.hc(0,"div",176),M.bd(1,Xe,2,1,"ng-container",27),M.bd(2,Ze,2,0,"ng-container",27),M.hc(3,"div",177),M.hc(4,"small",172),M.dd(5),M.gc(),M.hc(6,"span",173),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",null!=e.avatar&&""!=e.avatar),M.Nb(1),M.Dc("ngIf",null==e.avatar||""==e.avatar),M.Nb(3),M.fd("",e.name,","),M.Nb(2),M.ed(M.yc(8,5,null==e?null:e.timestamp,"dd/MM/yyyy HH:mm a")),M.Nb(2),M.fd(" ",null==e?null:e.messages," ")}}const et=function(e){return{clearfix:e}};function tt(e,t){if(1&e&&(M.hc(0,"li",167),M.bd(1,Qe,10,8,"div",168),M.bd(2,Je,10,8,"ng-template",null,169,M.cd),M.gc()),2&e){const e=t.$implicit,i=M.Rc(3),n=M.vc(3);M.Dc("ngClass",M.Ic(3,et,e.depended_id==n.user.id)),M.Nb(1),M.Dc("ngIf",e.depended_id!=n.user.id)("ngIfElse",i)}}function it(e,t){1&e&&(M.fc(0),M.hc(1,"div",180),M.hc(2,"div",181),M.cc(3,"img",182),M.gc(),M.gc(),M.ec())}function nt(e,t){if(1&e){const e=M.ic();M.hc(0,"div",70),M.hc(1,"div",2),M.hc(2,"div",6),M.hc(3,"div",156),M.hc(4,"div",157),M.hc(5,"div",158),M.hc(6,"div",159),M.hc(7,"input",160),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(2)._contents=t})("change",function(){return M.Uc(e),M.vc(2)._addChat()}),M.wc(8,"translate"),M.gc(),M.hc(9,"ul",161),M.hc(10,"li",162),M.hc(11,"a",163),M.cc(12,"i",164),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(13,"div",165),M.hc(14,"ul"),M.bd(15,tt,4,5,"li",166),M.bd(16,it,4,0,"ng-container",27),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc()}if(2&e){const e=M.vc(2);M.Nb(7),M.Fc("placeholder","",M.xc(8,4,"Enter content"),"..."),M.Dc("ngModel",e._contents),M.Nb(8),M.Dc("ngForOf",e.chats),M.Nb(1),M.Dc("ngIf",!(null!=e.chats&&e.chats.length))}}function ct(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"button",185),M.rc("click",function(){return M.Uc(e),M.vc(3).cancelSubmission()}),M.dd(2),M.wc(3,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Cancel")," "))}function st(e,t){if(1&e){const e=M.ic();M.fc(0),M.hc(1,"button",186),M.rc("click",function(){M.Uc(e);const t=M.vc(4),i=M.Rc(97);return t.disagreeSubmission(i,"disagree")}),M.dd(2),M.wc(3,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Disagree")," "))}function at(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function lt(e,t){if(1&e){const e=M.ic();M.hc(0,"button",190),M.rc("click",function(){return M.Uc(e),M.vc(5).submissionChange(0)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Save")," "))}function ot(e,t){if(1&e&&(M.fc(0),M.bd(1,lt,3,3,"button",189),M.ec()),2&e){const e=M.vc(4);M.Nb(1),M.Dc("ngIf",!e.isSave)}}function rt(e,t){1&e&&M.dc(0)}function dt(e,t){1&e&&(M.fc(0),M.hc(1,"a",191),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function ht(e,t){if(1&e){const e=M.ic();M.hc(0,"button",193),M.rc("click",function(){M.Uc(e);const t=M.vc(5);return t.approvedByUser(t.entity.is_active,1)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Sign")," "))}function ut(e,t){if(1&e&&(M.fc(0),M.bd(1,ht,3,3,"button",192),M.ec()),2&e){const e=M.vc(4);M.Nb(1),M.Dc("ngIf",!e.isSaveSigned)}}function gt(e,t){if(1&e&&(M.hc(0,"ng-contatiner"),M.bd(1,st,4,3,"ng-container",27),M.bd(2,at,5,3,"ng-container",27),M.bd(3,ot,2,1,"ng-container",27),M.bd(4,rt,1,0,"ng-container",27),M.bd(5,dt,5,3,"ng-container",27),M.bd(6,ut,2,1,"ng-container",27),M.gc()),2&e){const e=M.vc(3);M.Nb(1),M.Dc("ngIf",e._flagShow),M.Nb(1),M.Dc("ngIf",e.isSave),M.Nb(1),M.Dc("ngIf","ADD"==e._flagModal),M.Nb(1),M.Dc("ngIf","ADD"!=e._flagModal&&0!=e.entity.is_active),M.Nb(1),M.Dc("ngIf",e.isSaveSigned),M.Nb(1),M.Dc("ngIf","ADD"!=e._flagModal&&e._flagShow)}}function ft(e,t){if(1&e){const e=M.ic();M.hc(0,"button",186),M.rc("click",function(){return M.Uc(e),M.vc(5).submissionRecall()}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Recall")," "))}function bt(e,t){if(1&e&&(M.fc(0),M.bd(1,ft,3,3,"button",194),M.ec()),2&e){const e=M.vc(4);M.Nb(1),M.Dc("ngIf",!e.isSaveSigned)}}function _t(e,t){if(1&e){const e=M.ic();M.hc(0,"button",193),M.rc("click",function(){return M.Uc(e),M.vc(5).submissionChange(1)}),M.dd(1),M.wc(2,"translate"),M.gc()}if(2&e){const e=M.vc(5);M.Nb(1),M.fd(" ",M.xc(2,1,0==e.entity.is_active?"Sign":"Resign")," ")}}function pt(e,t){if(1&e&&(M.fc(0),M.bd(1,_t,3,3,"button",192),M.ec()),2&e){const e=M.vc(4);M.Nb(1),M.Dc("ngIf",!e.isSaveSigned)}}function mt(e,t){if(1&e){const e=M.ic();M.hc(0,"button",193),M.rc("click",function(){return M.Uc(e),M.vc(5).submissionChange(1)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Sign")," "))}function vt(e,t){if(1&e&&(M.fc(0),M.bd(1,mt,3,3,"button",192),M.ec()),2&e){const e=M.vc(4);M.Nb(1),M.Dc("ngIf",!e.isSaveSigned)}}function yt(e,t){if(1&e&&(M.fc(0),M.bd(1,bt,2,1,"ng-container",27),M.bd(2,pt,2,1,"ng-container",27),M.bd(3,vt,2,1,"ng-container",27),M.ec()),2&e){const e=M.vc(3);M.Nb(1),M.Dc("ngIf",1==e.entity.is_active&&null!=e.entity.id),M.Nb(1),M.Dc("ngIf",0==e.entity.is_active&&null==e.entity.id||2==e.entity.is_active),M.Nb(1),M.Dc("ngIf",0==e.entity.is_active&&"ADD"!=e._flagModal&&null==e.entity.logs)}}function St(e,t){if(1&e){const e=M.ic();M.hc(0,"div",183),M.hc(1,"button",184),M.rc("click",function(){return M.Uc(e),M.vc().$implicit.dismiss("Cross click")}),M.dd(2),M.wc(3,"translate"),M.gc(),M.bd(4,ct,4,3,"ng-container",27),M.bd(5,gt,7,6,"ng-contatiner",27),M.bd(6,yt,4,3,"ng-container",27),M.gc()}if(2&e){const e=M.vc(2);M.Nb(2),M.fd(" ",M.xc(3,4,"Close")," "),M.Nb(2),M.Dc("ngIf",0==e.entity.is_active&&null!=e.entity.id),M.Nb(1),M.Dc("ngIf",2!=e.entity.is_active),M.Nb(1),M.Dc("ngIf",e.entity.created_by==e.user.id)}}const Nt=function(){return{"max-height":"calc(100vh - 300px)"}},Dt=function(){return{"max-height":"calc(100vh - 300px)","overflow-y":"auto"}};function wt(e,t){if(1&e){const e=M.ic();M.hc(0,"form",63),M.hc(1,"div",64),M.hc(2,"h4",65),M.dd(3),M.wc(4,"translate"),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",67),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",68),M.hc(11,"div",69),M.hc(12,"div",70),M.hc(13,"div",7),M.hc(14,"button",71),M.rc("click",function(){return M.Uc(e),M.vc()._chooseButton(1)}),M.dd(15),M.wc(16,"translate"),M.gc(),M.bd(17,ee,3,4,"button",72),M.bd(18,te,4,4,"button",72),M.bd(19,ie,4,4,"button",72),M.gc(),M.gc(),M.gc(),M.hc(20,"div",73),M.bd(21,Oe,118,118,"ng-container",27),M.bd(22,Be,7,2,"div",74),M.bd(23,Ve,7,2,"div",75),M.bd(24,nt,17,6,"div",75),M.gc(),M.gc(),M.bd(25,St,7,6,"div",76),M.gc()}if(2&e){const e=M.vc();M.Nb(3),M.gd(" ","ADD"==e._flagModal?M.xc(4,13,"Add new"):M.xc(5,15,"Update")," ",M.xc(6,17,e._title)," "),M.Nb(11),M.Dc("ngClass",1==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(1),M.fd(" ",M.xc(16,19,"General information")," "),M.Nb(2),M.Dc("ngIf","ADD"!=e._flagModal),M.Nb(1),M.Dc("ngIf","ADD"!=e._flagModal&&e._authenService.hasPermission("USERS","read")),M.Nb(1),M.Dc("ngIf","ADD"!=e._flagModal),M.Nb(1),M.Dc("ngStyle",4==e._flagButton?M.Hc(21,Nt):M.Hc(22,Dt)),M.Nb(1),M.Dc("ngIf",1==e._flagButton),M.Nb(1),M.Dc("ngIf",2==e._flagButton&&"ADD"!=e._flagModal),M.Nb(1),M.Dc("ngIf",3==e._flagButton&&"ADD"!=e._flagModal),M.Nb(1),M.Dc("ngIf",4==e._flagButton&&"ADD"!=e._flagModal),M.Nb(1),M.Dc("ngIf",1==e._flagButton)}}function Mt(e,t){if(1&e&&(M.hc(0,"option",227),M.dd(1),M.gc()),2&e){const e=t.$implicit,i=M.vc(2);M.Ec("value",e.id),M.Nb(1),M.gd(" ",e.code," - ","en"==i.user.lang?e.name_e:e.name_l," ")}}function xt(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.ed(e.order)}}function It(e,t){if(1&e){const e=M.ic();M.hc(0,"input",231),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.order=t}),M.gc()}if(2&e){const e=M.vc(),t=e.$implicit;M.Fc("name","or",e.index+1,""),M.Dc("ngModel",t.order)}}function Et(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.ed(e.user.title)}}function Ct(e,t){if(1&e){const e=M.ic();M.hc(0,"nz-tree-select",139),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc(3)._selectDept=t})("ngModelChange",function(){M.Uc(e);const t=M.vc().$implicit,i=M.vc(2);return i._getUser(t,i._selectDept)}),M.wc(1,"translate"),M.gc()}if(2&e){const e=M.vc(3);M.Ec("nzPlaceHolder",M.xc(1,4,"Please choose")),M.Dc("nzExpandedKeys",e.expandKeys)("nzNodes",e._departments)("ngModel",e._selectDept)}}function Ut(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Only view")))}function At(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Passed signature")))}function Rt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Reviewed signature")))}function kt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Approved signature")))}function Pt(e,t){if(1&e&&(M.hc(0,"span"),M.bd(1,Ut,3,3,"span",27),M.bd(2,At,3,3,"span",27),M.bd(3,Rt,3,3,"span",27),M.bd(4,kt,3,3,"span",27),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",0==e.role),M.Nb(1),M.Dc("ngIf",1==e.role),M.Nb(1),M.Dc("ngIf",2==e.role),M.Nb(1),M.Dc("ngIf",3==e.role)}}function Gt(e,t){if(1&e){const e=M.ic();M.hc(0,"select",140),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.role=t})("change",function(){M.Uc(e);const t=M.vc().$implicit,i=M.vc(2);return i._getUser(t,i._selectDept)}),M.hc(1,"option",88),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"option",89),M.dd(5),M.wc(6,"translate"),M.gc(),M.hc(7,"option",90),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"option",91),M.dd(11),M.wc(12,"translate"),M.gc(),M.gc()}if(2&e){const e=M.vc(),t=e.$implicit;M.Fc("name","r",e.index+1,""),M.Dc("ngModel",t.role),M.Nb(2),M.ed(M.xc(3,6,"Only view")),M.Nb(3),M.fd(" ",M.xc(6,8,"Passed signature")," "),M.Nb(3),M.fd(" ",M.xc(9,10,"Reviewed signature")," "),M.Nb(3),M.fd(" ",M.xc(12,12,"Approved signature")," ")}}function Ot(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){const e=M.vc().$implicit;M.Nb(1),M.ed(e.time)}}function Tt(e,t){if(1&e){const e=M.ic();M.hc(0,"input",232),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().$implicit.time=t}),M.gc()}if(2&e){const e=M.vc(),t=e.$implicit;M.Fc("name","timer",e.index+1,""),M.Dc("ngModel",t.time)}}function Ft(e,t){if(1&e){const e=M.ic();M.hc(0,"tr"),M.hc(1,"td",26),M.bd(2,xt,2,1,"span",27),M.bd(3,It,1,2,"input",228),M.gc(),M.hc(4,"td",26),M.bd(5,Et,2,1,"span",27),M.bd(6,Ct,2,6,"nz-tree-select",229),M.gc(),M.hc(7,"td",26),M.bd(8,Pt,5,4,"span",27),M.bd(9,Gt,13,14,"select",136),M.gc(),M.hc(10,"td",26),M.bd(11,Ot,2,1,"span",27),M.bd(12,Tt,1,2,"input",230),M.gc(),M.hc(13,"td",26),M.hc(14,"a",141),M.rc("click",function(){M.Uc(e);const i=t.$implicit;return M.vc(2)._removeItemHandle(i)}),M.cc(15,"i",142),M.gc(),M.gc(),M.gc()}if(2&e){const e=t.$implicit;M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag),M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag),M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag),M.Nb(2),M.Dc("ngIf",e.flag),M.Nb(1),M.Dc("ngIf",!e.flag)}}function jt(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function $t(e,t){if(1&e&&(M.hc(0,"button",233),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();const e=M.Rc(1);M.Dc("disabled",!e.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Bt(e,t){if(1&e){const e=M.ic();M.hc(0,"form",195,196),M.rc("ngSubmit",function(){return M.Uc(e),M.vc().saveChangeP()}),M.hc(2,"div",64),M.hc(3,"h4",65),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",67),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",197),M.hc(12,"div",69),M.hc(13,"div",198),M.hc(14,"label",199),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",47),M.dd(18,"(*)"),M.gc(),M.dd(19," - "),M.hc(20,"a",113),M.rc("click",function(){M.Uc(e);const t=M.vc(),i=M.Rc(87);return t._popupCategory(i,null)}),M.cc(21,"i",15),M.gc(),M.gc(),M.hc(22,"select",200),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.profile_group_id=t}),M.hc(23,"option",201),M.dd(24),M.wc(25,"translate"),M.gc(),M.bd(26,Mt,2,3,"option",202),M.gc(),M.gc(),M.hc(27,"div",198),M.hc(28,"label",203),M.dd(29),M.wc(30,"translate"),M.hc(31,"span",47),M.dd(32,"(*)"),M.gc(),M.gc(),M.hc(33,"input",204),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.code=t})("keyup",function(){return M.Uc(e),M.vc().removeBlankTypeProfile()}),M.gc(),M.gc(),M.hc(34,"div",198),M.hc(35,"label",205),M.dd(36),M.wc(37,"translate"),M.hc(38,"span",47),M.dd(39,"(*)"),M.gc(),M.gc(),M.hc(40,"input",206),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.title=t}),M.gc(),M.gc(),M.hc(41,"div",198),M.hc(42,"label",207),M.dd(43),M.wc(44,"translate"),M.hc(45,"span",47),M.dd(46,"(*)"),M.gc(),M.dd(47," - "),M.hc(48,"a",113),M.rc("click",function(){M.Uc(e);const t=M.vc(),i=M.Rc(89);return t._popupCategory1(i,null)}),M.cc(49,"i",15),M.gc(),M.gc(),M.hc(50,"ng-select",208),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.document_id=t}),M.wc(51,"translate"),M.wc(52,"translate"),M.gc(),M.gc(),M.hc(53,"div",70),M.hc(54,"label",209),M.dd(55),M.wc(56,"translate"),M.hc(57,"span",47),M.dd(58,"(*)"),M.gc(),M.gc(),M.hc(59,"div",23),M.hc(60,"table",112),M.hc(61,"thead"),M.hc(62,"th",26),M.dd(63),M.wc(64,"translate"),M.gc(),M.hc(65,"th",26),M.dd(66),M.wc(67,"translate"),M.hc(68,"a",113),M.rc("click",function(){M.Uc(e);const t=M.vc(),i=M.Rc(93);return t._popupDepartment(i,null)}),M.cc(69,"i",15),M.gc(),M.gc(),M.hc(70,"th",26),M.dd(71),M.wc(72,"translate"),M.gc(),M.hc(73,"th",26),M.dd(74),M.wc(75,"translate"),M.wc(76,"translate"),M.gc(),M.hc(77,"th",26),M.dd(78),M.wc(79,"translate"),M.gc(),M.gc(),M.hc(80,"tbody"),M.bd(81,Ft,16,8,"tr",28),M.gc(),M.hc(82,"tfoot"),M.hc(83,"tr"),M.cc(84,"td",210),M.hc(85,"td",26),M.hc(86,"a",144),M.rc("click",function(){return M.Uc(e),M.vc()._addItemHandle(null)}),M.cc(87,"i",15),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(88,"div",70),M.hc(89,"label",211),M.dd(90),M.wc(91,"translate"),M.gc(),M.hc(92,"ck-editor",212,213),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.description=t}),M.gc(),M.gc(),M.hc(94,"div",85),M.hc(95,"label",214),M.dd(96),M.wc(97,"translate"),M.gc(),M.hc(98,"div",215),M.hc(99,"input",216),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.is_active=t}),M.gc(),M.hc(100,"label",217),M.dd(101),M.wc(102,"translate"),M.gc(),M.gc(),M.gc(),M.hc(103,"div",79),M.hc(104,"label",218),M.dd(105),M.wc(106,"translate"),M.gc(),M.hc(107,"input",219),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySub.estimated_cost=t}),M.gc(),M.gc(),M.hc(108,"div",220),M.hc(109,"label",221),M.dd(110),M.wc(111,"translate"),M.gc(),M.hc(112,"input",222,223),M.rc("change",function(t){M.Uc(e);const i=M.Rc(113);return M.vc().fileEvent1(t,i)}),M.gc(),M.hc(114,"input",224),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entityUpload1.fileUpload=t}),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(115,"div",183),M.hc(116,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(117),M.wc(118,"translate"),M.gc(),M.bd(119,jt,5,3,"ng-container",27),M.bd(120,$t,3,4,"button",226),M.gc(),M.gc()}if(2&e){const e=M.vc();M.Nb(4),M.gd(" ","ADD"==e._flagSubModal?M.xc(5,41,"Add new"):M.xc(6,43,"Update")," ",M.xc(7,45,e._subTitle)," "),M.Nb(11),M.fd("",M.xc(16,47,"Profile group")," "),M.Nb(7),M.Dc("ngModel",e.entitySub.profile_group_id),M.Nb(2),M.ed(M.xc(25,49,"Please choose")),M.Nb(2),M.Dc("ngForOf",e._catprofiles),M.Nb(3),M.fd("",M.xc(30,51,"Profile code")," "),M.Nb(4),M.Dc("ngModel",e.entitySub.code),M.Nb(3),M.fd("",M.xc(37,53,"Profile name")," "),M.Nb(4),M.Dc("ngModel",e.entitySub.title),M.Nb(3),M.fd("",M.xc(44,55,"Type of document")," "),M.Nb(7),M.Dc("items",e._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==e.user.lang?"name_e":"name_l")("ngModel",e.entitySub.document_id)("placeholder",M.xc(51,57,"Please choose"))("notFoundText",M.xc(52,59,"Not found item")),M.Nb(5),M.fd("",M.xc(56,61,"Configure handling users")," "),M.Nb(8),M.fd(" ",M.xc(64,63,"Processing no.")," "),M.Nb(3),M.fd(" ",M.xc(67,65,"Manager Unit")," - "),M.Nb(5),M.ed(M.xc(72,67,"Roles")),M.Nb(3),M.gd(" ",M.xc(75,69,"Time")," (",M.xc(76,71,"hours"),") "),M.Nb(4),M.ed(M.xc(79,73,"Actions")),M.Nb(3),M.Dc("ngForOf",e.entitySub.handle_users.data),M.Nb(9),M.ed(M.xc(91,75,"Description")),M.Nb(2),M.Dc("ngModel",e.entitySub.description)("fullPage",!0)("config",e.ckEditorConfig),M.Nb(4),M.ed(M.xc(97,77,"Status")),M.Nb(3),M.Dc("ngModel",e.entitySub.is_active),M.Nb(2),M.ed(M.xc(102,79,e.entitySub.is_active?"activated":"not activated")),M.Nb(4),M.fd("",M.xc(106,81,"Estimated cost")," (VND)"),M.Nb(2),M.Dc("ngModel",e.entitySub.estimated_cost),M.Nb(3),M.fd("",M.xc(111,83,"Attachment (if any)")," (.doc,.docx,.pdf)"),M.Nb(4),M.Dc("ngModel",e.entityUpload1.fileUpload),M.Nb(3),M.fd(" ",M.xc(118,85,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveSub),M.Nb(1),M.Dc("ngIf",!e.isSaveSub)}}function zt(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function qt(e,t){if(1&e&&(M.hc(0,"button",233),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();const e=M.Rc(1);M.Dc("disabled",!e.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Ht(e,t){if(1&e){const e=M.ic();M.hc(0,"form",195,234),M.rc("ngSubmit",function(){return M.Uc(e),M.vc().saveChangeProfileGroup()}),M.hc(2,"div",64),M.hc(3,"h4",65),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",67),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",68),M.hc(12,"div",69),M.hc(13,"div",220),M.hc(14,"div",235),M.hc(15,"label",236),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",47),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",237),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.code=t})("keyup",function(){return M.Uc(e),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",70),M.hc(23,"div",235),M.hc(24,"label",238),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",47),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",239),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_l=t}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",70),M.hc(33,"div",235),M.hc(34,"input",240),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_e=t}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",220),M.hc(38,"label",241),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",215),M.hc(42,"input",242),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.is_active=t}),M.gc(),M.hc(43,"label",243),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",183),M.hc(47,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,zt,5,3,"ng-container",27),M.bd(51,qt,3,4,"button",226),M.gc(),M.gc()}if(2&e){const e=M.vc();M.Nb(4),M.gd(" ",null==e.entitySubIn.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Profile group")," "),M.Nb(12),M.fd("",M.xc(17,24,"Profile code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Profile code")),M.Dc("ngModel",e.entitySubIn.code),M.Nb(5),M.fd("",M.xc(26,28,"Group name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Group name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",e.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Group name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",e.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",e.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(45,40,e.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveSub1),M.Nb(1),M.Dc("ngIf",!e.isSaveSub1)}}function Kt(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Lt(e,t){if(1&e&&(M.hc(0,"button",233),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();const e=M.Rc(1);M.Dc("disabled",!e.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Vt(e,t){if(1&e){const e=M.ic();M.hc(0,"form",195,244),M.rc("ngSubmit",function(){return M.Uc(e),M.vc().saveChangeProfileGroup1()}),M.hc(2,"div",64),M.hc(3,"h4",65),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",67),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",68),M.hc(12,"div",69),M.hc(13,"div",220),M.hc(14,"div",235),M.hc(15,"label",245),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",47),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",246),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.code=t})("keyup",function(){return M.Uc(e),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",70),M.hc(23,"div",235),M.hc(24,"label",247),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",47),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",248),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_l=t}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",70),M.hc(33,"div",235),M.hc(34,"input",249),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_e=t}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",220),M.hc(38,"label",250),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",215),M.hc(42,"input",251),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.is_active=t}),M.gc(),M.hc(43,"label",252),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",183),M.hc(47,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,Kt,5,3,"ng-container",27),M.bd(51,Lt,3,4,"button",226),M.gc(),M.gc()}if(2&e){const e=M.vc();M.Nb(4),M.gd(" ",null==e.entitySubIn.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Type of document")," "),M.Nb(12),M.fd("",M.xc(17,24,"Document code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Document code")),M.Dc("ngModel",e.entitySubIn.code),M.Nb(5),M.fd("",M.xc(26,28,"Document name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Document name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",e.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Document name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",e.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",e.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(45,40,e.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveSub1),M.Nb(1),M.Dc("ngIf",!e.isSaveSub1)}}function Yt(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Wt(e,t){if(1&e&&(M.hc(0,"button",233),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();const e=M.Rc(1);M.Dc("disabled",!e.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Qt(e,t){if(1&e){const e=M.ic();M.hc(0,"form",195,253),M.rc("ngSubmit",function(){return M.Uc(e),M.vc().saveChangeTitle()}),M.hc(2,"div",64),M.hc(3,"h4",65),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",67),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",68),M.hc(11,"div",69),M.hc(12,"div",220),M.hc(13,"div",235),M.hc(14,"label",254),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",47),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",255),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.code=t})("keyup",function(){return M.Uc(e),M.vc().removeBlank()}),M.wc(20,"translate"),M.gc(),M.gc(),M.gc(),M.hc(21,"div",70),M.hc(22,"div",235),M.hc(23,"label",256),M.dd(24),M.wc(25,"translate"),M.hc(26,"span",47),M.dd(27,"(*)"),M.gc(),M.gc(),M.hc(28,"input",257),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_l=t}),M.wc(29,"translate"),M.wc(30,"translate"),M.gc(),M.gc(),M.gc(),M.hc(31,"div",70),M.hc(32,"div",235),M.hc(33,"input",258),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.name_e=t}),M.wc(34,"translate"),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",220),M.hc(37,"label",259),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"div",215),M.hc(41,"input",260),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.is_active=t}),M.gc(),M.hc(42,"label",261),M.dd(43),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",183),M.hc(46,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(47),M.wc(48,"translate"),M.gc(),M.bd(49,Yt,5,3,"ng-container",27),M.bd(50,Wt,3,4,"button",226),M.gc(),M.gc()}if(2&e){const e=M.vc();M.Nb(4),M.gd(" ",M.xc(5,18,"Add new")," ",M.xc(6,20,"Title1")," "),M.Nb(11),M.fd("",M.xc(16,22,"Code")," "),M.Nb(4),M.Ec("placeholder",M.xc(20,24,"Code")),M.Dc("ngModel",e.entitySubIn.code),M.Nb(5),M.fd("",M.xc(25,26,"Name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(29,28,"Name")," (",M.xc(30,30,"Vietnamese"),")"),M.Dc("ngModel",e.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(34,32,"Name")," (",M.xc(35,34,"English"),")"),M.Dc("ngModel",e.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(39,36,"Status")),M.Nb(3),M.Dc("ngModel",e.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(44,38,e.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(48,40,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveSub1),M.Nb(1),M.Dc("ngIf",!e.isSaveSub1)}}function Xt(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Zt(e,t){if(1&e&&(M.hc(0,"button",233),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();const e=M.Rc(1);M.Dc("disabled",!e.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Jt(e,t){if(1&e){const e=M.ic();M.hc(0,"form",195,262),M.rc("ngSubmit",function(){return M.Uc(e),M.vc().saveChangeDepartment()}),M.hc(2,"div",64),M.hc(3,"h4",65),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",67),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",68),M.hc(11,"div",69),M.hc(12,"div",70),M.hc(13,"div",235),M.hc(14,"label",263),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",47),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",264),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.dept_name_l=t}),M.wc(20,"translate"),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",70),M.hc(23,"div",235),M.hc(24,"input",265),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.dept_name_e=t}),M.wc(25,"translate"),M.wc(26,"translate"),M.gc(),M.gc(),M.gc(),M.hc(27,"div",220),M.hc(28,"label",266),M.dd(29),M.wc(30,"translate"),M.gc(),M.hc(31,"div",215),M.hc(32,"input",267),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entitySubIn.is_active=t}),M.gc(),M.hc(33,"label",268),M.dd(34),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(36,"div",183),M.hc(37,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(38),M.wc(39,"translate"),M.gc(),M.bd(40,Xt,5,3,"ng-container",27),M.bd(41,Zt,3,4,"button",226),M.gc(),M.gc()}if(2&e){const e=M.vc();M.Nb(4),M.gd(" ",M.xc(5,15,"Add new")," ",M.xc(6,17,"Department")," "),M.Nb(11),M.fd("",M.xc(16,19,"Name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(20,21,"Name")," (",M.xc(21,23,"Vietnamese"),")"),M.Dc("ngModel",e.entitySubIn.dept_name_l),M.Nb(5),M.Gc("placeholder","",M.xc(25,25,"Name")," (",M.xc(26,27,"English"),")"),M.Dc("ngModel",e.entitySubIn.dept_name_e),M.Nb(5),M.ed(M.xc(30,29,"Status")),M.Nb(3),M.Dc("ngModel",e.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(35,31,e.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(39,33,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveSub1),M.Nb(1),M.Dc("ngIf",!e.isSaveSub1)}}function ei(e,t){if(1&e&&(M.hc(0,"div",64),M.hc(1,"h4",65),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(5,"span",67),M.dd(6,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(7,"div",68),M.hc(8,"div",269),M.cc(9,"pdf-viewer",270),M.gc(),M.gc()),2&e){const e=M.vc();M.Nb(2),M.fd(" ",M.xc(3,2,"Open view")," "),M.Nb(7),M.Dc("src",e._originFile)}}function ti(e,t){1&e&&(M.fc(0),M.hc(1,"a",187),M.cc(2,"img",188),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function ii(e,t){if(1&e){const e=M.ic();M.hc(0,"button",278),M.rc("click",function(){return M.Uc(e),M.vc(2)._submitRefused()}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Save")," "))}function ni(e,t){if(1&e){const e=M.ic();M.hc(0,"div",64),M.hc(1,"h4",65),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"button",66),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(5,"span",67),M.dd(6,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(7,"div",68),M.hc(8,"div",235),M.hc(9,"div",70),M.hc(10,"label",271),M.dd(11),M.wc(12,"translate"),M.gc(),M.hc(13,"textarea",272),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entityApprove.content=t}),M.gc(),M.gc(),M.hc(14,"div",70),M.hc(15,"label",273),M.dd(16),M.wc(17,"translate"),M.gc(),M.hc(18,"input",274),M.rc("ngModelChange",function(t){return M.Uc(e),M.vc().entityApprove.approved_cost=t}),M.gc(),M.gc(),M.hc(19,"div",70),M.hc(20,"label",273),M.dd(21),M.wc(22,"translate"),M.gc(),M.hc(23,"input",275,276),M.rc("change",function(t){M.Uc(e);const i=M.Rc(24);return M.vc().fileEventApproved(t,i)}),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(25,"div",183),M.hc(26,"button",225),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(27),M.wc(28,"translate"),M.gc(),M.bd(29,ti,5,3,"ng-container",27),M.bd(30,ii,3,3,"button",277),M.gc()}if(2&e){const e=M.vc();M.Nb(2),M.fd(" ",M.xc(3,9,"Agree"==e._flagModalApprove?"Agree":"Disagree")," "),M.Nb(9),M.ed(M.xc(12,11,"Reason")),M.Nb(2),M.Dc("ngModel",e.entityApprove.content),M.Nb(3),M.ed(M.xc(17,13,"Approved cost")),M.Nb(2),M.Dc("ngModel",e.entityApprove.approved_cost),M.Nb(3),M.fd("",M.xc(22,15,"Attachment (if any)")," (.doc,.docx,.pdf)"),M.Nb(6),M.fd(" ",M.xc(28,17,"Close")," "),M.Nb(2),M.Dc("ngIf",e.isSaveApprove),M.Nb(1),M.Dc("ngIf",!e.isSaveApprove)}}const ci=[{path:"",children:[{path:"requests",component:(()=>{class e{constructor(e,t,i,n,c,s,a,l,o,r){this._authenService=e,this._dataService=t,this._route=i,this._notifyService=n,this._uploadService=c,this._excelService=s,this._numberFormat=a,this.modalService=l,this._utilyService=o,this.sanitizer=r,this._current=9,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this._subTitle="",this._flagModal="ADD",this.entity={},this._flagButton=1,this._profiles=[],this._catprofiles=[],this.related_requests=[],this.checkAllIDs=!1,this.entityUpload={},this.entityUploadMore={},this.entityUpload1={},this.filesToUpload=[],this.selectedFileNames=[],this.jfile=null,this.jfile1=null,this.jfileProposed=null,this.jfileMoreProposed=[],this.formData=new FormData,this._flagSubModal="ADD",this.entitySub={},this.isSaveSub=!1,this._documents=[],this._catdocuments=[],this.entitySubIn={},this.isSaveSub1=!1,this._selectUser=null,this._selectDept=null,this._getusers=[],this._titles=[],this._departments=[],this.expandKeys=[],this.expandKeys1=[],this._urlMicrosoft="https://view.officeapps.live.com/op/embed.aspx?src=",this._originFile=null,this.other_attached_files=[],this.handling_users=[],this._displayContent=null,this.isSaveSigned=!1,this._flagActive=!1,this._histories=[],this._diagrams=[],this._flagShow=!1,this._flagModalApprove="Agree",this.entityApprove={},this.isSaveApprove=!1,this.filesToUploadApprove=[],this.chats=[],this._contents="",this.baseFolder=S.a.BASE_API,this.socket=y()(S.a.BASE_API)}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.socket.on("refreshPage",e=>{this.loadData(),null!=this.entity.id&&(this.loadProposedProfileDetailById(this.entity.id),this.loadChat(this.entity.id))})}ngOnDestroy(){this.ckeEditor&&(this.ckeEditor.removeAllListeners(),this.ckeEditor.destroy()),this.ckeEditor1&&(this.ckeEditor1.removeAllListeners(),this.ckeEditor1.destroy())}loadData(){this._isLoading=!0;let e={};e.page=this.pageIndex,e.limit=this.pageSize,e.filter=this._keyword,e.createdby=this.user.id,e.current=this._current,this._dataService.post("/cat-submission/getall",e).subscribe(e=>{let t=[];for(let i of e.data){for(let t of i.handle_users.data)t.show=!1;for(let t of i.handle_users.data){let e=!1;if(i.handle_users.data.filter(e=>e.order==t.order&&null==e.timestamp).length>=1){for(let e of i.handle_users.data.filter(e=>e.order==t.order&&null==e.timestamp))e.show=!0;e=!0}if(e)break}let e=[],n=null;e=i.handle_users.data.filter(e=>3!=e.role),n=0==i.handle_users.data.filter(e=>3==e.role).length?null:i.handle_users.data.filter(e=>3==e.role)[0],i.reviews=e,i.approve=n,t.push(i)}this._requestslist=t,this.totalRow=e.rowCount,this.totalPage=e.totalPages,this._isLoading=!1})}loadChat(e){let t={};t.join_room=e,this._dataService.post("/chat/getallnp",t).subscribe(e=>{this.chats=e.data,console.log("chats",this.chats)})}_addChat(){if(""!=this._contents&&null!=this.entity.id){let e={};e.text=this._contents,e.join_room=this.entity.id,e.depended_id=this.user.id,this._dataService.post("/chat/add",e).subscribe(e=>{this.socket.emit("refresh",{}),this._flagModal="UPDATE",this._flagButton=4,this._contents=""})}}_switch(e){this._current=e,this.socket.emit("refresh",{})}_pageSizeChange(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}pageChanged(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}loadUsersWithDept(){let e={};e.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",e).subscribe(e=>{let t=[];for(let n of e.data)t.push({key:n.id,title:n.name,parent_id:null,value:n.id,jtitle:"en"==this.user.lang?n.title_name_e:n.title_name_l,jdept:n.department_ids.data});let i=this._utilyService.UnflattenFunc(t);this._getusers=i})}addItemNew(){if(this._selectUser=null,0==this.handling_users.length)this.handling_users.push({flag:!1,id:1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1});else{let e=0;for(let t of this.handling_users)null!=t.user&&null!=t.role||(e+=1);if(0!=e)return void this._notifyService.showWarning("e"==this.user.lang?N.a.MSG_ERROR_EMPTY_EN:N.a.MSG_ERROR_EMPTY,"e"==this.user.lang?N.a.error_title_en:N.a.error_title);for(let t of this.handling_users.filter(e=>!e.flag))t.flag=!0;0==this.handling_users.filter(e=>!e.flag).length&&this.handling_users.push({id:this.handling_users.length+1,flag:!1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1})}this.handling_users.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users}removeItemNew(e){let t=[],i=1;for(let n of this.handling_users.filter(t=>t.id!=e.id))t.push({id:i,order:n.order,user:n.user,role:n.role,time:n.time,flag:n.flag,allow:n.allow}),i+=1;t.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users=t}_getUserNew(e,t){console.log(e,t);let i=this._getusers.filter(e=>e.key==t)[0],n="";for(let c of i.jdept)n+=("en"==this.user.lang?c.dept_name_e:c.dept_name_l)+",";this.handling_users.filter(t=>t.id==e.id)[0].user={dept_name_e:""==n?"":n.substr(0,n.length-1),dept_name_l:""==n?"":n.substr(0,n.length-1),id:t,key:"",name:i.title,title:"",title_name_e:i.jtitle,title_name_l:i.jtitle,value:""},this.handling_users.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users}_openModal(e,t){this._flagActive=!1,this.loadProfilesNP(),this.loadUsersWithDept(),null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.entity.created_by=this.user.id,this.handling_users=[],this.other_attached_files=[]):(this._flagModal="UPDATE",this._title="- "+t.title+" (#: "+t.code+")",this.loadChat(t.id),this.loadProposedProfileDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}_diagramChange(e){null==e?(this.entity.handle_users={data:[]},this.handling_users=[],this._originFile=null):(this.handling_users=[],this.loadDetailProfileById(e))}submissionChange(e){if(this.entity.is_active=0==e?0:1,"ADD"==this._flagModal){if(0==this.entity.handle_users.data.length||null==this.entity.title)return void this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);null==this.attached_file&&0==this.filesToUpload.length?(this.isSave=!0,console.log("No file"),this._addProposed(this.entity)):this._dataService.post("/cat-submission/addProposed",this.entity).subscribe(e=>{console.log(e),"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):this._processUploadProposed(this.jfileProposed,this.filesToUpload,e.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}else this.updateSubmissionChanges()}submissionChangeForSign(){this.entity.is_active=1,this.updateSubmissionChanges()}updateSubmissionChanges(){this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users,console.log(this.entity),this.handling_users.filter(e=>null==e.order||null==e.user||null==e.role||null==e.time).length>0?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EMPTY_EN:N.a.MSG_ERROR_EMPTY,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(e=>{0!=this.entity.is_active&&(this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"))})}_addProposed(e){this._dataService.post("/cat-submission/addProposed",e).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}loadDetailProfileById(e){let t={};t.id=e,t.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",t).subscribe(e=>{console.log("Detail of Profile",e);let t=[];if("failed"==e.result)this.entity.handle_users.data=[],this.handling_users=[],this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_NOT_FOUND_EN:N.a.MSG_ERROR_NOT_FOUND,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);else{for(let i of e.data.handle_users.data)t.push({id:i.id,order:i.order,user:i.user,role:i.role,time:i.time,flag:!0,timestamp:null,allow:!0});t.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=t,this.handling_users=t,this._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null,null!=this.entity.id&&this.updateSubmissionChanges()}})}loadDetailProfileByIdWithFile(e){let t={};t.id=e,t.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",t).subscribe(e=>{this._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null})}_chooseButton(e){this._flagButton=e}removeAttachment(e,t,i){w.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_en:N.a.are_you_sure,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(n=>{if(n.value){let n={};n.id=e,n.path=t,n.stat=i,this._dataService.post("/cat-submission/removeAttachment",n).subscribe(e=>{console.log(e),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_DELETE_EN:N.a.MSG_DELETE,"OK"),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}})}loadProposedProfileDetailById(e){this._flagButton=4==this._flagButton?4:1,this._diagrams=[],this._histories=[];let t={};t.id=e,this._dataService.post("/cat-submission/detailProposed",t).subscribe(e=>{this.entity=e.data,this._displayContent=null==e.data.content?"":this.sanitizer.bypassSecurityTrustHtml(e.data.content);let t=[];for(let i of e.data.handle_users.data)t.push({id:i.id,order:i.order,user:i.user,role:i.role,time:i.time,flag:!0,timestamp:i.timestamp,allow:!0});if(this.handling_users=t,0==this.entity.is_active)this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1);else{for(let e of this.handling_users)e.show=!1;for(let e of this.handling_users){let t=!1;if(this.handling_users.filter(t=>t.order==e.order&&null==t.timestamp).length>=1){for(let t of this.handling_users.filter(t=>t.order==e.order&&null==t.timestamp))t.show=!0;t=!0}if(t)break}this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1)}if(this.entity.handle_users.data=t,this.other_attached_files=null==e.data.other_attached_files?[]:e.data.other_attached_files.data,4==this.entity.is_active)this._flagActive=!1;else if(0==t.filter(e=>e.user.id==this.user.id).length)null!=e.data.logs&&null!=e.data.logs.timestamp&&(this._flagActive=!0);else for(let i=0;i<t.filter(e=>e.user.id==this.user.id).length;i++)this._flagActive=null!=t.filter(e=>e.user.id==this.user.id)[i].timestamp;if(null!=e.data.logs){this._diagrams=e.data.logs.diagrams,this._diagrams.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1),this._histories=e.data.logs.history,this._histories.sort((e,t)=>t.id>e.id||t.id==e.id&&t.id>e.id?1:-1);let t=1;for(let e of this._diagrams.filter(e=>e.flag&&null==e.timestamp)){if(!(t<=this._diagrams.filter(t=>t.order==e.order).length))break;e.flag=!1,t+=1}null==e.data.logs?this._flagShow=!1:this._diagrams.filter(e=>e.user.id==this.user.id&&!e.flag).length>0?(console.log("test here"),this._flagShow=!0):this._flagShow=!1,console.log("Flag",this._flagShow)}this.loadDetailProfileByIdWithFile(e.data.profile_cat_id)})}toggleCheckAll(e){e.currentTarget.checked?this.selectAllItems():this.unselectAllItems()}onTouched(){}onSelectionChange(e){if(Array.isArray(e)){const t=e.map(e=>e.id);this.entity.organizations=[...t],this.onChange([...t])}this.onTouched()}onChange(e){}writeValue(e){this.combo.select([...e])}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}selectAllItems(){const e=this.related_requests.map(e=>e.id);this.onChange([...e])}unselectAllItems(){this.entity.related_ids=[],this.checkAllIDs=!1,this.onChange([])}_processUploadProposed(e,t,i){let n=0,c=0;if(null==e)return void this._notifyService.showError("en"==this.user.lang?N.a.recheck_file_en:N.a.recheck_file,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);n=1,t.length>0&&(c=1);let s=[],a=null;if(a=e.files,c>0&&s.push(t),console.log(a),console.log(s),c>0){let n={folder_name:"submissions"};n.id=i.id,console.log("Testing",e.files),this._uploadService.uploadFile("/services/uploads/"+n.id+"/"+n.folder_name,e.files).subscribe(e=>{let n={folder_name:"submissions"};n.id=i.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+n.id+"/"+n.folder_name,t).subscribe(t=>{this._updateSubmission12(i.id,e.data,t.data)})})}else{let t={folder_name:"submissions"};t.id=i.id,this._uploadService.uploadFile("/services/uploads/"+t.id+"/"+t.folder_name,e.files).subscribe(e=>{this._updateSubmission1(i.id,e.data)})}}_updateSubmission1(e,t){let i={};i.id=e,i.path=t,this._dataService.post("/cat-submission/updateSubmission1",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("ADD"==this._flagModal?"en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO:"en"==this.user.lang?N.a.MSG_UPDATENO_EN:N.a.MSG_UPDATENO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):"ADD"==this._flagModal?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK")):(this._flagModal="UPDATE",this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}_updateSubmission2(e,t){this.filesToUpload=[];let i={};i.id=e,i.paths=t,this._dataService.post("/cat-submission/updateSubmission2",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):"ADD"==this._flagModal?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK")):(this._flagModal="UPDATE",this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}_updateSubmission12(e,t,i){this.filesToUpload=[];let n={};n.id=e,n.path=t,n.paths=i,this._dataService.post("/cat-submission/updateSubmission12",n).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}fileEvent(e,t){var i=e.target.files[0];if(void 0===i||void 0===i.name)this.attached_file=null,this.entityUpload.fileUpload=null,this._notifyService.showError("en"==this.user.lang?N.a.recheck_file_en:N.a.recheck_file,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);else{this.attached_file=i.name;let n=this.attached_file.split(".").pop();"doc"===n||"docx"===n||"pdf"===n?(this.jfileProposed=e.target,null!=this.entity.id&&(this._processUpload(this.jfileProposed,this.entity),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")):(this._notifyService.showError("en"==this.user.lang?N.a.format_incorrect_en:N.a.format_incorrect,"en"==this.user.lang?N.a.error_title_en:N.a.error_title),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")}}_processUpload(e,t){if(null==e)this._notifyService.showError("en"==this.user.lang?N.a.recheck_file_en:N.a.recheck_file,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);else{console.log("Executed",e.files);let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(e=>{this._updateSubmission1(t.id,e.data)})}}_updateSubmissionById(e,t){let i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateSubmissionById",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.jfile=null,this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}fileEventMore(e,t){this.filesToUpload=e.target.files;let i=[];for(var n=0;n<e.target.files.length;n++)i.push(e.target.files[n]);null!=this.entity.id&&(this._processUploadProposedAfter(this.filesToUpload,this.entity),this.filesToUpload=[],t.value=[])}_processUploadProposedAfter(e,t){let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,e).subscribe(e=>{this._updateSubmission2(t.id,e.data)})}_addItemHandle(e){if(console.log(this.entitySub,this.isSaveSub),this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entitySub.handle_users.data.length)this.entitySub.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{let e=0;for(let t of this.entitySub.handle_users.data)null==t.user?(t.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"},null==t.role&&(e+=1)):null==t.role&&(e+=1);if(0!=e)return void this._notifyService.showWarning("e"==this.user.lang?N.a.MSG_ERROR_EMPTY_EN:N.a.MSG_ERROR_EMPTY,"e"==this.user.lang?N.a.error_title_en:N.a.error_title);for(let t of this.entitySub.handle_users.data.filter(e=>!e.flag))t.flag=!0;0==this.entitySub.handle_users.data.filter(e=>!e.flag).length&&this.entitySub.handle_users.data.push({id:this.entitySub.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}console.log(this.entitySub)}_getUser(e,t){if(console.log(e,t),null!=t&&null!=e.role){for(let i of this.entitySub.handle_users.data)i.id==e.id&&(i.user="all"!=t?{title:this._departments.filter(e=>e.key==t)[0].title,key:this._departments.filter(e=>e.key==t)[0].key,value:this._departments.filter(e=>e.key==t)[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"});console.log("Get change",this.entitySub)}else this._notifyService.showWarning("e"==this.user.lang?N.a.MSG_ERROR_EMPTY_EN:N.a.MSG_ERROR_EMPTY,"e"==this.user.lang?N.a.error_title_en:N.a.error_title)}_popupTitle(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeTitle(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addTitle",this.entitySubIn).subscribe(e=>{console.log(e),this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.loadTitleNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}loadTitleNP(){this._dataService.post("/cat-submission/getallTitlesNP",null).subscribe(e=>{this._titles=e.data})}_popupDepartment(e,t){this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeDepartment(){this.isSaveSub1=!0,this._dataService.post("/dept/add",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.loadDeptNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}loadDeptNP(){let e={};e.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",e).subscribe(e=>{let t=[];t.push({key:"all",title:"en"==this.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});for(let n of e.data)t.push({key:n.id,title:"en"==this.user.lang?n.dept_name_e:n.dept_name_l,parent_id:n.parent_id,value:n.id});let i=this._utilyService.UnflattenFunc(t);this._departments=i})}loadProfilesNP(){this._dataService.post("/cat-submission/getallMainProfileNP",null).subscribe(e=>{this._profiles=e.data})}_removeItemHandle(e){let t=[],i=1;for(let n of this.entitySub.handle_users.data.filter(t=>t.id!=e.id))t.push({id:i,order:n.order,user:n.user,role:n.role,time:n.time,flag:n.flag}),i+=1;this.entitySub.handle_users.data=t,console.log(this.entitySub)}_popupProfile(e,t){this.loadCatDocNP(),this.loadCatProfileNP(),null==t?(this._flagSubModal="ADD",this._subTitle="en"==this.user.lang?"Type of profile":"Lo\u1ea1i h\u1ed3 s\u01a1",this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null):(this._flagSubModal="UPDATE",this.entitySub=t),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}saveChangeP(){console.log(this.entitySub),0!=this.entitySub.handle_users.data.length?null==this.attached_file1?(this.isSaveSub=!0,this._dataService.post("/cat-submission/add",this.entitySub).subscribe(e=>{console.log(e),this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null,this.loadProfilesNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})):this._dataService.post("/cat-submission/add",this.entitySub).subscribe(e=>{"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):this._processUpload1(this.jfile1,e.data)},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}):this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}fileEvent1(e,t){var i=e.target.files[0];if(void 0===i||void 0===i.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?N.a.recheck_file_en:N.a.recheck_file,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);else{this.attached_file1=i.name;let n=this.attached_file1.split(".").pop();"doc"===n||"docx"===n||"pdf"===n?(console.log("ok"),this.jfile1=e.target):(this._notifyService.showError("en"==this.user.lang?N.a.format_incorrect_en:N.a.format_incorrect,"en"==this.user.lang?N.a.error_title_en:N.a.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}_processUpload1(e,t){if(null==e)this._notifyService.showError("en"==this.user.lang?N.a.recheck_file_en:N.a.recheck_file,"en"==this.user.lang?N.a.error_title_en:N.a.error_title);else{let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(e=>{this._updateProfileById(t.id,e.data)})}}_updateProfileById(e,t){let i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(e=>{this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null,this.loadProfilesNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}_popupCategory(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}loadCatProfileNP(){this._dataService.post("/cat-submission/getallProfileNP",null).subscribe(e=>{this._catprofiles=e.data})}removeBlank(){this.entitySubIn.code=null==this.entitySubIn.code?null:this.entitySubIn.code.replace(" ","")}removeBlankTypeProfile(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}saveChangeProfileGroup(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),console.log(this.entitySubIn),this._dataService.post("/cat-submission/addProfile",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.loadCatProfileNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}_popupCategory1(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeProfileGroup1(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.loadCatDocNP(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}loadCatDocNP(){this._dataService.post("/cat-submission/getallDocumentsNP",null).subscribe(e=>{this._catdocuments=e.data})}openViewDoc(e,t){console.log(t),this.modalService.open(e,{size:"lg",centered:!0})}cancelSubmission(){w.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_cancel_en:N.a.are_you_sure_cancel,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(e=>{e.value&&(this.entity.is_active=4,this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(e=>{console.log(e),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_CANCEL_EN:N.a.MSG_CANCEL,"en"==this.user.lang?N.a.cancel_en:N.a.cancel),this.modalService.dismissAll(),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}))})}approvedByUser(e,t){if(this.isSaveSigned=!0,console.log(e,t),0==e)this.entity.is_active=1,this.updateSubmissionChanges();else{console.log("Signed");let e={};e.id=this.entity.id,e.userid=this.user.id,e.status=t,e.content=null,e.approved_cost=null,this._dataService.post("/cat-submission/approvedByUserId",e).subscribe(e=>{this.isSaveSigned=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveSigned=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}}disagreeSubmission(e,t){w.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_disagree_en:N.a.are_you_sure_disagree,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(i=>{i.value&&this.popupApprove(e,t)})}popupApprove(e,t){this.entityApprove.content=null,this.entityApprove.approved_cost=null,this._flagModalApprove=null==t?"Agree":"Disagree",this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}_submitRefused(){if(console.log(this.entityApprove,this.filesToUploadApprove),this.filesToUploadApprove.length>0)console.log("Got files"),this.isSaveApprove=!0,this._processUploadDisagreeAfter(this.filesToUploadApprove);else{this.isSaveApprove=!0;let e={};e.id=this.entity.id,e.userid=this.user.id,e.status="Agree"==this._flagModalApprove?1:0,e.content=this.entityApprove.content,e.approved_cost=this.entityApprove.approved_cost,e.files=[],this._dataService.post("/cat-submission/approvedByUserId",e).subscribe(e=>{console.log("Why",e),this.isSaveApprove=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}}fileEventApproved(e,t){this.filesToUploadApprove=e.target.files}_processUploadDisagreeAfter(e){let t={folder_name:"submissions"};t.id=this.entity.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+t.id+"/"+t.folder_name,e).subscribe(e=>{let t={};t.id=this.entity.id,t.userid=this.user.id,t.status=0,t.content=this.entityApprove.content,t.approved_cost=this.entityApprove.approved_cost,t.files=e.data,this._dataService.post("/cat-submission/approvedByUserId",t).subscribe(e=>{this.isSaveApprove=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}submissionRecall(){w.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_recall_en:N.a.are_you_sure_recall,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(e=>{if(e.value){if(this.entity.logs.diagrams.filter(e=>0!=e.id&&null!=e.timestamp).length>0)return this._notifyService.showError("en"==this.user.lang?N.a.MSG_UPDATENO_EN:N.a.MSG_UPDATENO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title),void this.modalService.dismissAll();this.entity.is_active=2,this.updateSubmissionChanges()}})}}return e.\u0275fac=function(t){return new(t||e)(M.bc(l.a),M.bc(a.a),M.bc(m.d),M.bc(x.a),M.bc(s.a),M.bc(c.a),M.bc(I.a),M.bc(E.s),M.bc(C.a),M.bc(U.b))},e.\u0275cmp=M.Vb({type:e,selectors:[["app-subm-requests"]],viewQuery:function(e,t){if(1&e&&(M.jd(T,1),M.jd(F,1),M.jd(j,3),M.jd($,1),M.jd(B,1)),2&e){let e;M.Qc(e=M.sc())&&(t.ckeEditor=e.first),M.Qc(e=M.sc())&&(t.ckeEditor1=e.first),M.Qc(e=M.sc())&&(t.combo=e.first),M.Qc(e=M.sc())&&(t.attached_file=e.first),M.Qc(e=M.sc())&&(t.attached_file1=e.first)}},decls:98,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"btn-group","flex-wrap"],["type","button",3,"ngClass","click"],[1,"fa","fa-clone"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],["type","button",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-search"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-plus"],["ngbDropdown","","class","btn-group","role","group",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["contentModal",""],["popupNewProfile",""],["categoryModal",""],["categoryModal1",""],["titleModal",""],["deptModal",""],["popupViewModal",""],["popupApprovedModal",""],["ngbDropdown","","role","group",1,"btn-group"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"fa","fa-object-group"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[1,"dropdown-item"],[1,"fa","fa-tags"],[1,"fa","fa-map-signs"],[1,"fa","fa-file-text-o"],[1,"fa","fa-users"],["colspan","7",2,"text-align","center"],[1,"text-danger"],[2,"cursor","pointer",3,"click"],[1,"mute"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"fa","fa-flag"],[1,"badge","badge-dark"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"form","theme-form"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],[1,"form-group","row",3,"ngStyle"],["class","col-md-12","style","max-height: calc(100vh - 300px); overflow-y: auto",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"fa","fa-clock-o"],[1,"fa","fa-comments"],[1,"col-md-4"],["for","title"],["type","text","id","title","name","title","autocomplete","off","required","",3,"ngModel","ngClass","disabled","ngModelChange","change"],["for","profile_id"],["id","profile_id","name","profile_id","bindValue","id","bindLabel","title","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["ng-option-tmp",""],[1,"col-md-2"],["for","critical_level"],["id","critical_level","name","critical_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["for","priority_level"],["id","priority_level","name","priority_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],[1,"col-md-8"],["for","related_requests"],["bindLabel","name","bindValue","id",3,"multiple","items","closeOnSelect","placeholder","notFoundText","ngModel","disabled","blur","change"],["combo",""],["ng-header-tmp",""],["ng-multi-label-tmp",""],["for","estimated_cost"],["id","estimated_cost","name","estimated_cost","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","change","ngModelChange"],["for","content",1,"jbold"],[3,"innerHtml",4,"ngIf"],["for","attached_file",1,"jbold"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx","class","form-control",3,"change",4,"ngIf"],["type","hidden","name","attached_file0",3,"ngModel","ngModelChange"],["class","card-body btn-showcase",4,"ngIf"],["for","filesToUpload",1,"jbold"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","class","form-control","accept",".pdf,.doc,.docx",3,"change",4,"ngIf"],[1,"card-body","btn-showcase"],["for","diagrams",1,"jbold"],[1,"table"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["container","body",3,"ngbTooltip"],["type","checkbox",3,"ngModel","change"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["type","checkbox",3,"id","checked"],["id","content","name","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange","change"],["ckeEditor",""],[3,"innerHtml"],["href","javascript:;",3,"click"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["attached_file",""],["src","../../../../assets/files/ico_file.png","width","25px",1,"mr-sm-1",2,"cursor","pointer",3,"click"],["class","fa fa-trash","style","cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"cursor","pointer",3,"click"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUpload",""],["class","badge badge-pill badge-danger mr-sm-3",4,"ngIf"],[1,"badge","badge-pill","badge-danger","mr-sm-3"],["type","number","min","1","class","form-control","style","width: 70px",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","min","1",1,"form-control",2,"width","70px",3,"name","id","ngModel","ngModelChange","change"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","5",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-md-12",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"timeline-small"],["class","media",4,"ngIf"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px",4,"ngIf"],[1,"media-body"],[1,"pull-right","f-14"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px"],[1,"timeline-round","m-r-30","timeline-line-1"],["class","mute",4,"ngIf"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["type","text","name","_contents","id","_contents","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-clip"],[1,"chat-history","chat-msg-box","custom-scrollbar",2,"max-height","300px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],[1,"message-data","text-right"],[1,"mute","mr-sm-1"],[1,"message-data-time"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-left","chat-user-img","img-30"],[1,"message","other-message","pull-right"],[1,"message-data"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-right","chat-user-img","img-30"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],[1,"modal-footer"],["type","button",1,"btn","btn-light","mr-sm-1",3,"click"],["type","button",1,"btn","btn-secondary","mr-sm-1",3,"click"],["type","button",1,"btn","btn-danger","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-warning","mr-sm-1"],["type","button","class","btn btn-warning mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","mr-sm-1",3,"click"],["type","button","class","btn btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","handling_users",1,"jbold"],["colspan","4",1,"text-truncate"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","ngModelChange"],["for","Status11"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",1,"form-control",3,"change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formTitle","ngForm"],["for","CodeTitle",1,"jbold"],["type","text","id","CodeTitle","name","CodeTitle","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","NameTitle1",1,"jbold"],["type","text","id","NameTitle1","name","NameTitle1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","NameTitle1a","name","NameTitle1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusTitle",1,"jbold"],["id","StatusTitle","type","checkbox","name","StatusTitle",3,"ngModel","ngModelChange"],["for","StatusTitle"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"],[1,"col-md-12",2,"height","590px"],[3,"src"],["for","contentApprove"],["id","contentApprove","rows","3","name","contentApprove",1,"form-control",3,"ngModel","ngModelChange"],["for","approved_cost"],["id","approved_cost","type","text","name","approved_cost","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","filesToUploadApprove","type","file","multiple","","id","filesToUploadApprove","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUploadApprove",""],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=M.ic();M.hc(0,"div",0),M.hc(1,"div",1),M.hc(2,"div",2),M.hc(3,"div",3),M.hc(4,"div",4),M.hc(5,"div",5),M.hc(6,"div",6),M.hc(7,"div",7),M.hc(8,"button",8),M.rc("click",function(){return t._switch(9)}),M.cc(9,"i",9),M.dd(10),M.wc(11,"translate"),M.gc(),M.hc(12,"button",8),M.rc("click",function(){return t._switch(1)}),M.cc(13,"i",10),M.dd(14),M.wc(15,"translate"),M.gc(),M.hc(16,"button",8),M.rc("click",function(){return t._switch(3)}),M.cc(17,"i",11),M.dd(18),M.wc(19,"translate"),M.gc(),M.hc(20,"button",12),M.cc(21,"i",13),M.dd(22),M.wc(23,"translate"),M.gc(),M.hc(24,"button",14),M.rc("click",function(){M.Uc(e);const i=M.Rc(83);return t._openModal(i,null)}),M.cc(25,"i",15),M.dd(26),M.wc(27,"translate"),M.gc(),M.bd(28,z,22,15,"div",16),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(29,"div",2),M.hc(30,"div",3),M.hc(31,"div",4),M.hc(32,"div",5),M.hc(33,"div",6),M.hc(34,"div",17),M.hc(35,"div",18),M.hc(36,"div",19),M.hc(37,"pagination",20),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(38,"div",21),M.hc(39,"a",22),M.dd(40),M.wc(41,"translate"),M.wc(42,"translate"),M.wc(43,"translate"),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",23),M.hc(46,"table",24),M.hc(47,"thead"),M.hc(48,"th",25),M.dd(49,"#"),M.gc(),M.hc(50,"th",26),M.dd(51),M.wc(52,"translate"),M.gc(),M.hc(53,"th",26),M.dd(54),M.wc(55,"translate"),M.gc(),M.hc(56,"th",26),M.dd(57),M.wc(58,"translate"),M.gc(),M.hc(59,"th",26),M.dd(60),M.wc(61,"translate"),M.gc(),M.hc(62,"th",26),M.dd(63),M.wc(64,"translate"),M.gc(),M.hc(65,"th",26),M.dd(66),M.wc(67,"translate"),M.gc(),M.gc(),M.hc(68,"tbody"),M.bd(69,q,6,3,"ng-container",27),M.bd(70,J,34,24,"ng-container",28),M.gc(),M.gc(),M.gc(),M.hc(71,"div",17),M.hc(72,"div",18),M.hc(73,"div",19),M.hc(74,"pagination",20),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(75,"div",21),M.hc(76,"a",22),M.dd(77),M.wc(78,"translate"),M.wc(79,"translate"),M.wc(80,"translate"),M.wc(81,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.bd(82,wt,26,23,"ng-template",null,29,M.cd),M.bd(84,Bt,121,87,"ng-template",null,30,M.cd),M.bd(86,Ht,52,44,"ng-template",null,31,M.cd),M.bd(88,Vt,52,44,"ng-template",null,32,M.cd),M.bd(90,Qt,51,42,"ng-template",null,33,M.cd),M.bd(92,Jt,42,35,"ng-template",null,34,M.cd),M.bd(94,ei,10,4,"ng-template",null,35,M.cd),M.bd(96,ni,31,19,"ng-template",null,36,M.cd)}2&e&&(M.Nb(8),M.Dc("ngClass",9==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(11,41,"All my requests")," "),M.Nb(2),M.Dc("ngClass",1==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(15,43,"Processing requests")," "),M.Nb(2),M.Dc("ngClass",3==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(19,45,"Closed requests")," "),M.Nb(4),M.fd(" ",M.xc(23,47,"Search")," "),M.Nb(4),M.fd(" ",M.xc(27,49,"Add new")," "),M.Nb(2),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(9),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(41,51,"Total of records"),": ",t.totalRow," - ",M.xc(42,53,"Page")," ",t.pageIndex," ",M.xc(43,55,"of")," ",t.totalPage," ",M.xc(44,57,"page"),""),M.Nb(11),M.ed(M.xc(52,59,"Title")),M.Nb(3),M.fd(" ",M.xc(55,61,"Proposed date")," "),M.Nb(3),M.fd(" ",M.xc(58,63,"Reviewed by")," "),M.Nb(3),M.fd(" ",M.xc(61,65,"Approved by")," "),M.Nb(3),M.fd(" ",M.xc(64,67,"Updated date")," "),M.Nb(3),M.ed(M.xc(67,69,"Status")),M.Nb(3),M.Dc("ngIf",0==t._requestslist.length),M.Nb(1),M.Dc("ngForOf",t._requestslist),M.Nb(4),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(78,71,"Total of records"),": ",t.totalRow," - ",M.xc(79,73,"Page")," ",t.pageIndex," ",M.xc(80,75,"of")," ",t.totalPage," ",M.xc(81,77,"page"),""))},directives:[n.o,n.q,u.a,p.n,p.q,n.p,E.l,E.p,E.o,p.z,p.o,p.p,n.r,p.c,p.w,A.a,A.c,p.x,p.r,p.A,A.e,A.d,R.a,E.N,p.b,k.a,p.s,P.a,G.a],pipes:[O.c,n.f,n.y],styles:[""]}),e})(),data:{title:"Requests",breadcrumb:"Requests"}}]}];let si=(()=>{class e{}return e.\u0275mod=M.Zb({type:e}),e.\u0275inj=M.Yb({factory:function(t){return new(t||e)},imports:[[m.h.forChild(ci)],m.h]}),e})();var ai=i("arFO"),li=i("Kdsb"),oi=i("g9iH"),ri=i("UkRs");let di=(()=>{class e{}return e.\u0275mod=M.Zb({type:e}),e.\u0275inj=M.Yb({factory:function(t){return new(t||e)},providers:[l.a,a.a,s.a,c.a,O.d,I.a],imports:[[n.c,si,p.k,_.a,b.b,O.b,f.a,g.c.forRoot(),u.b.forRoot(),h.a.forRoot(),d.a.forRoot(),oi.b,r.a,o.a,ai.a,E.u,A.b,R.b.forRoot(),li.c,ri.c,k.b,P.b,G.b]]}),e})()}}]);