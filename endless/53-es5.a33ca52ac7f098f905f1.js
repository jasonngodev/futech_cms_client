!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var c=0,a=function(){};return{s:a,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return l=e.done,e},e:function(e){o=!0,r=e},f:function(){try{l||null==i.return||i.return()}finally{if(o)throw r}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{PG0K:function(n,i,r){"use strict";r.r(i),r.d(i,"SubmissionsModule",function(){return pn});var l=r("ofXK"),o=r("VToC"),s=r("25+x"),d=r("cplz"),u=r("7dP1"),g=r("bmg4"),f=r("44PX"),h=r("K3ix"),b=r("+Cnu"),v=r("Lm2G"),_=r("hzby"),p=r("dZIy"),m=r("LPYB"),y=r("oOf3"),S=r("3Pt+"),N=r("tyNb"),w=r("gFX4"),D=r.n(w),M=r("CMKA"),x=r("piOG"),k=r("PSD3"),I=r.n(k),E=r("fXoL"),C=r("3t6R"),A=r("REEf"),U=r("1kSV"),R=r("qeeY"),P=r("jhN1"),G=r("ZOsW"),O=r("tmjD"),T=r("eLGb"),F=r("VXpv"),j=r("IkSl"),$=r("sYmb"),B=["ckeEditor"],z=["ckeEditor1"],q=["combo"],H=["attached_file"],K=["attached_file1"];function L(e,t){1&e&&(E.hc(0,"div",37),E.hc(1,"button",38),E.cc(2,"i",39),E.dd(3),E.wc(4,"translate"),E.gc(),E.hc(5,"div",40),E.hc(6,"button",41),E.cc(7,"i",42),E.dd(8),E.wc(9,"translate"),E.gc(),E.hc(10,"button",41),E.cc(11,"i",43),E.dd(12),E.wc(13,"translate"),E.gc(),E.hc(14,"button",41),E.cc(15,"i",44),E.dd(16),E.wc(17,"translate"),E.gc(),E.hc(18,"button",41),E.cc(19,"i",45),E.dd(20),E.wc(21,"translate"),E.gc(),E.gc(),E.gc()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,5,"Category")," "),E.Nb(5),E.fd(" ",E.xc(9,7,"Type of profile")," "),E.Nb(4),E.fd(" ",E.xc(13,9,"Profile group")," "),E.Nb(4),E.fd(" ",E.xc(17,11,"Type of document")," "),E.Nb(4),E.fd(" ",E.xc(21,13,"Manager Unit")," "))}function V(e,t){1&e&&(E.fc(0),E.hc(1,"tr"),E.hc(2,"td",46),E.hc(3,"h3",47),E.dd(4),E.wc(5,"translate"),E.gc(),E.gc(),E.gc(),E.ec()),2&e&&(E.Nb(4),E.fd(" ",E.xc(5,1,"No records now!!!")," "))}function Y(e,t){1&e&&(E.hc(0,"span",56),E.cc(1,"i",57),E.gc())}function W(e,t){if(1&e&&(E.hc(0,"li"),E.dd(1),E.bd(2,Y,2,0,"span",50),E.cc(3,"br"),E.hc(4,"small",49),E.dd(5),E.gc(),E.gc()),2&e){var n=t.$implicit,i=t.index,c=E.vc(2);E.Nb(1),E.gd(" ",i+1,".",n.user.name," "),E.Nb(1),E.Dc("ngIf",n.show),E.Nb(3),E.ed("en"==c.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function Q(e,t){1&e&&(E.hc(0,"span",56),E.cc(1,"i",57),E.gc())}function X(e,t){if(1&e&&(E.fc(0),E.dd(1),E.wc(2,"date"),E.ec()),2&e){var n=E.vc().$implicit;E.Nb(1),E.fd("",E.yc(2,1,n.logs.timestamp,"dd/MM/yyyy HH:mm a")," ")}}function Z(e,t){1&e&&(E.hc(0,"span",58),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Draft")))}function J(e,t){1&e&&(E.hc(0,"span",59),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Processing")))}function ee(e,t){1&e&&(E.hc(0,"span",60),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Recall")))}function te(e,t){1&e&&(E.hc(0,"span",61),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Completed")))}function ne(e,t){1&e&&(E.hc(0,"span",62),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Cancel")))}function ie(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"tr",48),E.rc("click",function(){E.Uc(n);var e=t.$implicit,i=E.vc(),c=E.Rc(83);return i._openModal(c,e)}),E.hc(2,"td",26),E.dd(3),E.gc(),E.hc(4,"td",26),E.dd(5),E.cc(6,"br"),E.hc(7,"small",49),E.dd(8),E.wc(9,"translate"),E.gc(),E.gc(),E.hc(10,"td",26),E.dd(11),E.wc(12,"date"),E.cc(13,"br"),E.hc(14,"small",49),E.dd(15),E.wc(16,"translate"),E.gc(),E.gc(),E.hc(17,"td",26),E.hc(18,"ul"),E.bd(19,W,6,4,"li",28),E.gc(),E.gc(),E.hc(20,"td",26),E.dd(21),E.bd(22,Q,2,0,"span",50),E.cc(23,"br"),E.hc(24,"small",49),E.dd(25),E.gc(),E.gc(),E.hc(26,"td",26),E.bd(27,X,3,4,"ng-container",27),E.gc(),E.hc(28,"td",26),E.bd(29,Z,3,3,"span",51),E.bd(30,J,3,3,"span",52),E.bd(31,ee,3,3,"span",53),E.bd(32,te,3,3,"span",54),E.bd(33,ne,3,3,"span",55),E.gc(),E.gc(),E.ec()}if(2&e){var i=t.$implicit,c=t.index,a=E.vc();E.Nb(3),E.fd(" ",c+1," "),E.Nb(2),E.fd(" ",i.title,""),E.Nb(3),E.gd("",E.xc(9,17,"Code"),": ",i.code,""),E.Nb(3),E.fd(" ",E.yc(12,19,i.timestamp,"dd/MM/yyyy HH:mm"),""),E.Nb(4),E.gd("",E.xc(16,22,"Created by"),": ",i.name,""),E.Nb(4),E.Dc("ngForOf",i.reviews),E.Nb(2),E.fd(" ",i.approve.user.name," "),E.Nb(1),E.Dc("ngIf",i.approve.show),E.Nb(3),E.ed("en"==a.user.lang?i.approve.user.dept_name_e:i.approve.user.dept_name_l),E.Nb(2),E.Dc("ngIf",null!=i.logs),E.Nb(2),E.Dc("ngIf",0==i.is_active),E.Nb(1),E.Dc("ngIf",1==i.is_active),E.Nb(1),E.Dc("ngIf",2==i.is_active),E.Nb(1),E.Dc("ngIf",3==i.is_active),E.Nb(1),E.Dc("ngIf",4==i.is_active)}}function ce(e,t){if(1&e){var n=E.ic();E.hc(0,"button",71),E.rc("click",function(){return E.Uc(n),E.vc(2)._chooseButton(2)}),E.dd(1),E.wc(2,"translate"),E.gc()}if(2&e){var i=E.vc(2);E.Dc("ngClass",2==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),E.Nb(1),E.fd(" ",E.xc(2,2,"Timeline")," ")}}function ae(e,t){if(1&e){var n=E.ic();E.hc(0,"button",71),E.rc("click",function(){return E.Uc(n),E.vc(2)._chooseButton(3)}),E.cc(1,"i",77),E.dd(2),E.wc(3,"translate"),E.gc()}if(2&e){var i=E.vc(2);E.Dc("ngClass",3==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),E.Nb(2),E.fd(" ",E.xc(3,2,"History")," ")}}function re(e,t){if(1&e){var n=E.ic();E.hc(0,"button",71),E.rc("click",function(){return E.Uc(n),E.vc(2)._chooseButton(4)}),E.cc(1,"i",78),E.dd(2),E.wc(3,"translate"),E.gc()}if(2&e){var i=E.vc(2);E.Dc("ngClass",4==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),E.Nb(2),E.fd(" ",E.xc(3,2,"Comments")," ")}}function le(e,t){if(1&e){var n=E.ic();E.fc(0),E.dd(1,"- "),E.hc(2,"a",113),E.rc("click",function(){E.Uc(n);var e=E.vc(3),t=E.Rc(85);return e._popupProfile(t,null)}),E.cc(3,"i",15),E.gc(),E.ec()}}function oe(e,t){if(1&e&&(E.hc(0,"div",114),E.dd(1),E.wc(2,"slice"),E.gc()),2&e){var n=t.item;E.Dc("ngbTooltip",n.title.length>25?n.title:""),E.Nb(1),E.fd(" ",n.title.length>25?E.zc(2,2,n.title,0,20)+"..":n.title," ")}}function se(e,t){if(1&e){var n=E.ic();E.hc(0,"input",115),E.rc("change",function(e){return E.Uc(n),E.vc(3).toggleCheckAll(e)}),E.gc(),E.dd(1),E.wc(2,"translate")}if(2&e){var i=E.vc(3);E.Dc("ngModel",i.checkAllIDs),E.Nb(1),E.fd(" ",E.xc(2,2,"Choose all")," ")}}function de(e,t){if(1&e){var n=E.ic();E.hc(0,"div",118),E.hc(1,"span",119),E.dd(2),E.gc(),E.hc(3,"span",120),E.rc("click",function(){E.Uc(n);var e=t.$implicit;return(0,E.vc().clear)(e)}),E.dd(4,"\xd7"),E.gc(),E.gc()}if(2&e){var i=t.$implicit;E.Nb(2),E.gd("",i.name,"",i.login,"")}}function ue(e,t){if(1&e&&(E.hc(0,"div",118),E.hc(1,"span",119),E.dd(2),E.wc(3,"translate"),E.gc(),E.gc()),2&e){var n=E.vc().items;E.Nb(2),E.gd("",n.length-2," ",E.xc(3,2,"more"),"...")}}function ge(e,t){if(1&e&&(E.bd(0,de,5,2,"div",116),E.wc(1,"slice"),E.bd(2,ue,4,4,"div",117)),2&e){var n=t.items;E.Dc("ngForOf",E.zc(1,2,n,0,2)),E.Nb(2),E.Dc("ngIf",n.length>2)}}function fe(e,t){if(1&e&&(E.cc(0,"input",121),E.dd(1)),2&e){var n=t.item,i=t.item$;E.Fc("id","item-",t.index,""),E.Dc("checked",i.selected),E.Nb(1),E.fd(" ",n.name," ")}}function he(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"ck-editor",122,123),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(3).entity.content=e})("change",function(){E.Uc(n);var e=E.vc(3);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.gc(),E.ec()}if(2&e){var i=E.vc(3);E.Nb(1),E.Dc("ngModel",i.entity.content)("fullPage",!0)("config",i.ckEditorConfig)}}function be(e,t){if(1&e&&E.cc(0,"p",124),2&e){var n=E.vc(3);E.Dc("innerHtml",n._displayContent,E.Vc)}}function ve(e,t){if(1&e){var n=E.ic();E.fc(0),E.dd(1,"- "),E.hc(2,"a",125),E.rc("click",function(){E.Uc(n);var e=E.vc(3),t=E.Rc(95);return e.openViewDoc(t,e._originFile)}),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()}2&e&&(E.Nb(3),E.ed(E.xc(4,1,"Download file")))}function _e(e,t){if(1&e){var n=E.ic();E.hc(0,"input",126,127),E.rc("change",function(e){E.Uc(n);var t=E.Rc(1);return E.vc(3).fileEvent(e,t)}),E.gc()}}function pe(e,t){if(1&e){var n=E.ic();E.hc(0,"i",130),E.rc("click",function(){E.Uc(n);var e=E.vc(4);return e.removeAttachment(e.entity.id,e.entity.attached_file,0)}),E.gc()}}function me(e,t){if(1&e){var n=E.ic();E.hc(0,"div",110),E.hc(1,"img",128),E.rc("click",function(){E.Uc(n);var e=E.vc(3),t=E.Rc(95);return e.openViewDoc(t,e._originFile)}),E.gc(),E.hc(2,"span",56),E.bd(3,pe,1,0,"i",129),E.gc(),E.gc()}if(2&e){var i=E.vc(3);E.Nb(3),E.Dc("ngIf",0==i.entity.is_active)}}function ye(e,t){if(1&e){var n=E.ic();E.hc(0,"input",131,132),E.rc("change",function(e){E.Uc(n);var t=E.Rc(1);return E.vc(3).fileEventMore(e,t)}),E.gc()}}function Se(e,t){if(1&e){var n=E.ic();E.hc(0,"span",134),E.hc(1,"i",130),E.rc("click",function(){E.Uc(n);var e=E.vc().$implicit,t=E.vc(3);return t.removeAttachment(t.entity.id,e,1)}),E.gc(),E.gc()}}function Ne(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"img",128),E.rc("click",function(){E.Uc(n);var e=E.vc(3),t=E.Rc(95);return e.openViewDoc(t,e._originFile)}),E.gc(),E.bd(2,Se,2,0,"span",133),E.ec()}if(2&e){var i=E.vc(3);E.Nb(2),E.Dc("ngIf",0==i.entity.is_active)}}function we(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.ed(n.order)}}function De(e,t){if(1&e){var n=E.ic();E.hc(0,"input",138),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.order=e})("change",function(){E.Uc(n);var e=E.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.gc()}if(2&e){var i=E.vc(),c=i.index,a=i.$implicit;E.Fc("name","orderno",c+1,""),E.Fc("id","orderno",c+1,""),E.Dc("ngModel",a.order)}}function Me(e,t){1&e&&(E.hc(0,"span",56),E.cc(1,"i",57),E.gc())}function xe(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.bd(2,Me,2,0,"span",50),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.fd("",n.user.name," "),E.Nb(1),E.Dc("ngIf",n.show)}}function ke(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"nz-tree-select",139),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(4)._selectUser=e})("ngModelChange",function(){E.Uc(n);var e=E.vc().$implicit,t=E.vc(3);return t._getUserNew(e,t._selectUser)}),E.wc(2,"translate"),E.gc(),E.ec()}if(2&e){var i=E.vc(4);E.Nb(1),E.Ec("nzPlaceHolder",E.xc(2,4,"Please choose")),E.Dc("nzExpandedKeys",i.expandKeys1)("nzNodes",i._getusers)("ngModel",i._selectUser)}}function Ie(e,t){if(1&e&&(E.fc(0),E.dd(1),E.cc(2,"br"),E.hc(3,"small",49),E.dd(4),E.gc(),E.ec()),2&e){var n=E.vc().$implicit,i=E.vc(3);E.Nb(1),E.fd(" ","en"==i.user.lang?n.user.title_name_e:n.user.title_name_l,""),E.Nb(3),E.ed("en"==i.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function Ee(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Only view")))}function Ce(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Passed signature")))}function Ae(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Reviewed signature")))}function Ue(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Approved signature")))}function Re(e,t){if(1&e&&(E.fc(0),E.bd(1,Ee,3,3,"span",27),E.bd(2,Ce,3,3,"span",27),E.bd(3,Ae,3,3,"span",27),E.bd(4,Ue,3,3,"span",27),E.ec()),2&e){var n=E.vc().$implicit;E.Nb(1),E.Dc("ngIf",0==n.role),E.Nb(1),E.Dc("ngIf",1==n.role),E.Nb(1),E.Dc("ngIf",2==n.role),E.Nb(1),E.Dc("ngIf",3==n.role)}}function Pe(e,t){if(1&e){var n=E.ic();E.hc(0,"select",140),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.role=e})("change",function(){E.Uc(n);var e=E.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.hc(1,"option",88),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"option",89),E.dd(5),E.wc(6,"translate"),E.gc(),E.hc(7,"option",90),E.dd(8),E.wc(9,"translate"),E.gc(),E.hc(10,"option",91),E.dd(11),E.wc(12,"translate"),E.gc(),E.gc()}if(2&e){var i=E.vc(),c=i.$implicit;E.Fc("name","r",i.index+1,""),E.Dc("ngModel",c.role),E.Nb(2),E.ed(E.xc(3,6,"Only view")),E.Nb(3),E.fd(" ",E.xc(6,8,"Passed signature")," "),E.Nb(3),E.fd(" ",E.xc(9,10,"Reviewed signature")," "),E.Nb(3),E.fd(" ",E.xc(12,12,"Approved signature")," ")}}function Ge(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.ed(n.time)}}function Oe(e,t){if(1&e){var n=E.ic();E.hc(0,"input",138),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.time=e})("change",function(){E.Uc(n);var e=E.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.gc()}if(2&e){var i=E.vc(),c=i.index,a=i.$implicit;E.Fc("name","timer",c+1,""),E.Fc("id","timer",c+1,""),E.Dc("ngModel",a.time)}}function Te(e,t){if(1&e){var n=E.ic();E.hc(0,"a",141),E.rc("click",function(){E.Uc(n);var e=E.vc().$implicit;return E.vc(3).removeItemNew(e)}),E.cc(1,"i",142),E.gc()}}function Fe(e,t){if(1&e&&(E.hc(0,"tr"),E.hc(1,"td",26),E.bd(2,we,2,1,"span",27),E.bd(3,De,1,3,"input",135),E.gc(),E.hc(4,"td",26),E.bd(5,xe,3,2,"span",27),E.bd(6,ke,3,6,"ng-container",27),E.gc(),E.hc(7,"td",26),E.bd(8,Ie,5,2,"ng-container",27),E.gc(),E.hc(9,"td",26),E.bd(10,Re,5,4,"ng-container",27),E.bd(11,Pe,13,14,"select",136),E.gc(),E.hc(12,"td",26),E.bd(13,Ge,2,1,"span",27),E.bd(14,Oe,1,3,"input",135),E.gc(),E.hc(15,"td",26),E.bd(16,Te,2,0,"a",137),E.gc(),E.gc()),2&e){var n=t.$implicit,i=E.vc(3);E.Nb(2),E.Dc("ngIf",0!=i.entity.is_active),E.Nb(1),E.Dc("ngIf",0==i.entity.is_active),E.Nb(2),E.Dc("ngIf",n.flag||null!=n.user),E.Nb(1),E.Dc("ngIf",null==n.user),E.Nb(2),E.Dc("ngIf",null!=n.user),E.Nb(2),E.Dc("ngIf",n.flag),E.Nb(1),E.Dc("ngIf",!n.flag),E.Nb(2),E.Dc("ngIf",n.flag),E.Nb(1),E.Dc("ngIf",!n.flag),E.Nb(2),E.Dc("ngIf",!n.allow)}}function je(e,t){if(1&e){var n=E.ic();E.hc(0,"tfoot"),E.hc(1,"tr"),E.cc(2,"td",143),E.hc(3,"td",26),E.hc(4,"a",144),E.rc("click",function(){return E.Uc(n),E.vc(3).addItemNew()}),E.cc(5,"i",15),E.gc(),E.gc(),E.gc(),E.gc()}}function $e(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"div",79),E.hc(2,"label",80),E.dd(3),E.wc(4,"translate"),E.hc(5,"span",47),E.dd(6,"(*)"),E.gc(),E.gc(),E.hc(7,"input",81),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2).entity.title=e})("change",function(){E.Uc(n);var e=E.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.gc(),E.gc(),E.hc(8,"div",79),E.hc(9,"label",82),E.dd(10),E.wc(11,"translate"),E.hc(12,"span",47),E.dd(13,"(*)"),E.gc(),E.bd(14,le,4,0,"ng-container",27),E.gc(),E.hc(15,"ng-select",83),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2).entity.profile_cat_id=e})("change",function(){E.Uc(n);var e=E.vc(2);return e._diagramChange(e.entity.profile_cat_id)}),E.wc(16,"translate"),E.wc(17,"translate"),E.bd(18,oe,3,6,"ng-template",84),E.gc(),E.gc(),E.hc(19,"div",85),E.hc(20,"label",86),E.dd(21),E.wc(22,"translate"),E.gc(),E.hc(23,"select",87),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2).entity.critical_level=e})("change",function(){E.Uc(n);var e=E.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.hc(24,"option",88),E.dd(25),E.wc(26,"translate"),E.gc(),E.hc(27,"option",89),E.dd(28),E.wc(29,"translate"),E.gc(),E.hc(30,"option",90),E.dd(31),E.wc(32,"translate"),E.gc(),E.hc(33,"option",91),E.dd(34),E.wc(35,"translate"),E.gc(),E.gc(),E.gc(),E.hc(36,"div",85),E.hc(37,"label",92),E.dd(38),E.wc(39,"translate"),E.gc(),E.hc(40,"select",93),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2).entity.priority_level=e})("change",function(){E.Uc(n);var e=E.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.hc(41,"option",88),E.dd(42),E.wc(43,"translate"),E.gc(),E.hc(44,"option",89),E.dd(45),E.wc(46,"translate"),E.gc(),E.hc(47,"option",90),E.dd(48),E.wc(49,"translate"),E.gc(),E.hc(50,"option",91),E.dd(51),E.wc(52,"translate"),E.gc(),E.gc(),E.gc(),E.hc(53,"div",94),E.hc(54,"label",95),E.dd(55),E.wc(56,"translate"),E.gc(),E.hc(57,"ng-select",96,97),E.rc("blur",function(){return E.Uc(n),E.vc(2).onTouched()})("change",function(){E.Uc(n);var e=E.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),E.wc(59,"translate"),E.wc(60,"translate"),E.bd(61,se,3,4,"ng-template",98),E.bd(62,ge,3,6,"ng-template",99),E.bd(63,fe,2,3,"ng-template",84),E.gc(),E.gc(),E.hc(64,"div",79),E.hc(65,"label",100),E.dd(66),E.wc(67,"translate"),E.gc(),E.hc(68,"input",101),E.rc("change",function(){E.Uc(n);var e=E.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null})("ngModelChange",function(e){return E.Uc(n),E.vc(2).entity.estimated_cost=e}),E.gc(),E.gc(),E.hc(69,"div",70),E.hc(70,"label",102),E.dd(71),E.wc(72,"translate"),E.gc(),E.bd(73,he,3,3,"ng-container",27),E.bd(74,be,1,1,"p",103),E.gc(),E.hc(75,"div",70),E.hc(76,"label",104),E.dd(77),E.wc(78,"translate"),E.bd(79,ve,5,3,"ng-container",27),E.gc(),E.bd(80,_e,2,0,"input",105),E.hc(81,"input",106),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2).entityUpload.fileUpload=e}),E.gc(),E.bd(82,me,4,1,"div",107),E.gc(),E.hc(83,"div",70),E.hc(84,"label",108),E.dd(85),E.wc(86,"translate"),E.gc(),E.bd(87,ye,2,0,"input",109),E.hc(88,"div",110),E.bd(89,Ne,3,1,"ng-container",28),E.gc(),E.gc(),E.hc(90,"div",70),E.hc(91,"label",111),E.dd(92),E.wc(93,"translate"),E.gc(),E.hc(94,"div",23),E.hc(95,"table",112),E.hc(96,"thead"),E.hc(97,"th",26),E.dd(98),E.wc(99,"translate"),E.gc(),E.hc(100,"th",26),E.dd(101),E.wc(102,"translate"),E.gc(),E.hc(103,"th",26),E.dd(104),E.wc(105,"translate"),E.gc(),E.hc(106,"th",26),E.dd(107),E.wc(108,"translate"),E.gc(),E.hc(109,"th",26),E.dd(110),E.wc(111,"translate"),E.gc(),E.hc(112,"th",26),E.dd(113),E.wc(114,"translate"),E.gc(),E.gc(),E.hc(115,"tbody"),E.bd(116,Fe,17,10,"tr",28),E.gc(),E.bd(117,je,6,0,"tfoot",27),E.gc(),E.gc(),E.gc(),E.ec()}if(2&e){var i=E.vc(2);E.Nb(3),E.fd("",E.xc(4,62,"Title")," "),E.Nb(4),E.Dc("ngModel",i.entity.title)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),E.Nb(3),E.fd("",E.xc(11,64,"Type of profile")," "),E.Nb(4),E.Dc("ngIf",0==i.entity.is_active),E.Nb(1),E.Dc("items",i._profiles)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",i.entity.profile_cat_id)("placeholder",E.xc(16,66,"Please choose"))("notFoundText",E.xc(17,68,"Not found item"))("disabled",0!=i.entity.is_active),E.Nb(6),E.ed(E.xc(22,70,"Critical level")),E.Nb(2),E.Dc("ngModel",i.entity.critical_level)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),E.Nb(2),E.ed(E.xc(26,72,"Normal")),E.Nb(3),E.ed(E.xc(29,74,"Important")),E.Nb(3),E.ed(E.xc(32,76,"Very important")),E.Nb(3),E.ed(E.xc(35,78,"Urgent")),E.Nb(4),E.ed(E.xc(39,80,"Priority level")),E.Nb(2),E.Dc("ngModel",i.entity.priority_level)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),E.Nb(2),E.ed(E.xc(43,82,"Normal")),E.Nb(3),E.ed(E.xc(46,84,"Hurry up")),E.Nb(3),E.ed(E.xc(49,86,"Urgent")),E.Nb(3),E.ed(E.xc(52,88,"Very urgent")),E.Nb(4),E.ed(E.xc(56,90,"Related requests")),E.Nb(2),E.Dc("multiple",!0)("items",i.related_requests)("closeOnSelect",!1)("placeholder",E.xc(59,92,"Please choose"))("notFoundText",E.xc(60,94,"Not found item"))("ngModel",i.entity.related_ids)("disabled",0!=i.entity.is_active),E.Nb(9),E.fd("",E.xc(67,96,"Estimated cost")," (VND)"),E.Nb(2),E.Dc("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("ngModel",i.entity.estimated_cost)("disabled",0!=i.entity.is_active),E.Nb(3),E.ed(E.xc(72,98,"Content")),E.Nb(2),E.Dc("ngIf",0==i.entity.is_active),E.Nb(1),E.Dc("ngIf",0!=i.entity.is_active),E.Nb(3),E.fd("",E.xc(78,100,"Attachment (if any)")," (.doc,.docx,.pdf) "),E.Nb(2),E.Dc("ngIf",null!=i._originFile),E.Nb(1),E.Dc("ngIf",0==i.entity.is_active&&null==i.entity.attached_file),E.Nb(1),E.Dc("ngModel",i.entityUpload.fileUpload),E.Nb(1),E.Dc("ngIf",null!=i.entity.attached_file),E.Nb(3),E.fd("",E.xc(86,102,"More attachment (if any)")," (.doc,.docx,.pdf) "),E.Nb(2),E.Dc("ngIf",0==i.entity.is_active),E.Nb(2),E.Dc("ngForOf",i.other_attached_files),E.Nb(3),E.ed(E.xc(93,104,"Handling staff")),E.Nb(6),E.fd(" ",E.xc(99,106,"Processing no.")," "),E.Nb(3),E.ed(E.xc(102,108,"Fullname")),E.Nb(3),E.ed(E.xc(105,110,"Title1")),E.Nb(3),E.ed(E.xc(108,112,"Method1")),E.Nb(3),E.ed(E.xc(111,114,"Time")),E.Nb(3),E.ed(E.xc(114,116,"Actions")),E.Nb(3),E.Dc("ngForOf",i.handling_users),E.Nb(1),E.Dc("ngIf",0==i.entity.is_active)}}function Be(e,t){1&e&&(E.hc(0,"div",149),E.hc(1,"h4",47),E.dd(2),E.wc(3,"translate"),E.gc(),E.gc()),2&e&&(E.Nb(2),E.fd(" ",E.xc(3,1,"No records now!!!")," "))}function ze(e,t){1&e&&E.cc(0,"img",153)}function qe(e,t){if(1&e&&(E.fc(0),E.dd(1),E.wc(2,"date"),E.wc(3,"date"),E.ec()),2&e){var n=E.vc().$implicit;E.Nb(1),E.gd(", ",E.yc(2,2,n.timestamp,"HH:mm a")," - ",E.yc(3,5,n.timestamp,"dd/MM/yyyy"),"")}}function He(e,t){if(1&e&&(E.hc(0,"div",149),E.hc(1,"div"),E.bd(2,ze,1,0,"img",150),E.gc(),E.hc(3,"div",151),E.hc(4,"h6"),E.dd(5),E.hc(6,"span",152),E.dd(7),E.wc(8,"date"),E.gc(),E.gc(),E.dd(9),E.wc(10,"translate"),E.bd(11,qe,4,8,"ng-container",27),E.gc(),E.gc()),2&e){var n=t.$implicit;E.Nb(1),E.Qb("timeline-round m-r-30 timeline-line-1 ",null!=n.timestamp?"":n.flag?"bg-info":"bg-warning",""),E.Nb(1),E.Dc("ngIf",null!=n.timestamp),E.Nb(3),E.fd(" ",n.user.name," "),E.Nb(2),E.ed(E.yc(8,8,n.timestamp,"dd/MM/yyyy HH:mm")),E.Nb(2),E.fd(" ",E.xc(10,11,n.content),""),E.Nb(2),E.Dc("ngIf",null!=n.timestamp)}}function Ke(e,t){if(1&e&&(E.hc(0,"div",145),E.cc(1,"hr"),E.hc(2,"div",2),E.hc(3,"div",6),E.hc(4,"div",146),E.bd(5,Be,4,3,"div",147),E.bd(6,He,12,13,"div",148),E.gc(),E.gc(),E.gc(),E.gc()),2&e){var n=E.vc(2);E.Nb(5),E.Dc("ngIf",0==n._diagrams.length),E.Nb(1),E.Dc("ngForOf",n._diagrams)}}function Le(e,t){1&e&&(E.hc(0,"div",149),E.hc(1,"h4",47),E.dd(2),E.wc(3,"translate"),E.gc(),E.gc()),2&e&&(E.Nb(2),E.fd(" ",E.xc(3,1,"No records now!!!")," "))}function Ve(e,t){if(1&e&&(E.fc(0),E.hc(1,"small",49),E.dd(2),E.wc(3,"translate"),E.wc(4,"translate"),E.gc(),E.cc(5,"br"),E.ec()),2&e){var n=E.vc().$implicit;E.Nb(2),E.gd("",E.xc(3,2,"Messages"),": ",E.xc(4,4,n.messages),"")}}function Ye(e,t){if(1&e&&(E.fc(0),E.hc(1,"small",49),E.dd(2),E.wc(3,"translate"),E.gc(),E.cc(4,"br"),E.ec()),2&e){var n=E.vc().$implicit;E.Nb(2),E.gd("",E.xc(3,2,"Content"),": ",n.content,"")}}function We(e,t){if(1&e&&(E.hc(0,"small",49),E.dd(1),E.wc(2,"translate"),E.wc(3,"translate"),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.gd("",E.xc(2,2,"Approved cost"),": ",E.xc(3,4,n.approved_cost),"")}}function Qe(e,t){if(1&e&&(E.hc(0,"div",149),E.hc(1,"div",154),E.cc(2,"img",153),E.gc(),E.hc(3,"div",151),E.hc(4,"h6"),E.dd(5),E.hc(6,"span",152),E.dd(7),E.wc(8,"date"),E.gc(),E.gc(),E.bd(9,Ve,6,6,"ng-container",27),E.bd(10,Ye,5,4,"ng-container",27),E.bd(11,We,4,6,"small",155),E.gc(),E.gc()),2&e){var n=t.$implicit;E.Nb(5),E.fd(" ",n.user.name," "),E.Nb(2),E.ed(E.yc(8,5,n.timestamp,"dd/MM/yyyy HH:mm")),E.Nb(2),E.Dc("ngIf",null!=n.messages),E.Nb(1),E.Dc("ngIf",null!=n.content),E.Nb(1),E.Dc("ngIf",null!=n.approved_cost)}}function Xe(e,t){if(1&e&&(E.hc(0,"div",70),E.cc(1,"hr"),E.hc(2,"div",2),E.hc(3,"div",6),E.hc(4,"div",146),E.bd(5,Le,4,3,"div",147),E.bd(6,Qe,12,8,"div",148),E.gc(),E.gc(),E.gc(),E.gc()),2&e){var n=E.vc(2);E.Nb(5),E.Dc("ngIf",0==n._histories.length),E.Nb(1),E.Dc("ngForOf",n._histories)}}function Ze(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",174),E.ec()),2&e){var n=E.vc(2).$implicit,i=E.vc(3);E.Nb(1),E.Dc("src",i.baseFolder+"/"+n.avatar,E.Wc)}}function Je(e,t){1&e&&(E.fc(0),E.cc(1,"img",175),E.ec())}function et(e,t){if(1&e&&(E.hc(0,"div",170),E.bd(1,Ze,2,1,"ng-container",27),E.bd(2,Je,2,0,"ng-container",27),E.hc(3,"div",171),E.hc(4,"small",172),E.dd(5),E.gc(),E.hc(6,"span",173),E.dd(7),E.wc(8,"date"),E.gc(),E.gc(),E.dd(9),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.Dc("ngIf",null!=n.avatar&&""!=n.avatar),E.Nb(1),E.Dc("ngIf",null==n.avatar||""==n.avatar),E.Nb(3),E.fd("",n.name,","),E.Nb(2),E.ed(E.yc(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),E.Nb(2),E.fd(" ",null==n?null:n.messages," ")}}function tt(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",178),E.ec()),2&e){var n=E.vc(2).$implicit,i=E.vc(3);E.Nb(1),E.Dc("src",i.baseFolder+"/"+n.avatar,E.Wc)}}function nt(e,t){1&e&&(E.fc(0),E.cc(1,"img",179),E.ec())}function it(e,t){if(1&e&&(E.hc(0,"div",176),E.bd(1,tt,2,1,"ng-container",27),E.bd(2,nt,2,0,"ng-container",27),E.hc(3,"div",177),E.hc(4,"small",172),E.dd(5),E.gc(),E.hc(6,"span",173),E.dd(7),E.wc(8,"date"),E.gc(),E.gc(),E.dd(9),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.Dc("ngIf",null!=n.avatar&&""!=n.avatar),E.Nb(1),E.Dc("ngIf",null==n.avatar||""==n.avatar),E.Nb(3),E.fd("",n.name,","),E.Nb(2),E.ed(E.yc(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),E.Nb(2),E.fd(" ",null==n?null:n.messages," ")}}var ct=function(e){return{clearfix:e}};function at(e,t){if(1&e&&(E.hc(0,"li",167),E.bd(1,et,10,8,"div",168),E.bd(2,it,10,8,"ng-template",null,169,E.cd),E.gc()),2&e){var n=t.$implicit,i=E.Rc(3),c=E.vc(3);E.Dc("ngClass",E.Ic(3,ct,n.depended_id==c.user.id)),E.Nb(1),E.Dc("ngIf",n.depended_id!=c.user.id)("ngIfElse",i)}}function rt(e,t){1&e&&(E.fc(0),E.hc(1,"div",180),E.hc(2,"div",181),E.cc(3,"img",182),E.gc(),E.gc(),E.ec())}function lt(e,t){if(1&e){var n=E.ic();E.hc(0,"div",70),E.hc(1,"div",2),E.hc(2,"div",6),E.hc(3,"div",156),E.hc(4,"div",157),E.hc(5,"div",158),E.hc(6,"div",159),E.hc(7,"input",160),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(2)._contents=e})("change",function(){return E.Uc(n),E.vc(2)._addChat()}),E.wc(8,"translate"),E.gc(),E.hc(9,"ul",161),E.hc(10,"li",162),E.hc(11,"a",163),E.cc(12,"i",164),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(13,"div",165),E.hc(14,"ul"),E.bd(15,at,4,5,"li",166),E.bd(16,rt,4,0,"ng-container",27),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc()}if(2&e){var i=E.vc(2);E.Nb(7),E.Fc("placeholder","",E.xc(8,4,"Enter content"),"..."),E.Dc("ngModel",i._contents),E.Nb(8),E.Dc("ngForOf",i.chats),E.Nb(1),E.Dc("ngIf",!(null!=i.chats&&i.chats.length))}}function ot(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"button",185),E.rc("click",function(){return E.Uc(n),E.vc(3).cancelSubmission()}),E.dd(2),E.wc(3,"translate"),E.gc(),E.ec()}2&e&&(E.Nb(2),E.fd(" ",E.xc(3,1,"Cancel")," "))}function st(e,t){if(1&e){var n=E.ic();E.fc(0),E.hc(1,"button",186),E.rc("click",function(){E.Uc(n);var e=E.vc(4),t=E.Rc(97);return e.disagreeSubmission(t,"disagree")}),E.dd(2),E.wc(3,"translate"),E.gc(),E.ec()}2&e&&(E.Nb(2),E.fd(" ",E.xc(3,1,"Disagree")," "))}function dt(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function ut(e,t){if(1&e){var n=E.ic();E.hc(0,"button",190),E.rc("click",function(){return E.Uc(n),E.vc(5).submissionChange(0)}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Save")," "))}function gt(e,t){if(1&e&&(E.fc(0),E.bd(1,ut,3,3,"button",189),E.ec()),2&e){var n=E.vc(4);E.Nb(1),E.Dc("ngIf",!n.isSave)}}function ft(e,t){1&e&&E.dc(0)}function ht(e,t){1&e&&(E.fc(0),E.hc(1,"a",191),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function bt(e,t){if(1&e){var n=E.ic();E.hc(0,"button",193),E.rc("click",function(){E.Uc(n);var e=E.vc(5);return e.approvedByUser(e.entity.is_active,1)}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Sign")," "))}function vt(e,t){if(1&e&&(E.fc(0),E.bd(1,bt,3,3,"button",192),E.ec()),2&e){var n=E.vc(4);E.Nb(1),E.Dc("ngIf",!n.isSaveSigned)}}function _t(e,t){if(1&e&&(E.hc(0,"ng-contatiner"),E.bd(1,st,4,3,"ng-container",27),E.bd(2,dt,5,3,"ng-container",27),E.bd(3,gt,2,1,"ng-container",27),E.bd(4,ft,1,0,"ng-container",27),E.bd(5,ht,5,3,"ng-container",27),E.bd(6,vt,2,1,"ng-container",27),E.gc()),2&e){var n=E.vc(3);E.Nb(1),E.Dc("ngIf",n._flagShow),E.Nb(1),E.Dc("ngIf",n.isSave),E.Nb(1),E.Dc("ngIf","ADD"==n._flagModal),E.Nb(1),E.Dc("ngIf","ADD"!=n._flagModal&&0!=n.entity.is_active),E.Nb(1),E.Dc("ngIf",n.isSaveSigned),E.Nb(1),E.Dc("ngIf","ADD"!=n._flagModal&&n._flagShow)}}function pt(e,t){if(1&e){var n=E.ic();E.hc(0,"button",186),E.rc("click",function(){return E.Uc(n),E.vc(5).submissionRecall()}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Recall")," "))}function mt(e,t){if(1&e&&(E.fc(0),E.bd(1,pt,3,3,"button",194),E.ec()),2&e){var n=E.vc(4);E.Nb(1),E.Dc("ngIf",!n.isSaveSigned)}}function yt(e,t){if(1&e){var n=E.ic();E.hc(0,"button",193),E.rc("click",function(){return E.Uc(n),E.vc(5).submissionChange(1)}),E.dd(1),E.wc(2,"translate"),E.gc()}if(2&e){var i=E.vc(5);E.Nb(1),E.fd(" ",E.xc(2,1,0==i.entity.is_active?"Sign":"Resign")," ")}}function St(e,t){if(1&e&&(E.fc(0),E.bd(1,yt,3,3,"button",192),E.ec()),2&e){var n=E.vc(4);E.Nb(1),E.Dc("ngIf",!n.isSaveSigned)}}function Nt(e,t){if(1&e){var n=E.ic();E.hc(0,"button",193),E.rc("click",function(){return E.Uc(n),E.vc(5).submissionChange(1)}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Sign")," "))}function wt(e,t){if(1&e&&(E.fc(0),E.bd(1,Nt,3,3,"button",192),E.ec()),2&e){var n=E.vc(4);E.Nb(1),E.Dc("ngIf",!n.isSaveSigned)}}function Dt(e,t){if(1&e&&(E.fc(0),E.bd(1,mt,2,1,"ng-container",27),E.bd(2,St,2,1,"ng-container",27),E.bd(3,wt,2,1,"ng-container",27),E.ec()),2&e){var n=E.vc(3);E.Nb(1),E.Dc("ngIf",1==n.entity.is_active&&null!=n.entity.id),E.Nb(1),E.Dc("ngIf",0==n.entity.is_active&&null==n.entity.id||2==n.entity.is_active),E.Nb(1),E.Dc("ngIf",0==n.entity.is_active&&"ADD"!=n._flagModal&&null==n.entity.logs)}}function Mt(e,t){if(1&e){var n=E.ic();E.hc(0,"div",183),E.hc(1,"button",184),E.rc("click",function(){return E.Uc(n),E.vc().$implicit.dismiss("Cross click")}),E.dd(2),E.wc(3,"translate"),E.gc(),E.bd(4,ot,4,3,"ng-container",27),E.bd(5,_t,7,6,"ng-contatiner",27),E.bd(6,Dt,4,3,"ng-container",27),E.gc()}if(2&e){var i=E.vc(2);E.Nb(2),E.fd(" ",E.xc(3,4,"Close")," "),E.Nb(2),E.Dc("ngIf",0==i.entity.is_active&&null!=i.entity.id),E.Nb(1),E.Dc("ngIf",2!=i.entity.is_active),E.Nb(1),E.Dc("ngIf",i.entity.created_by==i.user.id)}}var xt=function(){return{"max-height":"calc(100vh - 300px)"}},kt=function(){return{"max-height":"calc(100vh - 300px)","overflow-y":"auto"}};function It(e,t){if(1&e){var n=E.ic();E.hc(0,"form",63),E.hc(1,"div",64),E.hc(2,"h4",65),E.dd(3),E.wc(4,"translate"),E.wc(5,"translate"),E.wc(6,"translate"),E.gc(),E.hc(7,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(8,"span",67),E.dd(9,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(10,"div",68),E.hc(11,"div",69),E.hc(12,"div",70),E.hc(13,"div",7),E.hc(14,"button",71),E.rc("click",function(){return E.Uc(n),E.vc()._chooseButton(1)}),E.dd(15),E.wc(16,"translate"),E.gc(),E.bd(17,ce,3,4,"button",72),E.bd(18,ae,4,4,"button",72),E.bd(19,re,4,4,"button",72),E.gc(),E.gc(),E.gc(),E.hc(20,"div",73),E.bd(21,$e,118,118,"ng-container",27),E.bd(22,Ke,7,2,"div",74),E.bd(23,Xe,7,2,"div",75),E.bd(24,lt,17,6,"div",75),E.gc(),E.gc(),E.bd(25,Mt,7,6,"div",76),E.gc()}if(2&e){var i=E.vc();E.Nb(3),E.gd(" ","ADD"==i._flagModal?E.xc(4,13,"Add new"):E.xc(5,15,"Update")," ",E.xc(6,17,i._title)," "),E.Nb(11),E.Dc("ngClass",1==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),E.Nb(1),E.fd(" ",E.xc(16,19,"General information")," "),E.Nb(2),E.Dc("ngIf","ADD"!=i._flagModal),E.Nb(1),E.Dc("ngIf","ADD"!=i._flagModal&&i._authenService.hasPermission("USERS","read")),E.Nb(1),E.Dc("ngIf","ADD"!=i._flagModal),E.Nb(1),E.Dc("ngStyle",4==i._flagButton?E.Hc(21,xt):E.Hc(22,kt)),E.Nb(1),E.Dc("ngIf",1==i._flagButton),E.Nb(1),E.Dc("ngIf",2==i._flagButton&&"ADD"!=i._flagModal),E.Nb(1),E.Dc("ngIf",3==i._flagButton&&"ADD"!=i._flagModal),E.Nb(1),E.Dc("ngIf",4==i._flagButton&&"ADD"!=i._flagModal),E.Nb(1),E.Dc("ngIf",1==i._flagButton)}}function Et(e,t){if(1&e&&(E.hc(0,"option",227),E.dd(1),E.gc()),2&e){var n=t.$implicit,i=E.vc(2);E.Ec("value",n.id),E.Nb(1),E.gd(" ",n.code," - ","en"==i.user.lang?n.name_e:n.name_l," ")}}function Ct(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.ed(n.order)}}function At(e,t){if(1&e){var n=E.ic();E.hc(0,"input",231),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.order=e}),E.gc()}if(2&e){var i=E.vc(),c=i.$implicit;E.Fc("name","or",i.index+1,""),E.Dc("ngModel",c.order)}}function Ut(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.ed(n.user.title)}}function Rt(e,t){if(1&e){var n=E.ic();E.hc(0,"nz-tree-select",139),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc(3)._selectDept=e})("ngModelChange",function(){E.Uc(n);var e=E.vc().$implicit,t=E.vc(2);return t._getUser(e,t._selectDept)}),E.wc(1,"translate"),E.gc()}if(2&e){var i=E.vc(3);E.Ec("nzPlaceHolder",E.xc(1,4,"Please choose")),E.Dc("nzExpandedKeys",i.expandKeys)("nzNodes",i._departments)("ngModel",i._selectDept)}}function Pt(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Only view")))}function Gt(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Passed signature")))}function Ot(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Reviewed signature")))}function Tt(e,t){1&e&&(E.hc(0,"span"),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Approved signature")))}function Ft(e,t){if(1&e&&(E.hc(0,"span"),E.bd(1,Pt,3,3,"span",27),E.bd(2,Gt,3,3,"span",27),E.bd(3,Ot,3,3,"span",27),E.bd(4,Tt,3,3,"span",27),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.Dc("ngIf",0==n.role),E.Nb(1),E.Dc("ngIf",1==n.role),E.Nb(1),E.Dc("ngIf",2==n.role),E.Nb(1),E.Dc("ngIf",3==n.role)}}function jt(e,t){if(1&e){var n=E.ic();E.hc(0,"select",140),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.role=e})("change",function(){E.Uc(n);var e=E.vc().$implicit,t=E.vc(2);return t._getUser(e,t._selectDept)}),E.hc(1,"option",88),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"option",89),E.dd(5),E.wc(6,"translate"),E.gc(),E.hc(7,"option",90),E.dd(8),E.wc(9,"translate"),E.gc(),E.hc(10,"option",91),E.dd(11),E.wc(12,"translate"),E.gc(),E.gc()}if(2&e){var i=E.vc(),c=i.$implicit;E.Fc("name","r",i.index+1,""),E.Dc("ngModel",c.role),E.Nb(2),E.ed(E.xc(3,6,"Only view")),E.Nb(3),E.fd(" ",E.xc(6,8,"Passed signature")," "),E.Nb(3),E.fd(" ",E.xc(9,10,"Reviewed signature")," "),E.Nb(3),E.fd(" ",E.xc(12,12,"Approved signature")," ")}}function $t(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){var n=E.vc().$implicit;E.Nb(1),E.ed(n.time)}}function Bt(e,t){if(1&e){var n=E.ic();E.hc(0,"input",232),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().$implicit.time=e}),E.gc()}if(2&e){var i=E.vc(),c=i.$implicit;E.Fc("name","timer",i.index+1,""),E.Dc("ngModel",c.time)}}function zt(e,t){if(1&e){var n=E.ic();E.hc(0,"tr"),E.hc(1,"td",26),E.bd(2,Ct,2,1,"span",27),E.bd(3,At,1,2,"input",228),E.gc(),E.hc(4,"td",26),E.bd(5,Ut,2,1,"span",27),E.bd(6,Rt,2,6,"nz-tree-select",229),E.gc(),E.hc(7,"td",26),E.bd(8,Ft,5,4,"span",27),E.bd(9,jt,13,14,"select",136),E.gc(),E.hc(10,"td",26),E.bd(11,$t,2,1,"span",27),E.bd(12,Bt,1,2,"input",230),E.gc(),E.hc(13,"td",26),E.hc(14,"a",141),E.rc("click",function(){E.Uc(n);var e=t.$implicit;return E.vc(2)._removeItemHandle(e)}),E.cc(15,"i",142),E.gc(),E.gc(),E.gc()}if(2&e){var i=t.$implicit;E.Nb(2),E.Dc("ngIf",i.flag),E.Nb(1),E.Dc("ngIf",!i.flag),E.Nb(2),E.Dc("ngIf",i.flag),E.Nb(1),E.Dc("ngIf",!i.flag),E.Nb(2),E.Dc("ngIf",i.flag),E.Nb(1),E.Dc("ngIf",!i.flag),E.Nb(2),E.Dc("ngIf",i.flag),E.Nb(1),E.Dc("ngIf",!i.flag)}}function qt(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function Ht(e,t){if(1&e&&(E.hc(0,"button",233),E.dd(1),E.wc(2,"translate"),E.gc()),2&e){E.vc();var n=E.Rc(1);E.Dc("disabled",!n.valid),E.Nb(1),E.fd(" ",E.xc(2,2,"Save")," ")}}function Kt(e,t){if(1&e){var n=E.ic();E.hc(0,"form",195,196),E.rc("ngSubmit",function(){return E.Uc(n),E.vc().saveChangeP()}),E.hc(2,"div",64),E.hc(3,"h4",65),E.dd(4),E.wc(5,"translate"),E.wc(6,"translate"),E.wc(7,"translate"),E.gc(),E.hc(8,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(9,"span",67),E.dd(10,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(11,"div",197),E.hc(12,"div",69),E.hc(13,"div",198),E.hc(14,"label",199),E.dd(15),E.wc(16,"translate"),E.hc(17,"span",47),E.dd(18,"(*)"),E.gc(),E.dd(19," - "),E.hc(20,"a",113),E.rc("click",function(){E.Uc(n);var e=E.vc(),t=E.Rc(87);return e._popupCategory(t,null)}),E.cc(21,"i",15),E.gc(),E.gc(),E.hc(22,"select",200),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.profile_group_id=e}),E.hc(23,"option",201),E.dd(24),E.wc(25,"translate"),E.gc(),E.bd(26,Et,2,3,"option",202),E.gc(),E.gc(),E.hc(27,"div",198),E.hc(28,"label",203),E.dd(29),E.wc(30,"translate"),E.hc(31,"span",47),E.dd(32,"(*)"),E.gc(),E.gc(),E.hc(33,"input",204),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.code=e})("keyup",function(){return E.Uc(n),E.vc().removeBlankTypeProfile()}),E.gc(),E.gc(),E.hc(34,"div",198),E.hc(35,"label",205),E.dd(36),E.wc(37,"translate"),E.hc(38,"span",47),E.dd(39,"(*)"),E.gc(),E.gc(),E.hc(40,"input",206),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.title=e}),E.gc(),E.gc(),E.hc(41,"div",198),E.hc(42,"label",207),E.dd(43),E.wc(44,"translate"),E.hc(45,"span",47),E.dd(46,"(*)"),E.gc(),E.dd(47," - "),E.hc(48,"a",113),E.rc("click",function(){E.Uc(n);var e=E.vc(),t=E.Rc(89);return e._popupCategory1(t,null)}),E.cc(49,"i",15),E.gc(),E.gc(),E.hc(50,"ng-select",208),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.document_id=e}),E.wc(51,"translate"),E.wc(52,"translate"),E.gc(),E.gc(),E.hc(53,"div",70),E.hc(54,"label",209),E.dd(55),E.wc(56,"translate"),E.hc(57,"span",47),E.dd(58,"(*)"),E.gc(),E.gc(),E.hc(59,"div",23),E.hc(60,"table",112),E.hc(61,"thead"),E.hc(62,"th",26),E.dd(63),E.wc(64,"translate"),E.gc(),E.hc(65,"th",26),E.dd(66),E.wc(67,"translate"),E.hc(68,"a",113),E.rc("click",function(){E.Uc(n);var e=E.vc(),t=E.Rc(93);return e._popupDepartment(t,null)}),E.cc(69,"i",15),E.gc(),E.gc(),E.hc(70,"th",26),E.dd(71),E.wc(72,"translate"),E.gc(),E.hc(73,"th",26),E.dd(74),E.wc(75,"translate"),E.wc(76,"translate"),E.gc(),E.hc(77,"th",26),E.dd(78),E.wc(79,"translate"),E.gc(),E.gc(),E.hc(80,"tbody"),E.bd(81,zt,16,8,"tr",28),E.gc(),E.hc(82,"tfoot"),E.hc(83,"tr"),E.cc(84,"td",210),E.hc(85,"td",26),E.hc(86,"a",144),E.rc("click",function(){return E.Uc(n),E.vc()._addItemHandle(null)}),E.cc(87,"i",15),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(88,"div",70),E.hc(89,"label",211),E.dd(90),E.wc(91,"translate"),E.gc(),E.hc(92,"ck-editor",212,213),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.description=e}),E.gc(),E.gc(),E.hc(94,"div",85),E.hc(95,"label",214),E.dd(96),E.wc(97,"translate"),E.gc(),E.hc(98,"div",215),E.hc(99,"input",216),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.is_active=e}),E.gc(),E.hc(100,"label",217),E.dd(101),E.wc(102,"translate"),E.gc(),E.gc(),E.gc(),E.hc(103,"div",79),E.hc(104,"label",218),E.dd(105),E.wc(106,"translate"),E.gc(),E.hc(107,"input",219),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySub.estimated_cost=e}),E.gc(),E.gc(),E.hc(108,"div",220),E.hc(109,"label",221),E.dd(110),E.wc(111,"translate"),E.gc(),E.hc(112,"input",222,223),E.rc("change",function(e){E.Uc(n);var t=E.Rc(113);return E.vc().fileEvent1(e,t)}),E.gc(),E.hc(114,"input",224),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entityUpload1.fileUpload=e}),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(115,"div",183),E.hc(116,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(117),E.wc(118,"translate"),E.gc(),E.bd(119,qt,5,3,"ng-container",27),E.bd(120,Ht,3,4,"button",226),E.gc(),E.gc()}if(2&e){var i=E.vc();E.Nb(4),E.gd(" ","ADD"==i._flagSubModal?E.xc(5,41,"Add new"):E.xc(6,43,"Update")," ",E.xc(7,45,i._subTitle)," "),E.Nb(11),E.fd("",E.xc(16,47,"Profile group")," "),E.Nb(7),E.Dc("ngModel",i.entitySub.profile_group_id),E.Nb(2),E.ed(E.xc(25,49,"Please choose")),E.Nb(2),E.Dc("ngForOf",i._catprofiles),E.Nb(3),E.fd("",E.xc(30,51,"Profile code")," "),E.Nb(4),E.Dc("ngModel",i.entitySub.code),E.Nb(3),E.fd("",E.xc(37,53,"Profile name")," "),E.Nb(4),E.Dc("ngModel",i.entitySub.title),E.Nb(3),E.fd("",E.xc(44,55,"Type of document")," "),E.Nb(7),E.Dc("items",i._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==i.user.lang?"name_e":"name_l")("ngModel",i.entitySub.document_id)("placeholder",E.xc(51,57,"Please choose"))("notFoundText",E.xc(52,59,"Not found item")),E.Nb(5),E.fd("",E.xc(56,61,"Configure handling users")," "),E.Nb(8),E.fd(" ",E.xc(64,63,"Processing no.")," "),E.Nb(3),E.fd(" ",E.xc(67,65,"Manager Unit")," - "),E.Nb(5),E.ed(E.xc(72,67,"Roles")),E.Nb(3),E.gd(" ",E.xc(75,69,"Time")," (",E.xc(76,71,"hours"),") "),E.Nb(4),E.ed(E.xc(79,73,"Actions")),E.Nb(3),E.Dc("ngForOf",i.entitySub.handle_users.data),E.Nb(9),E.ed(E.xc(91,75,"Description")),E.Nb(2),E.Dc("ngModel",i.entitySub.description)("fullPage",!0)("config",i.ckEditorConfig),E.Nb(4),E.ed(E.xc(97,77,"Status")),E.Nb(3),E.Dc("ngModel",i.entitySub.is_active),E.Nb(2),E.ed(E.xc(102,79,i.entitySub.is_active?"activated":"not activated")),E.Nb(4),E.fd("",E.xc(106,81,"Estimated cost")," (VND)"),E.Nb(2),E.Dc("ngModel",i.entitySub.estimated_cost),E.Nb(3),E.fd("",E.xc(111,83,"Attachment (if any)")," (.doc,.docx,.pdf)"),E.Nb(4),E.Dc("ngModel",i.entityUpload1.fileUpload),E.Nb(3),E.fd(" ",E.xc(118,85,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveSub),E.Nb(1),E.Dc("ngIf",!i.isSaveSub)}}function Lt(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function Vt(e,t){if(1&e&&(E.hc(0,"button",233),E.dd(1),E.wc(2,"translate"),E.gc()),2&e){E.vc();var n=E.Rc(1);E.Dc("disabled",!n.valid),E.Nb(1),E.fd(" ",E.xc(2,2,"Save")," ")}}function Yt(e,t){if(1&e){var n=E.ic();E.hc(0,"form",195,234),E.rc("ngSubmit",function(){return E.Uc(n),E.vc().saveChangeProfileGroup()}),E.hc(2,"div",64),E.hc(3,"h4",65),E.dd(4),E.wc(5,"translate"),E.wc(6,"translate"),E.wc(7,"translate"),E.gc(),E.hc(8,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(9,"span",67),E.dd(10,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(11,"div",68),E.hc(12,"div",69),E.hc(13,"div",220),E.hc(14,"div",235),E.hc(15,"label",236),E.dd(16),E.wc(17,"translate"),E.hc(18,"span",47),E.dd(19,"(*)"),E.gc(),E.gc(),E.hc(20,"input",237),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.code=e})("keyup",function(){return E.Uc(n),E.vc().removeBlank()}),E.wc(21,"translate"),E.gc(),E.gc(),E.gc(),E.hc(22,"div",70),E.hc(23,"div",235),E.hc(24,"label",238),E.dd(25),E.wc(26,"translate"),E.hc(27,"span",47),E.dd(28,"(*)"),E.gc(),E.gc(),E.hc(29,"input",239),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_l=e}),E.wc(30,"translate"),E.wc(31,"translate"),E.gc(),E.gc(),E.gc(),E.hc(32,"div",70),E.hc(33,"div",235),E.hc(34,"input",240),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_e=e}),E.wc(35,"translate"),E.wc(36,"translate"),E.gc(),E.gc(),E.gc(),E.hc(37,"div",220),E.hc(38,"label",241),E.dd(39),E.wc(40,"translate"),E.gc(),E.hc(41,"div",215),E.hc(42,"input",242),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.is_active=e}),E.gc(),E.hc(43,"label",243),E.dd(44),E.wc(45,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(46,"div",183),E.hc(47,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(48),E.wc(49,"translate"),E.gc(),E.bd(50,Lt,5,3,"ng-container",27),E.bd(51,Vt,3,4,"button",226),E.gc(),E.gc()}if(2&e){var i=E.vc();E.Nb(4),E.gd(" ",null==i.entitySubIn.id?E.xc(5,18,"Add new"):E.xc(6,20,"Update")," ",E.xc(7,22,"Profile group")," "),E.Nb(12),E.fd("",E.xc(17,24,"Profile code")," "),E.Nb(4),E.Ec("placeholder",E.xc(21,26,"Profile code")),E.Dc("ngModel",i.entitySubIn.code),E.Nb(5),E.fd("",E.xc(26,28,"Group name")," "),E.Nb(4),E.Gc("placeholder","",E.xc(30,30,"Group name")," (",E.xc(31,32,"Vietnamese"),")"),E.Dc("ngModel",i.entitySubIn.name_l),E.Nb(5),E.Gc("placeholder","",E.xc(35,34,"Group name")," (",E.xc(36,36,"English"),")"),E.Dc("ngModel",i.entitySubIn.name_e),E.Nb(5),E.ed(E.xc(40,38,"Status")),E.Nb(3),E.Dc("ngModel",i.entitySubIn.is_active),E.Nb(2),E.ed(E.xc(45,40,i.entitySubIn.is_active?"activated":"not activated")),E.Nb(4),E.fd(" ",E.xc(49,42,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveSub1),E.Nb(1),E.Dc("ngIf",!i.isSaveSub1)}}function Wt(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function Qt(e,t){if(1&e&&(E.hc(0,"button",233),E.dd(1),E.wc(2,"translate"),E.gc()),2&e){E.vc();var n=E.Rc(1);E.Dc("disabled",!n.valid),E.Nb(1),E.fd(" ",E.xc(2,2,"Save")," ")}}function Xt(e,t){if(1&e){var n=E.ic();E.hc(0,"form",195,244),E.rc("ngSubmit",function(){return E.Uc(n),E.vc().saveChangeProfileGroup1()}),E.hc(2,"div",64),E.hc(3,"h4",65),E.dd(4),E.wc(5,"translate"),E.wc(6,"translate"),E.wc(7,"translate"),E.gc(),E.hc(8,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(9,"span",67),E.dd(10,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(11,"div",68),E.hc(12,"div",69),E.hc(13,"div",220),E.hc(14,"div",235),E.hc(15,"label",245),E.dd(16),E.wc(17,"translate"),E.hc(18,"span",47),E.dd(19,"(*)"),E.gc(),E.gc(),E.hc(20,"input",246),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.code=e})("keyup",function(){return E.Uc(n),E.vc().removeBlank()}),E.wc(21,"translate"),E.gc(),E.gc(),E.gc(),E.hc(22,"div",70),E.hc(23,"div",235),E.hc(24,"label",247),E.dd(25),E.wc(26,"translate"),E.hc(27,"span",47),E.dd(28,"(*)"),E.gc(),E.gc(),E.hc(29,"input",248),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_l=e}),E.wc(30,"translate"),E.wc(31,"translate"),E.gc(),E.gc(),E.gc(),E.hc(32,"div",70),E.hc(33,"div",235),E.hc(34,"input",249),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_e=e}),E.wc(35,"translate"),E.wc(36,"translate"),E.gc(),E.gc(),E.gc(),E.hc(37,"div",220),E.hc(38,"label",250),E.dd(39),E.wc(40,"translate"),E.gc(),E.hc(41,"div",215),E.hc(42,"input",251),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.is_active=e}),E.gc(),E.hc(43,"label",252),E.dd(44),E.wc(45,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(46,"div",183),E.hc(47,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(48),E.wc(49,"translate"),E.gc(),E.bd(50,Wt,5,3,"ng-container",27),E.bd(51,Qt,3,4,"button",226),E.gc(),E.gc()}if(2&e){var i=E.vc();E.Nb(4),E.gd(" ",null==i.entitySubIn.id?E.xc(5,18,"Add new"):E.xc(6,20,"Update")," ",E.xc(7,22,"Type of document")," "),E.Nb(12),E.fd("",E.xc(17,24,"Document code")," "),E.Nb(4),E.Ec("placeholder",E.xc(21,26,"Document code")),E.Dc("ngModel",i.entitySubIn.code),E.Nb(5),E.fd("",E.xc(26,28,"Document name")," "),E.Nb(4),E.Gc("placeholder","",E.xc(30,30,"Document name")," (",E.xc(31,32,"Vietnamese"),")"),E.Dc("ngModel",i.entitySubIn.name_l),E.Nb(5),E.Gc("placeholder","",E.xc(35,34,"Document name")," (",E.xc(36,36,"English"),")"),E.Dc("ngModel",i.entitySubIn.name_e),E.Nb(5),E.ed(E.xc(40,38,"Status")),E.Nb(3),E.Dc("ngModel",i.entitySubIn.is_active),E.Nb(2),E.ed(E.xc(45,40,i.entitySubIn.is_active?"activated":"not activated")),E.Nb(4),E.fd(" ",E.xc(49,42,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveSub1),E.Nb(1),E.Dc("ngIf",!i.isSaveSub1)}}function Zt(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function Jt(e,t){if(1&e&&(E.hc(0,"button",233),E.dd(1),E.wc(2,"translate"),E.gc()),2&e){E.vc();var n=E.Rc(1);E.Dc("disabled",!n.valid),E.Nb(1),E.fd(" ",E.xc(2,2,"Save")," ")}}function en(e,t){if(1&e){var n=E.ic();E.hc(0,"form",195,253),E.rc("ngSubmit",function(){return E.Uc(n),E.vc().saveChangeTitle()}),E.hc(2,"div",64),E.hc(3,"h4",65),E.dd(4),E.wc(5,"translate"),E.wc(6,"translate"),E.gc(),E.hc(7,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(8,"span",67),E.dd(9,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(10,"div",68),E.hc(11,"div",69),E.hc(12,"div",220),E.hc(13,"div",235),E.hc(14,"label",254),E.dd(15),E.wc(16,"translate"),E.hc(17,"span",47),E.dd(18,"(*)"),E.gc(),E.gc(),E.hc(19,"input",255),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.code=e})("keyup",function(){return E.Uc(n),E.vc().removeBlank()}),E.wc(20,"translate"),E.gc(),E.gc(),E.gc(),E.hc(21,"div",70),E.hc(22,"div",235),E.hc(23,"label",256),E.dd(24),E.wc(25,"translate"),E.hc(26,"span",47),E.dd(27,"(*)"),E.gc(),E.gc(),E.hc(28,"input",257),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_l=e}),E.wc(29,"translate"),E.wc(30,"translate"),E.gc(),E.gc(),E.gc(),E.hc(31,"div",70),E.hc(32,"div",235),E.hc(33,"input",258),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.name_e=e}),E.wc(34,"translate"),E.wc(35,"translate"),E.gc(),E.gc(),E.gc(),E.hc(36,"div",220),E.hc(37,"label",259),E.dd(38),E.wc(39,"translate"),E.gc(),E.hc(40,"div",215),E.hc(41,"input",260),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.is_active=e}),E.gc(),E.hc(42,"label",261),E.dd(43),E.wc(44,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(45,"div",183),E.hc(46,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(47),E.wc(48,"translate"),E.gc(),E.bd(49,Zt,5,3,"ng-container",27),E.bd(50,Jt,3,4,"button",226),E.gc(),E.gc()}if(2&e){var i=E.vc();E.Nb(4),E.gd(" ",E.xc(5,18,"Add new")," ",E.xc(6,20,"Title1")," "),E.Nb(11),E.fd("",E.xc(16,22,"Code")," "),E.Nb(4),E.Ec("placeholder",E.xc(20,24,"Code")),E.Dc("ngModel",i.entitySubIn.code),E.Nb(5),E.fd("",E.xc(25,26,"Name")," "),E.Nb(4),E.Gc("placeholder","",E.xc(29,28,"Name")," (",E.xc(30,30,"Vietnamese"),")"),E.Dc("ngModel",i.entitySubIn.name_l),E.Nb(5),E.Gc("placeholder","",E.xc(34,32,"Name")," (",E.xc(35,34,"English"),")"),E.Dc("ngModel",i.entitySubIn.name_e),E.Nb(5),E.ed(E.xc(39,36,"Status")),E.Nb(3),E.Dc("ngModel",i.entitySubIn.is_active),E.Nb(2),E.ed(E.xc(44,38,i.entitySubIn.is_active?"activated":"not activated")),E.Nb(4),E.fd(" ",E.xc(48,40,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveSub1),E.Nb(1),E.Dc("ngIf",!i.isSaveSub1)}}function tn(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function nn(e,t){if(1&e&&(E.hc(0,"button",233),E.dd(1),E.wc(2,"translate"),E.gc()),2&e){E.vc();var n=E.Rc(1);E.Dc("disabled",!n.valid),E.Nb(1),E.fd(" ",E.xc(2,2,"Save")," ")}}function cn(e,t){if(1&e){var n=E.ic();E.hc(0,"form",195,262),E.rc("ngSubmit",function(){return E.Uc(n),E.vc().saveChangeDepartment()}),E.hc(2,"div",64),E.hc(3,"h4",65),E.dd(4),E.wc(5,"translate"),E.wc(6,"translate"),E.gc(),E.hc(7,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(8,"span",67),E.dd(9,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(10,"div",68),E.hc(11,"div",69),E.hc(12,"div",70),E.hc(13,"div",235),E.hc(14,"label",263),E.dd(15),E.wc(16,"translate"),E.hc(17,"span",47),E.dd(18,"(*)"),E.gc(),E.gc(),E.hc(19,"input",264),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.dept_name_l=e}),E.wc(20,"translate"),E.wc(21,"translate"),E.gc(),E.gc(),E.gc(),E.hc(22,"div",70),E.hc(23,"div",235),E.hc(24,"input",265),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.dept_name_e=e}),E.wc(25,"translate"),E.wc(26,"translate"),E.gc(),E.gc(),E.gc(),E.hc(27,"div",220),E.hc(28,"label",266),E.dd(29),E.wc(30,"translate"),E.gc(),E.hc(31,"div",215),E.hc(32,"input",267),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entitySubIn.is_active=e}),E.gc(),E.hc(33,"label",268),E.dd(34),E.wc(35,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(36,"div",183),E.hc(37,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(38),E.wc(39,"translate"),E.gc(),E.bd(40,tn,5,3,"ng-container",27),E.bd(41,nn,3,4,"button",226),E.gc(),E.gc()}if(2&e){var i=E.vc();E.Nb(4),E.gd(" ",E.xc(5,15,"Add new")," ",E.xc(6,17,"Department")," "),E.Nb(11),E.fd("",E.xc(16,19,"Name")," "),E.Nb(4),E.Gc("placeholder","",E.xc(20,21,"Name")," (",E.xc(21,23,"Vietnamese"),")"),E.Dc("ngModel",i.entitySubIn.dept_name_l),E.Nb(5),E.Gc("placeholder","",E.xc(25,25,"Name")," (",E.xc(26,27,"English"),")"),E.Dc("ngModel",i.entitySubIn.dept_name_e),E.Nb(5),E.ed(E.xc(30,29,"Status")),E.Nb(3),E.Dc("ngModel",i.entitySubIn.is_active),E.Nb(2),E.ed(E.xc(35,31,i.entitySubIn.is_active?"activated":"not activated")),E.Nb(4),E.fd(" ",E.xc(39,33,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveSub1),E.Nb(1),E.Dc("ngIf",!i.isSaveSub1)}}function an(e,t){if(1&e&&(E.hc(0,"div",64),E.hc(1,"h4",65),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(5,"span",67),E.dd(6,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(7,"div",68),E.hc(8,"div",269),E.cc(9,"pdf-viewer",270),E.gc(),E.gc()),2&e){var n=E.vc();E.Nb(2),E.fd(" ",E.xc(3,2,"Open view")," "),E.Nb(7),E.Dc("src",n._originFile)}}function rn(e,t){1&e&&(E.fc(0),E.hc(1,"a",187),E.cc(2,"img",188),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function ln(e,t){if(1&e){var n=E.ic();E.hc(0,"button",278),E.rc("click",function(){return E.Uc(n),E.vc(2)._submitRefused()}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Save")," "))}function on(e,t){if(1&e){var n=E.ic();E.hc(0,"div",64),E.hc(1,"h4",65),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"button",66),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(5,"span",67),E.dd(6,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(7,"div",68),E.hc(8,"div",235),E.hc(9,"div",70),E.hc(10,"label",271),E.dd(11),E.wc(12,"translate"),E.gc(),E.hc(13,"textarea",272),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entityApprove.content=e}),E.gc(),E.gc(),E.hc(14,"div",70),E.hc(15,"label",273),E.dd(16),E.wc(17,"translate"),E.gc(),E.hc(18,"input",274),E.rc("ngModelChange",function(e){return E.Uc(n),E.vc().entityApprove.approved_cost=e}),E.gc(),E.gc(),E.hc(19,"div",70),E.hc(20,"label",273),E.dd(21),E.wc(22,"translate"),E.gc(),E.hc(23,"input",275,276),E.rc("change",function(e){E.Uc(n);var t=E.Rc(24);return E.vc().fileEventApproved(e,t)}),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(25,"div",183),E.hc(26,"button",225),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(27),E.wc(28,"translate"),E.gc(),E.bd(29,rn,5,3,"ng-container",27),E.bd(30,ln,3,3,"button",277),E.gc()}if(2&e){var i=E.vc();E.Nb(2),E.fd(" ",E.xc(3,9,"Agree"==i._flagModalApprove?"Agree":"Disagree")," "),E.Nb(9),E.ed(E.xc(12,11,"Reason")),E.Nb(2),E.Dc("ngModel",i.entityApprove.content),E.Nb(3),E.ed(E.xc(17,13,"Approved cost")),E.Nb(2),E.Dc("ngModel",i.entityApprove.approved_cost),E.Nb(3),E.fd("",E.xc(22,15,"Attachment (if any)")," (.doc,.docx,.pdf)"),E.Nb(6),E.fd(" ",E.xc(28,17,"Close")," "),E.Nb(2),E.Dc("ngIf",i.isSaveApprove),E.Nb(1),E.Dc("ngIf",!i.isSaveApprove)}}var sn,dn,un,gn=[{path:"",children:[{path:"requests",component:(sn=function(){function n(e,t,i,a,r,l,o,s,d,u){c(this,n),this._authenService=e,this._dataService=t,this._route=i,this._notifyService=a,this._uploadService=r,this._excelService=l,this._numberFormat=o,this.modalService=s,this._utilyService=d,this.sanitizer=u,this._current=9,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this._subTitle="",this._flagModal="ADD",this.entity={},this._flagButton=1,this._profiles=[],this._catprofiles=[],this.related_requests=[],this.checkAllIDs=!1,this.entityUpload={},this.entityUploadMore={},this.entityUpload1={},this.filesToUpload=[],this.selectedFileNames=[],this.jfile=null,this.jfile1=null,this.jfileProposed=null,this.jfileMoreProposed=[],this.formData=new FormData,this._flagSubModal="ADD",this.entitySub={},this.isSaveSub=!1,this._documents=[],this._catdocuments=[],this.entitySubIn={},this.isSaveSub1=!1,this._selectUser=null,this._selectDept=null,this._getusers=[],this._titles=[],this._departments=[],this.expandKeys=[],this.expandKeys1=[],this._urlMicrosoft="https://view.officeapps.live.com/op/embed.aspx?src=",this._originFile=null,this.other_attached_files=[],this.handling_users=[],this._displayContent=null,this.isSaveSigned=!1,this._flagActive=!1,this._histories=[],this._diagrams=[],this._flagShow=!1,this._flagModalApprove="Agree",this.entityApprove={},this.isSaveApprove=!1,this.filesToUploadApprove=[],this.chats=[],this._contents="",this.baseFolder=M.a.BASE_API,this.socket=D()(M.a.BASE_API)}var i,r,l;return i=n,(r=[{key:"ngOnInit",value:function(){var e=this;this.user=this._authenService.getLoggedInUser(),this.loadData(),this.socket.on("refreshPage",function(t){e.loadData(),null!=e.entity.id&&(e.loadProposedProfileDetailById(e.entity.id),e.loadChat(e.entity.id))})}},{key:"ngOnDestroy",value:function(){this.ckeEditor&&(this.ckeEditor.removeAllListeners(),this.ckeEditor.destroy()),this.ckeEditor1&&(this.ckeEditor1.removeAllListeners(),this.ckeEditor1.destroy())}},{key:"loadData",value:function(){var e=this;this._isLoading=!0;var n={};n.page=this.pageIndex,n.limit=this.pageSize,n.filter=this._keyword,n.createdby=this.user.id,n.current=this._current,this._dataService.post("/cat-submission/getall",n).subscribe(function(n){var i,c=[],a=t(n.data);try{for(a.s();!(i=a.n()).done;){var r,l=i.value,o=t(l.handle_users.data);try{for(o.s();!(r=o.n()).done;)r.value.show=!1}catch(h){o.e(h)}finally{o.f()}var s,d,u,g=t(l.handle_users.data);try{var f=function(){var e=s.value,n=!1;if(l.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var i,c=t(l.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(c.s();!(i=c.n()).done;)i.value.show=!0}catch(h){c.e(h)}finally{c.f()}n=!0}if(n)return"break"};for(g.s();!(s=g.n()).done&&"break"!==f(););}catch(h){g.e(h)}finally{g.f()}d=l.handle_users.data.filter(function(e){return 3!=e.role}),u=0==l.handle_users.data.filter(function(e){return 3==e.role}).length?null:l.handle_users.data.filter(function(e){return 3==e.role})[0],l.reviews=d,l.approve=u,c.push(l)}}catch(h){a.e(h)}finally{a.f()}e._requestslist=c,e.totalRow=n.rowCount,e.totalPage=n.totalPages,e._isLoading=!1})}},{key:"loadChat",value:function(e){var t=this,n={};n.join_room=e,this._dataService.post("/chat/getallnp",n).subscribe(function(e){t.chats=e.data,console.log("chats",t.chats)})}},{key:"_addChat",value:function(){var e=this;if(""!=this._contents&&null!=this.entity.id){var t={};t.text=this._contents,t.join_room=this.entity.id,t.depended_id=this.user.id,this._dataService.post("/chat/add",t).subscribe(function(t){e.socket.emit("refresh",{}),e._flagModal="UPDATE",e._flagButton=4,e._contents=""})}}},{key:"_switch",value:function(e){this._current=e,this.socket.emit("refresh",{})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}},{key:"loadUsersWithDept",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",n).subscribe(function(n){var i,c=[],a=t(n.data);try{for(a.s();!(i=a.n()).done;){var r=i.value;c.push({key:r.id,title:r.name,parent_id:null,value:r.id,jtitle:"en"==e.user.lang?r.title_name_e:r.title_name_l,jdept:r.department_ids.data})}}catch(o){a.e(o)}finally{a.f()}var l=e._utilyService.UnflattenFunc(c);e._getusers=l})}},{key:"addItemNew",value:function(){if(this._selectUser=null,0==this.handling_users.length)this.handling_users.push({flag:!1,id:1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1});else{var e,n=0,i=t(this.handling_users);try{for(i.s();!(e=i.n()).done;){var c=e.value;null!=c.user&&null!=c.role||(n+=1)}}catch(l){i.e(l)}finally{i.f()}if(0!=n)return void this._notifyService.showWarning("e"==this.user.lang?x.a.MSG_ERROR_EMPTY_EN:x.a.MSG_ERROR_EMPTY,"e"==this.user.lang?x.a.error_title_en:x.a.error_title);var a,r=t(this.handling_users.filter(function(e){return!e.flag}));try{for(r.s();!(a=r.n()).done;)a.value.flag=!0}catch(l){r.e(l)}finally{r.f()}0==this.handling_users.filter(function(e){return!e.flag}).length&&this.handling_users.push({id:this.handling_users.length+1,flag:!1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1})}this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"removeItemNew",value:function(e){var n,i=[],c=1,a=t(this.handling_users.filter(function(t){return t.id!=e.id}));try{for(a.s();!(n=a.n()).done;){var r=n.value;i.push({id:c,order:r.order,user:r.user,role:r.role,time:r.time,flag:r.flag,allow:r.allow}),c+=1}}catch(l){a.e(l)}finally{a.f()}i.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users=i}},{key:"_getUserNew",value:function(e,n){console.log(e,n);var i,c=this._getusers.filter(function(e){return e.key==n})[0],a="",r=t(c.jdept);try{for(r.s();!(i=r.n()).done;){var l=i.value;a+=("en"==this.user.lang?l.dept_name_e:l.dept_name_l)+","}}catch(o){r.e(o)}finally{r.f()}this.handling_users.filter(function(t){return t.id==e.id})[0].user={dept_name_e:""==a?"":a.substr(0,a.length-1),dept_name_l:""==a?"":a.substr(0,a.length-1),id:n,key:"",name:c.title,title:"",title_name_e:c.jtitle,title_name_l:c.jtitle,value:""},this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"_openModal",value:function(e,t){this._flagActive=!1,this.loadProfilesNP(),this.loadUsersWithDept(),null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.entity.created_by=this.user.id,this.handling_users=[],this.other_attached_files=[]):(this._flagModal="UPDATE",this._title="- "+t.title+" (#: "+t.code+")",this.loadChat(t.id),this.loadProposedProfileDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"_diagramChange",value:function(e){null==e?(this.entity.handle_users={data:[]},this.handling_users=[],this._originFile=null):(this.handling_users=[],this.loadDetailProfileById(e))}},{key:"submissionChange",value:function(e){var t=this;if(this.entity.is_active=0==e?0:1,"ADD"==this._flagModal){if(0==this.entity.handle_users.data.length||null==this.entity.title)return void this._notifyService.showError("en"==this.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==this.user.lang?x.a.error_title_en:x.a.error_title);null==this.attached_file&&0==this.filesToUpload.length?(this.isSave=!0,console.log("No file"),this._addProposed(this.entity)):this._dataService.post("/cat-submission/addProposed",this.entity).subscribe(function(e){console.log(e),"failed"===e.result?t._notifyService.showError("en"==t.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==t.user.lang?x.a.error_title_en:x.a.error_title):t._processUploadProposed(t.jfileProposed,t.filesToUpload,e.data)},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==t.user.lang?x.a.error_title_en:x.a.error_title)})}else this.updateSubmissionChanges()}},{key:"submissionChangeForSign",value:function(){this.entity.is_active=1,this.updateSubmissionChanges()}},{key:"updateSubmissionChanges",value:function(){var e=this;this.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users,console.log(this.entity),this.handling_users.filter(function(e){return null==e.order||null==e.user||null==e.role||null==e.time}).length>0?this._notifyService.showError("en"==this.user.lang?x.a.MSG_ERROR_EMPTY_EN:x.a.MSG_ERROR_EMPTY,"en"==this.user.lang?x.a.error_title_en:x.a.error_title):this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(function(t){0!=e.entity.is_active&&(e.socket.emit("refresh",{}),e.modalService.dismissAll(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"))})}},{key:"_addProposed",value:function(e){var t=this;this._dataService.post("/cat-submission/addProposed",e).subscribe(function(e){t.isSave=!1,"failed"===e.result?t._notifyService.showError("en"==t.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==t.user.lang?x.a.error_title_en:x.a.error_title):(t._flagModal="ADD",t.entity={},t.entity.id=null,t.entity.title=null,t.entity.profile_cat_id=null,t.entity.estimated_cost=null,t.entity.content=null,t.entity.critical_level=0,t.entity.priority_level=0,t.entity.related_ids={data:[]},t.entity.attached_files=null,t.entity.handle_users={data:[]},t.entity.is_active=0,t.socket.emit("refresh",{}),t.modalService.dismissAll(),t._notifyService.showSuccess("en"==t.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==t.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"loadDetailProfileById",value:function(e){var n=this,i={};i.id=e,i.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",i).subscribe(function(e){console.log("Detail of Profile",e);var i=[];if("failed"==e.result)n.entity.handle_users.data=[],n.handling_users=[],n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_NOT_FOUND_EN:x.a.MSG_ERROR_NOT_FOUND,"en"==n.user.lang?x.a.error_title_en:x.a.error_title);else{var c,a=t(e.data.handle_users.data);try{for(a.s();!(c=a.n()).done;){var r=c.value;i.push({id:r.id,order:r.order,user:r.user,role:r.role,time:r.time,flag:!0,timestamp:null,allow:!0})}}catch(l){a.e(l)}finally{a.f()}i.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),n.entity.handle_users.data=i,n.handling_users=i,n._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null,null!=n.entity.id&&n.updateSubmissionChanges()}})}},{key:"loadDetailProfileByIdWithFile",value:function(e){var t=this,n={};n.id=e,n.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",n).subscribe(function(e){t._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null})}},{key:"_chooseButton",value:function(e){this._flagButton=e}},{key:"removeAttachment",value:function(e,t,n){var i=this;I.a.fire({title:"en"==this.user.lang?x.a.are_you_sure_en:x.a.are_you_sure,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.a.cancel_en:x.a.cancel,confirmButtonText:"en"==this.user.lang?x.a.confirmtext_en:x.a.confirmtext}).then(function(c){if(c.value){var a={};a.id=e,a.path=t,a.stat=n,i._dataService.post("/cat-submission/removeAttachment",a).subscribe(function(e){console.log(e),i._notifyService.showSuccess("en"==i.user.lang?x.a.MSG_DELETE_EN:x.a.MSG_DELETE,"OK"),i.socket.emit("refresh",{})},function(){i._notifyService.showError("en"==i.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==i.user.lang?x.a.error_title_en:x.a.error_title)})}})}},{key:"loadProposedProfileDetailById",value:function(e){var n=this;this._flagButton=4==this._flagButton?4:1,this._diagrams=[],this._histories=[];var i={};i.id=e,this._dataService.post("/cat-submission/detailProposed",i).subscribe(function(e){n.entity=e.data,n._displayContent=null==e.data.content?"":n.sanitizer.bypassSecurityTrustHtml(e.data.content);var i,c=[],a=t(e.data.handle_users.data);try{for(a.s();!(i=a.n()).done;){var r=i.value;c.push({id:r.id,order:r.order,user:r.user,role:r.role,time:r.time,flag:!0,timestamp:r.timestamp,allow:!0})}}catch(_){a.e(_)}finally{a.f()}if(n.handling_users=c,0==n.entity.is_active)n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1});else{var l,o=t(n.handling_users);try{for(o.s();!(l=o.n()).done;)l.value.show=!1}catch(_){o.e(_)}finally{o.f()}var s,d=t(n.handling_users);try{var u=function(){var e=s.value,i=!1;if(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var c,a=t(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(a.s();!(c=a.n()).done;)c.value.show=!0}catch(_){a.e(_)}finally{a.f()}i=!0}if(i)return"break"};for(d.s();!(s=d.n()).done&&"break"!==u(););}catch(_){d.e(_)}finally{d.f()}n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1})}if(n.entity.handle_users.data=c,n.other_attached_files=null==e.data.other_attached_files?[]:e.data.other_attached_files.data,4==n.entity.is_active)n._flagActive=!1;else if(0==c.filter(function(e){return e.user.id==n.user.id}).length)null!=e.data.logs&&null!=e.data.logs.timestamp&&(n._flagActive=!0);else for(var g=0;g<c.filter(function(e){return e.user.id==n.user.id}).length;g++)n._flagActive=null!=c.filter(function(e){return e.user.id==n.user.id})[g].timestamp;if(null!=e.data.logs){n._diagrams=e.data.logs.diagrams,n._diagrams.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),n._histories=e.data.logs.history,n._histories.sort(function(e,t){return t.id>e.id||t.id==e.id&&t.id>e.id?1:-1});var f,h=1,b=t(n._diagrams.filter(function(e){return e.flag&&null==e.timestamp}));try{var v=function(){var e=f.value;if(!(h<=n._diagrams.filter(function(t){return t.order==e.order}).length))return"break";e.flag=!1,h+=1};for(b.s();!(f=b.n()).done&&"break"!==v(););}catch(_){b.e(_)}finally{b.f()}null==e.data.logs?n._flagShow=!1:n._diagrams.filter(function(e){return e.user.id==n.user.id&&!e.flag}).length>0?(console.log("test here"),n._flagShow=!0):n._flagShow=!1,console.log("Flag",n._flagShow)}n.loadDetailProfileByIdWithFile(e.data.profile_cat_id)})}},{key:"toggleCheckAll",value:function(e){e.currentTarget.checked?this.selectAllItems():this.unselectAllItems()}},{key:"onTouched",value:function(){}},{key:"onSelectionChange",value:function(t){if(Array.isArray(t)){var n=t.map(function(e){return e.id});this.entity.organizations=e(n),this.onChange(e(n))}this.onTouched()}},{key:"onChange",value:function(e){}},{key:"writeValue",value:function(t){this.combo.select(e(t))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"selectAllItems",value:function(){var t=this.related_requests.map(function(e){return e.id});this.onChange(e(t))}},{key:"unselectAllItems",value:function(){this.entity.related_ids=[],this.checkAllIDs=!1,this.onChange([])}},{key:"_processUploadProposed",value:function(e,t,n){var i=this,c=0;if(null!=e){t.length>0&&(c=1);var a,r=[];if(a=e.files,c>0&&r.push(t),console.log(a),console.log(r),c>0){var l={folder_name:"submissions"};l.id=n.id,console.log("Testing",e.files),this._uploadService.uploadFile("/services/uploads/"+l.id+"/"+l.folder_name,e.files).subscribe(function(e){var c={folder_name:"submissions"};c.id=n.id,i._uploadService.uploadFileMulti("/services/multi-uploads/"+c.id+"/"+c.folder_name,t).subscribe(function(t){i._updateSubmission12(n.id,e.data,t.data)})})}else{var o={folder_name:"submissions"};o.id=n.id,this._uploadService.uploadFile("/services/uploads/"+o.id+"/"+o.folder_name,e.files).subscribe(function(e){i._updateSubmission1(n.id,e.data)})}}else this._notifyService.showError("en"==this.user.lang?x.a.recheck_file_en:x.a.recheck_file,"en"==this.user.lang?x.a.error_title_en:x.a.error_title)}},{key:"_updateSubmission1",value:function(e,t){var n=this,i={};i.id=e,i.path=t,this._dataService.post("/cat-submission/updateSubmission1",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("ADD"==n._flagModal?"en"==n.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO:"en"==n.user.lang?x.a.MSG_UPDATENO_EN:x.a.MSG_UPDATENO,"en"==n.user.lang?x.a.error_title_en:x.a.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==n.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"_updateSubmission2",value:function(e,t){var n=this;this.filesToUpload=[];var i={};i.id=e,i.paths=t,this._dataService.post("/cat-submission/updateSubmission2",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==n.user.lang?x.a.error_title_en:x.a.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==n.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"_updateSubmission12",value:function(e,t,n){var i=this;this.filesToUpload=[];var c={};c.id=e,c.path=t,c.paths=n,this._dataService.post("/cat-submission/updateSubmission12",c).subscribe(function(e){i.isSave=!1,"failed"===e.result?i._notifyService.showError("en"==i.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==i.user.lang?x.a.error_title_en:x.a.error_title):(i._flagModal="ADD",i.entity={},i.entity.id=null,i.entity.title=null,i.entity.profile_cat_id=null,i.entity.estimated_cost=null,i.entity.content=null,i.entity.critical_level=0,i.entity.priority_level=0,i.entity.related_ids={data:[]},i.entity.attached_files=null,i.entity.handle_users={data:[]},i.handling_users=[],i.entity.is_active=0,i.socket.emit("refresh",{}),i.modalService.dismissAll(),i._notifyService.showSuccess("en"==i.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){i.isSave=!1,i._notifyService.showError("en"==i.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==i.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"fileEvent",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file=null,this.entityUpload.fileUpload=null,this._notifyService.showError("en"==this.user.lang?x.a.recheck_file_en:x.a.recheck_file,"en"==this.user.lang?x.a.error_title_en:x.a.error_title);else{this.attached_file=n.name;var i=this.attached_file.split(".").pop();"doc"===i||"docx"===i||"pdf"===i?(this.jfileProposed=e.target,null!=this.entity.id&&(this._processUpload(this.jfileProposed,this.entity),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")):(this._notifyService.showError("en"==this.user.lang?x.a.format_incorrect_en:x.a.format_incorrect,"en"==this.user.lang?x.a.error_title_en:x.a.error_title),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")}}},{key:"_processUpload",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?x.a.recheck_file_en:x.a.recheck_file,"en"==this.user.lang?x.a.error_title_en:x.a.error_title);else{console.log("Executed",e.files);var i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(function(e){n._updateSubmission1(t.id,e.data)})}}},{key:"_updateSubmissionById",value:function(e,t){var n=this,i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateSubmissionById",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==n.user.lang?x.a.error_title_en:x.a.error_title):(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.entity.is_active=0,n.jfile=null,n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==n.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"fileEventMore",value:function(e,t){this.filesToUpload=e.target.files;for(var n=[],i=0;i<e.target.files.length;i++)n.push(e.target.files[i]);null!=this.entity.id&&(this._processUploadProposedAfter(this.filesToUpload,this.entity),this.filesToUpload=[],t.value=[])}},{key:"_processUploadProposedAfter",value:function(e,t){var n=this,i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,e).subscribe(function(e){n._updateSubmission2(t.id,e.data)})}},{key:"_addItemHandle",value:function(e){if(console.log(this.entitySub,this.isSaveSub),this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entitySub.handle_users.data.length)this.entitySub.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{var n,i=0,c=t(this.entitySub.handle_users.data);try{for(c.s();!(n=c.n()).done;){var a=n.value;null==a.user?(a.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"},null==a.role&&(i+=1)):null==a.role&&(i+=1)}}catch(o){c.e(o)}finally{c.f()}if(0!=i)return void this._notifyService.showWarning("e"==this.user.lang?x.a.MSG_ERROR_EMPTY_EN:x.a.MSG_ERROR_EMPTY,"e"==this.user.lang?x.a.error_title_en:x.a.error_title);var r,l=t(this.entitySub.handle_users.data.filter(function(e){return!e.flag}));try{for(l.s();!(r=l.n()).done;)r.value.flag=!0}catch(o){l.e(o)}finally{l.f()}0==this.entitySub.handle_users.data.filter(function(e){return!e.flag}).length&&this.entitySub.handle_users.data.push({id:this.entitySub.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}console.log(this.entitySub)}},{key:"_getUser",value:function(e,n){if(console.log(e,n),null!=n&&null!=e.role){var i,c=t(this.entitySub.handle_users.data);try{for(c.s();!(i=c.n()).done;){var a=i.value;a.id==e.id&&(a.user="all"!=n?{title:this._departments.filter(function(e){return e.key==n})[0].title,key:this._departments.filter(function(e){return e.key==n})[0].key,value:this._departments.filter(function(e){return e.key==n})[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"})}}catch(r){c.e(r)}finally{c.f()}console.log("Get change",this.entitySub)}else this._notifyService.showWarning("e"==this.user.lang?x.a.MSG_ERROR_EMPTY_EN:x.a.MSG_ERROR_EMPTY,"e"==this.user.lang?x.a.error_title_en:x.a.error_title)}},{key:"_popupTitle",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeTitle",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addTitle",this.entitySubIn).subscribe(function(t){console.log(t),e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadTitleNP(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"loadTitleNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallTitlesNP",null).subscribe(function(t){e._titles=t.data})}},{key:"_popupDepartment",value:function(e,t){this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeDepartment",value:function(){var e=this;this.isSaveSub1=!0,this._dataService.post("/dept/add",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):(e.entitySubIn={},e.entitySubIn.dept_name_l=null,e.entitySubIn.dept_name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadDeptNP(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"loadDeptNP",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",n).subscribe(function(n){var i=[];i.push({key:"all",title:"en"==e.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});var c,a=t(n.data);try{for(a.s();!(c=a.n()).done;){var r=c.value;i.push({key:r.id,title:"en"==e.user.lang?r.dept_name_e:r.dept_name_l,parent_id:r.parent_id,value:r.id})}}catch(o){a.e(o)}finally{a.f()}var l=e._utilyService.UnflattenFunc(i);e._departments=l})}},{key:"loadProfilesNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallMainProfileNP",null).subscribe(function(t){e._profiles=t.data})}},{key:"_removeItemHandle",value:function(e){var n,i=[],c=1,a=t(this.entitySub.handle_users.data.filter(function(t){return t.id!=e.id}));try{for(a.s();!(n=a.n()).done;){var r=n.value;i.push({id:c,order:r.order,user:r.user,role:r.role,time:r.time,flag:r.flag}),c+=1}}catch(l){a.e(l)}finally{a.f()}this.entitySub.handle_users.data=i,console.log(this.entitySub)}},{key:"_popupProfile",value:function(e,t){this.loadCatDocNP(),this.loadCatProfileNP(),null==t?(this._flagSubModal="ADD",this._subTitle="en"==this.user.lang?"Type of profile":"Lo\u1ea1i h\u1ed3 s\u01a1",this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null):(this._flagSubModal="UPDATE",this.entitySub=t),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"saveChangeP",value:function(){var e=this;console.log(this.entitySub),0!=this.entitySub.handle_users.data.length?null==this.attached_file1?(this.isSaveSub=!0,this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){console.log(t),e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):(e.entitySub={},e.entitySub.id=null,e.entitySub.profile_group_id=null,e.entitySub.code=null,e.entitySub.title=null,e.entitySub.document_id=null,e.entitySub.description=null,e.entitySub.handle_users={data:[]},e.entitySub.estimated_cost=null,e.entitySub.attached_file=null,e.entitySub.is_active=!0,e.jfile1=null,e.loadProfilesNP(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})):this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):e._processUpload1(e.jfile1,t.data)},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)}):this._notifyService.showError("en"==this.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==this.user.lang?x.a.error_title_en:x.a.error_title)}},{key:"fileEvent1",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?x.a.recheck_file_en:x.a.recheck_file,"en"==this.user.lang?x.a.error_title_en:x.a.error_title);else{this.attached_file1=n.name;var i=this.attached_file1.split(".").pop();"doc"===i||"docx"===i||"pdf"===i?(console.log("ok"),this.jfile1=e.target):(this._notifyService.showError("en"==this.user.lang?x.a.format_incorrect_en:x.a.format_incorrect,"en"==this.user.lang?x.a.error_title_en:x.a.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}},{key:"_processUpload1",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?x.a.recheck_file_en:x.a.recheck_file,"en"==this.user.lang?x.a.error_title_en:x.a.error_title);else{var i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(function(e){n._updateProfileById(t.id,e.data)})}}},{key:"_updateProfileById",value:function(e,t){var n=this,i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(function(e){n.isSaveSub=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==n.user.lang?x.a.error_title_en:x.a.error_title):(n.entitySub={},n.entitySub.id=null,n.entitySub.profile_group_id=null,n.entitySub.code=null,n.entitySub.title=null,n.entitySub.document_id=null,n.entitySub.description=null,n.entitySub.handle_users={data:[]},n.entitySub.estimated_cost=null,n.entitySub.attached_file=null,n.entitySub.is_active=!0,n.jfile1=null,n.loadProfilesNP(),n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){n.isSaveSub=!1,n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==n.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"_popupCategory",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"loadCatProfileNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallProfileNP",null).subscribe(function(t){e._catprofiles=t.data})}},{key:"removeBlank",value:function(){this.entitySubIn.code=null==this.entitySubIn.code?null:this.entitySubIn.code.replace(" ","")}},{key:"removeBlankTypeProfile",value:function(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}},{key:"saveChangeProfileGroup",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),console.log(this.entitySubIn),this._dataService.post("/cat-submission/addProfile",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatProfileNP(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"_popupCategory1",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup1",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.a.MSG_ADDNO_EN:x.a.MSG_ADDNO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatDocNP(),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_ADD_EN:x.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"loadCatDocNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallDocumentsNP",null).subscribe(function(t){e._catdocuments=t.data})}},{key:"openViewDoc",value:function(e,t){console.log(t),this.modalService.open(e,{size:"lg",centered:!0})}},{key:"cancelSubmission",value:function(){var e=this;I.a.fire({title:"en"==this.user.lang?x.a.are_you_sure_cancel_en:x.a.are_you_sure_cancel,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.a.cancel_en:x.a.cancel,confirmButtonText:"en"==this.user.lang?x.a.confirmtext_en:x.a.confirmtext}).then(function(t){t.value&&(e.entity.is_active=4,e._dataService.post("/cat-submission/updateProposed",e.entity).subscribe(function(t){console.log(t),e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_CANCEL_EN:x.a.MSG_CANCEL,"en"==e.user.lang?x.a.cancel_en:x.a.cancel),e.modalService.dismissAll(),e.socket.emit("refresh",{})},function(){e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)}))})}},{key:"approvedByUser",value:function(e,t){var n=this;if(this.isSaveSigned=!0,console.log(e,t),0==e)this.entity.is_active=1,this.updateSubmissionChanges();else{console.log("Signed");var i={};i.id=this.entity.id,i.userid=this.user.id,i.status=t,i.content=null,i.approved_cost=null,this._dataService.post("/cat-submission/approvedByUserId",i).subscribe(function(e){n.isSaveSigned=!1,"failed"!=e.result&&(n._notifyService.showSuccess("en"==n.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"),n.modalService.dismissAll(),n.socket.emit("refresh",{}))},function(){n.isSaveSigned=!1,n._notifyService.showError("en"==n.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==n.user.lang?x.a.error_title_en:x.a.error_title)})}}},{key:"disagreeSubmission",value:function(e,t){var n=this;I.a.fire({title:"en"==this.user.lang?x.a.are_you_sure_disagree_en:x.a.are_you_sure_disagree,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.a.cancel_en:x.a.cancel,confirmButtonText:"en"==this.user.lang?x.a.confirmtext_en:x.a.confirmtext}).then(function(i){i.value&&n.popupApprove(e,t)})}},{key:"popupApprove",value:function(e,t){this.entityApprove.content=null,this.entityApprove.approved_cost=null,this._flagModalApprove=null==t?"Agree":"Disagree",this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}},{key:"_submitRefused",value:function(){var e=this;if(console.log(this.entityApprove,this.filesToUploadApprove),this.filesToUploadApprove.length>0)console.log("Got files"),this.isSaveApprove=!0,this._processUploadDisagreeAfter(this.filesToUploadApprove);else{this.isSaveApprove=!0;var t={};t.id=this.entity.id,t.userid=this.user.id,t.status="Agree"==this._flagModalApprove?1:0,t.content=this.entityApprove.content,t.approved_cost=this.entityApprove.approved_cost,t.files=[],this._dataService.post("/cat-submission/approvedByUserId",t).subscribe(function(t){console.log("Why",t),e.isSaveApprove=!1,"failed"!=t.result&&(e._notifyService.showSuccess("en"==e.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"),e.modalService.dismissAll(),e.socket.emit("refresh",{}))},function(){e.isSaveApprove=!1,e._notifyService.showError("en"==e.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==e.user.lang?x.a.error_title_en:x.a.error_title)})}}},{key:"fileEventApproved",value:function(e,t){this.filesToUploadApprove=e.target.files}},{key:"_processUploadDisagreeAfter",value:function(e){var t=this,n={folder_name:"submissions"};n.id=this.entity.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+n.id+"/"+n.folder_name,e).subscribe(function(e){var n={};n.id=t.entity.id,n.userid=t.user.id,n.status=0,n.content=t.entityApprove.content,n.approved_cost=t.entityApprove.approved_cost,n.files=e.data,t._dataService.post("/cat-submission/approvedByUserId",n).subscribe(function(e){t.isSaveApprove=!1,"failed"!=e.result&&(t._notifyService.showSuccess("en"==t.user.lang?x.a.MSG_UPDATE_EN:x.a.MSG_UPDATE,"OK"),t.modalService.dismissAll(),t.socket.emit("refresh",{}))},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==t.user.lang?x.a.error_title_en:x.a.error_title)})},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?x.a.MSG_ERROR_EN:x.a.MSG_ERROR,"en"==t.user.lang?x.a.error_title_en:x.a.error_title)})}},{key:"submissionRecall",value:function(){var e=this;I.a.fire({title:"en"==this.user.lang?x.a.are_you_sure_recall_en:x.a.are_you_sure_recall,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.a.cancel_en:x.a.cancel,confirmButtonText:"en"==this.user.lang?x.a.confirmtext_en:x.a.confirmtext}).then(function(t){if(t.value){if(e.entity.logs.diagrams.filter(function(e){return 0!=e.id&&null!=e.timestamp}).length>0)return e._notifyService.showError("en"==e.user.lang?x.a.MSG_UPDATENO_EN:x.a.MSG_UPDATENO,"en"==e.user.lang?x.a.error_title_en:x.a.error_title),void e.modalService.dismissAll();e.entity.is_active=2,e.updateSubmissionChanges()}})}}])&&a(i.prototype,r),l&&a(i,l),n}(),sn.\u0275fac=function(e){return new(e||sn)(E.bc(u.a),E.bc(d.a),E.bc(N.d),E.bc(C.a),E.bc(s.a),E.bc(o.a),E.bc(A.a),E.bc(U.s),E.bc(R.a),E.bc(P.b))},sn.\u0275cmp=E.Vb({type:sn,selectors:[["app-subm-requests"]],viewQuery:function(e,t){var n;1&e&&(E.jd(B,1),E.jd(z,1),E.jd(q,3),E.jd(H,1),E.jd(K,1)),2&e&&(E.Qc(n=E.sc())&&(t.ckeEditor=n.first),E.Qc(n=E.sc())&&(t.ckeEditor1=n.first),E.Qc(n=E.sc())&&(t.combo=n.first),E.Qc(n=E.sc())&&(t.attached_file=n.first),E.Qc(n=E.sc())&&(t.attached_file1=n.first))},decls:98,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"btn-group","flex-wrap"],["type","button",3,"ngClass","click"],[1,"fa","fa-clone"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],["type","button",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-search"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-plus"],["ngbDropdown","","class","btn-group","role","group",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["contentModal",""],["popupNewProfile",""],["categoryModal",""],["categoryModal1",""],["titleModal",""],["deptModal",""],["popupViewModal",""],["popupApprovedModal",""],["ngbDropdown","","role","group",1,"btn-group"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"fa","fa-object-group"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[1,"dropdown-item"],[1,"fa","fa-tags"],[1,"fa","fa-map-signs"],[1,"fa","fa-file-text-o"],[1,"fa","fa-users"],["colspan","7",2,"text-align","center"],[1,"text-danger"],[2,"cursor","pointer",3,"click"],[1,"mute"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"fa","fa-flag"],[1,"badge","badge-dark"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"form","theme-form"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],[1,"form-group","row",3,"ngStyle"],["class","col-md-12","style","max-height: calc(100vh - 300px); overflow-y: auto",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"fa","fa-clock-o"],[1,"fa","fa-comments"],[1,"col-md-4"],["for","title"],["type","text","id","title","name","title","autocomplete","off","required","",3,"ngModel","ngClass","disabled","ngModelChange","change"],["for","profile_id"],["id","profile_id","name","profile_id","bindValue","id","bindLabel","title","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["ng-option-tmp",""],[1,"col-md-2"],["for","critical_level"],["id","critical_level","name","critical_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["for","priority_level"],["id","priority_level","name","priority_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],[1,"col-md-8"],["for","related_requests"],["bindLabel","name","bindValue","id",3,"multiple","items","closeOnSelect","placeholder","notFoundText","ngModel","disabled","blur","change"],["combo",""],["ng-header-tmp",""],["ng-multi-label-tmp",""],["for","estimated_cost"],["id","estimated_cost","name","estimated_cost","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","change","ngModelChange"],["for","content",1,"jbold"],[3,"innerHtml",4,"ngIf"],["for","attached_file",1,"jbold"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx","class","form-control",3,"change",4,"ngIf"],["type","hidden","name","attached_file0",3,"ngModel","ngModelChange"],["class","card-body btn-showcase",4,"ngIf"],["for","filesToUpload",1,"jbold"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","class","form-control","accept",".pdf,.doc,.docx",3,"change",4,"ngIf"],[1,"card-body","btn-showcase"],["for","diagrams",1,"jbold"],[1,"table"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["container","body",3,"ngbTooltip"],["type","checkbox",3,"ngModel","change"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["type","checkbox",3,"id","checked"],["id","content","name","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange","change"],["ckeEditor",""],[3,"innerHtml"],["href","javascript:;",3,"click"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["attached_file",""],["src","../../../../assets/files/ico_file.png","width","25px",1,"mr-sm-1",2,"cursor","pointer",3,"click"],["class","fa fa-trash","style","cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"cursor","pointer",3,"click"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUpload",""],["class","badge badge-pill badge-danger mr-sm-3",4,"ngIf"],[1,"badge","badge-pill","badge-danger","mr-sm-3"],["type","number","min","1","class","form-control","style","width: 70px",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","min","1",1,"form-control",2,"width","70px",3,"name","id","ngModel","ngModelChange","change"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","5",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-md-12",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"timeline-small"],["class","media",4,"ngIf"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px",4,"ngIf"],[1,"media-body"],[1,"pull-right","f-14"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px"],[1,"timeline-round","m-r-30","timeline-line-1"],["class","mute",4,"ngIf"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["type","text","name","_contents","id","_contents","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-clip"],[1,"chat-history","chat-msg-box","custom-scrollbar",2,"max-height","300px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],[1,"message-data","text-right"],[1,"mute","mr-sm-1"],[1,"message-data-time"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-left","chat-user-img","img-30"],[1,"message","other-message","pull-right"],[1,"message-data"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-right","chat-user-img","img-30"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],[1,"modal-footer"],["type","button",1,"btn","btn-light","mr-sm-1",3,"click"],["type","button",1,"btn","btn-secondary","mr-sm-1",3,"click"],["type","button",1,"btn","btn-danger","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-warning","mr-sm-1"],["type","button","class","btn btn-warning mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","mr-sm-1",3,"click"],["type","button","class","btn btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","handling_users",1,"jbold"],["colspan","4",1,"text-truncate"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","ngModelChange"],["for","Status11"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",1,"form-control",3,"change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formTitle","ngForm"],["for","CodeTitle",1,"jbold"],["type","text","id","CodeTitle","name","CodeTitle","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","NameTitle1",1,"jbold"],["type","text","id","NameTitle1","name","NameTitle1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","NameTitle1a","name","NameTitle1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusTitle",1,"jbold"],["id","StatusTitle","type","checkbox","name","StatusTitle",3,"ngModel","ngModelChange"],["for","StatusTitle"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"],[1,"col-md-12",2,"height","590px"],[3,"src"],["for","contentApprove"],["id","contentApprove","rows","3","name","contentApprove",1,"form-control",3,"ngModel","ngModelChange"],["for","approved_cost"],["id","approved_cost","type","text","name","approved_cost","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","filesToUploadApprove","type","file","multiple","","id","filesToUploadApprove","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUploadApprove",""],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=E.ic();E.hc(0,"div",0),E.hc(1,"div",1),E.hc(2,"div",2),E.hc(3,"div",3),E.hc(4,"div",4),E.hc(5,"div",5),E.hc(6,"div",6),E.hc(7,"div",7),E.hc(8,"button",8),E.rc("click",function(){return t._switch(9)}),E.cc(9,"i",9),E.dd(10),E.wc(11,"translate"),E.gc(),E.hc(12,"button",8),E.rc("click",function(){return t._switch(1)}),E.cc(13,"i",10),E.dd(14),E.wc(15,"translate"),E.gc(),E.hc(16,"button",8),E.rc("click",function(){return t._switch(3)}),E.cc(17,"i",11),E.dd(18),E.wc(19,"translate"),E.gc(),E.hc(20,"button",12),E.cc(21,"i",13),E.dd(22),E.wc(23,"translate"),E.gc(),E.hc(24,"button",14),E.rc("click",function(){E.Uc(n);var e=E.Rc(83);return t._openModal(e,null)}),E.cc(25,"i",15),E.dd(26),E.wc(27,"translate"),E.gc(),E.bd(28,L,22,15,"div",16),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(29,"div",2),E.hc(30,"div",3),E.hc(31,"div",4),E.hc(32,"div",5),E.hc(33,"div",6),E.hc(34,"div",17),E.hc(35,"div",18),E.hc(36,"div",19),E.hc(37,"pagination",20),E.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),E.gc(),E.gc(),E.hc(38,"div",21),E.hc(39,"a",22),E.dd(40),E.wc(41,"translate"),E.wc(42,"translate"),E.wc(43,"translate"),E.wc(44,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(45,"div",23),E.hc(46,"table",24),E.hc(47,"thead"),E.hc(48,"th",25),E.dd(49,"#"),E.gc(),E.hc(50,"th",26),E.dd(51),E.wc(52,"translate"),E.gc(),E.hc(53,"th",26),E.dd(54),E.wc(55,"translate"),E.gc(),E.hc(56,"th",26),E.dd(57),E.wc(58,"translate"),E.gc(),E.hc(59,"th",26),E.dd(60),E.wc(61,"translate"),E.gc(),E.hc(62,"th",26),E.dd(63),E.wc(64,"translate"),E.gc(),E.hc(65,"th",26),E.dd(66),E.wc(67,"translate"),E.gc(),E.gc(),E.hc(68,"tbody"),E.bd(69,V,6,3,"ng-container",27),E.bd(70,ie,34,24,"ng-container",28),E.gc(),E.gc(),E.gc(),E.hc(71,"div",17),E.hc(72,"div",18),E.hc(73,"div",19),E.hc(74,"pagination",20),E.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),E.gc(),E.gc(),E.hc(75,"div",21),E.hc(76,"a",22),E.dd(77),E.wc(78,"translate"),E.wc(79,"translate"),E.wc(80,"translate"),E.wc(81,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.bd(82,It,26,23,"ng-template",null,29,E.cd),E.bd(84,Kt,121,87,"ng-template",null,30,E.cd),E.bd(86,Yt,52,44,"ng-template",null,31,E.cd),E.bd(88,Xt,52,44,"ng-template",null,32,E.cd),E.bd(90,en,51,42,"ng-template",null,33,E.cd),E.bd(92,cn,42,35,"ng-template",null,34,E.cd),E.bd(94,an,10,4,"ng-template",null,35,E.cd),E.bd(96,on,31,19,"ng-template",null,36,E.cd)}2&e&&(E.Nb(8),E.Dc("ngClass",9==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),E.Nb(2),E.fd(" ",E.xc(11,41,"All my requests")," "),E.Nb(2),E.Dc("ngClass",1==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),E.Nb(2),E.fd(" ",E.xc(15,43,"Processing requests")," "),E.Nb(2),E.Dc("ngClass",3==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),E.Nb(2),E.fd(" ",E.xc(19,45,"Closed requests")," "),E.Nb(4),E.fd(" ",E.xc(23,47,"Search")," "),E.Nb(4),E.fd(" ",E.xc(27,49,"Add new")," "),E.Nb(2),E.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),E.Nb(9),E.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),E.Nb(3),E.id("",E.xc(41,51,"Total of records"),": ",t.totalRow," - ",E.xc(42,53,"Page")," ",t.pageIndex," ",E.xc(43,55,"of")," ",t.totalPage," ",E.xc(44,57,"page"),""),E.Nb(11),E.ed(E.xc(52,59,"Title")),E.Nb(3),E.fd(" ",E.xc(55,61,"Proposed date")," "),E.Nb(3),E.fd(" ",E.xc(58,63,"Reviewed by")," "),E.Nb(3),E.fd(" ",E.xc(61,65,"Approved by")," "),E.Nb(3),E.fd(" ",E.xc(64,67,"Updated date")," "),E.Nb(3),E.ed(E.xc(67,69,"Status")),E.Nb(3),E.Dc("ngIf",0==t._requestslist.length),E.Nb(1),E.Dc("ngForOf",t._requestslist),E.Nb(4),E.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),E.Nb(3),E.id("",E.xc(78,71,"Total of records"),": ",t.totalRow," - ",E.xc(79,73,"Page")," ",t.pageIndex," ",E.xc(80,75,"of")," ",t.totalPage," ",E.xc(81,77,"page"),""))},directives:[l.o,l.q,v.a,S.n,S.q,l.p,U.l,U.p,U.o,S.z,S.o,S.p,l.r,S.c,S.w,G.a,G.c,S.x,S.r,S.A,G.e,G.d,O.a,U.N,S.b,T.a,S.s,F.a,j.a],pipes:[$.c,l.f,l.y],styles:[""]}),sn),data:{title:"Requests",breadcrumb:"Requests"}}]}],fn=((dn=function e(){c(this,e)}).\u0275mod=E.Zb({type:dn}),dn.\u0275inj=E.Yb({factory:function(e){return new(e||dn)},imports:[[N.h.forChild(gn)],N.h]}),dn),hn=r("arFO"),bn=r("Kdsb"),vn=r("g9iH"),_n=r("UkRs"),pn=((un=function e(){c(this,e)}).\u0275mod=E.Zb({type:un}),un.\u0275inj=E.Yb({factory:function(e){return new(e||un)},providers:[u.a,d.a,s.a,o.a,$.d,A.a],imports:[[l.c,fn,S.k,y.a,m.b,$.b,p.a,_.c.forRoot(),v.b.forRoot(),b.a.forRoot(),h.a.forRoot(),vn.b,f.a,g.a,hn.a,U.u,G.b,O.b.forRoot(),bn.c,_n.c,T.b,F.b,j.b]]}),un)}}])}();