(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{arFO:function(e,t,i){"use strict";i.d(t,"a",function(){return ee});var s=i("vxfF"),n=i("fXoL"),l=i("R0Ic"),a=i("ofXK"),o=i("7zfz"),r=i("YyRF"),h=i("t2ka"),c=i("3Pt+");let p=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(e){this.container||this.showTimeout||this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(e){this._text=e,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):r.b.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),r.b.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++r.b.zindex:this.tooltipZIndex,this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+r.b.getWindowScrollLeft(),top:e.top+r.b.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),t=e.left+r.b.getOuterWidth(this.el.nativeElement),i=e.top+(r.b.getOuterHeight(this.el.nativeElement)-r.b.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=i+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),t=e.left-r.b.getOuterWidth(this.container),i=e.top+(r.b.getOuterHeight(this.el.nativeElement)-r.b.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=i+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),t=e.left+(r.b.getOuterWidth(this.el.nativeElement)-r.b.getOuterWidth(this.container))/2,i=e.top-r.b.getOuterHeight(this.container);this.container.style.left=t+"px",this.container.style.top=i+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),t=e.left+(r.b.getOuterWidth(this.el.nativeElement)-r.b.getOuterWidth(this.container))/2,i=e.top+r.b.getOuterHeight(this.el.nativeElement);this.container.style.left=t+"px",this.container.style.top=i+"px"}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.tooltipStyleClass?t+" "+this.tooltipStyleClass:t}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,i=e.left,s=r.b.getOuterWidth(this.container),n=r.b.getOuterHeight(this.container),l=r.b.getViewport();return i+s>l.width||i<0||t<0||t+n>l.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new r.a(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):r.b.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return e.\u0275fac=function(t){return new(t||e)(n.bc(n.p),n.bc(n.G))},e.\u0275dir=n.Wb({type:e,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",tooltipZIndex:"tooltipZIndex",escape:"escape",disabled:["tooltipDisabled","disabled"],text:["pTooltip","text"],positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",showDelay:"showDelay",hideDelay:"hideDelay",life:"life"}}),e})(),d=(()=>{class e{}return e.\u0275mod=n.Zb({type:e}),e.\u0275inj=n.Yb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})();var u=i("Q4Mo");function f(e,t){if(1&e&&(n.hc(0,"span"),n.dd(1),n.gc()),2&e){const e=n.vc();n.Nb(1),n.ed(e.label||"empty")}}function m(e,t){1&e&&n.dc(0)}const g=function(e){return{height:e}},v=function(e,t){return{"p-dropdown-item":!0,"p-highlight":e,"p-disabled":t}},b=function(e){return{$implicit:e}},k=["container"],S=["filter"],y=["in"],x=["editableInput"];function _(e,t){if(1&e&&(n.fc(0),n.dd(1),n.ec()),2&e){const e=n.vc(2);n.Nb(1),n.ed(e.label||"empty")}}function w(e,t){1&e&&n.dc(0)}const C=function(e){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":e}};function O(e,t){if(1&e&&(n.hc(0,"span",12),n.bd(1,_,2,1,"ng-container",13),n.bd(2,w,1,0,"ng-container",14),n.gc()),2&e){const e=n.vc();n.Dc("ngClass",n.Ic(8,C,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),n.Nb(1),n.Dc("ngIf",!e.selectedItemTemplate),n.Nb(1),n.Dc("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",n.Ic(10,b,e.selectedOption))}}const T=function(e){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":e}};function E(e,t){if(1&e&&(n.hc(0,"span",15),n.dd(1),n.gc()),2&e){const e=n.vc();n.Dc("ngClass",n.Ic(2,T,null==e.placeholder||0===e.placeholder.length)),n.Nb(1),n.ed(e.placeholder||"empty")}}function I(e,t){if(1&e){const e=n.ic();n.hc(0,"input",16,17),n.rc("click",function(){return n.Uc(e),n.vc().onEditableInputClick()})("input",function(t){return n.Uc(e),n.vc().onEditableInputChange(t)})("focus",function(t){return n.Uc(e),n.vc().onEditableInputFocus(t)})("blur",function(t){return n.Uc(e),n.vc().onInputBlur(t)}),n.gc()}if(2&e){const e=n.vc();n.Dc("disabled",e.disabled),n.Ob("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function V(e,t){if(1&e){const e=n.ic();n.hc(0,"i",18),n.rc("click",function(t){return n.Uc(e),n.vc().clear(t)}),n.gc()}}function D(e,t){if(1&e){const e=n.ic();n.hc(0,"div",25),n.hc(1,"div",26),n.rc("click",function(e){return e.stopPropagation()}),n.hc(2,"input",27,28),n.rc("keydown.enter",function(e){return e.preventDefault()})("keydown",function(t){return n.Uc(e),n.vc(2).onKeydown(t,!1)})("input",function(t){return n.Uc(e),n.vc(2).onFilter(t)}),n.gc(),n.cc(4,"span",29),n.gc(),n.gc()}if(2&e){const e=n.vc(2);n.Nb(2),n.Dc("value",e.filterValue||""),n.Ob("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function L(e,t){if(1&e&&(n.hc(0,"span"),n.dd(1),n.gc()),2&e){const e=n.vc().$implicit,t=n.vc(3);n.Nb(1),n.ed(t.getOptionGroupLabel(e)||"empty")}}function M(e,t){1&e&&n.dc(0)}function N(e,t){1&e&&n.dc(0)}const P=function(e,t){return{$implicit:e,selectedOption:t}};function H(e,t){if(1&e&&(n.hc(0,"li",31),n.bd(1,L,2,1,"span",13),n.bd(2,M,1,0,"ng-container",14),n.gc(),n.bd(3,N,1,0,"ng-container",14)),2&e){const e=t.$implicit;n.vc(2);const i=n.Rc(7),s=n.vc();n.Nb(1),n.Dc("ngIf",!s.groupTemplate),n.Nb(1),n.Dc("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",n.Ic(5,b,e)),n.Nb(1),n.Dc("ngTemplateOutlet",i)("ngTemplateOutletContext",n.Jc(7,P,s.getOptionGroupChildren(e),s.selectedOption))}}function F(e,t){if(1&e&&(n.fc(0),n.bd(1,H,4,10,"ng-template",30),n.ec()),2&e){const e=n.vc(2);n.Nb(1),n.Dc("ngForOf",e.optionsToDisplay)}}function R(e,t){1&e&&n.dc(0)}function A(e,t){if(1&e&&(n.fc(0),n.bd(1,R,1,0,"ng-container",14),n.ec()),2&e){n.vc();const e=n.Rc(7),t=n.vc();n.Nb(1),n.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",n.Jc(2,P,t.optionsToDisplay,t.selectedOption))}}function $(e,t){if(1&e){const e=n.ic();n.hc(0,"p-dropdownItem",34),n.rc("onClick",function(t){return n.Uc(e),n.vc(4).onItemClick(t)}),n.gc()}if(2&e){const e=t.$implicit,i=n.vc(2).selectedOption,s=n.vc(2);n.Dc("option",e)("selected",i==e)("label",s.getOptionLabel(e))("disabled",s.isOptionDisabled(e))("template",s.itemTemplate)}}function z(e,t){if(1&e&&(n.fc(0),n.bd(1,$,1,5,"ng-template",30),n.ec()),2&e){const e=n.vc().$implicit;n.Nb(1),n.Dc("ngForOf",e)}}function B(e,t){if(1&e){const e=n.ic();n.fc(0),n.hc(1,"p-dropdownItem",34),n.rc("onClick",function(t){return n.Uc(e),n.vc(5).onItemClick(t)}),n.gc(),n.ec()}if(2&e){const e=t.$implicit,i=n.vc(3).selectedOption,s=n.vc(2);n.Nb(1),n.Dc("option",e)("selected",i==e)("label",s.getOptionLabel(e))("disabled",s.isOptionDisabled(e))("template",s.itemTemplate)}}function j(e,t){if(1&e){const e=n.ic();n.hc(0,"cdk-virtual-scroll-viewport",36,37),n.rc("scrolledIndexChange",function(){return n.Uc(e),n.vc(4).scrollToSelectedVirtualScrollElement()}),n.bd(2,B,2,5,"ng-container",38),n.gc()}if(2&e){const e=n.vc(2).$implicit,t=n.vc(2);n.Dc("ngStyle",n.Ic(3,g,t.scrollHeight))("itemSize",t.itemSize),n.Nb(2),n.Dc("cdkVirtualForOf",e)}}function W(e,t){if(1&e&&n.bd(0,j,3,5,"cdk-virtual-scroll-viewport",35),2&e){const e=n.vc(3);n.Dc("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function Z(e,t){if(1&e&&(n.bd(0,z,2,1,"ng-container",32),n.bd(1,W,1,1,"ng-template",null,33,n.cd)),2&e){const e=n.Rc(2),t=n.vc(2);n.Dc("ngIf",!t.virtualScroll)("ngIfElse",e)}}function G(e,t){if(1&e&&(n.hc(0,"li",39),n.dd(1),n.gc()),2&e){const e=n.vc(2);n.Nb(1),n.ed(e.emptyFilterMessage)}}const U=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},K=function(e){return{value:"visible",params:e}};function J(e,t){if(1&e){const e=n.ic();n.hc(0,"div",19),n.rc("@overlayAnimation.start",function(t){return n.Uc(e),n.vc().onOverlayAnimationStart(t)}),n.bd(1,D,5,3,"div",20),n.hc(2,"div",21),n.hc(3,"ul",22),n.bd(4,F,2,1,"ng-container",13),n.bd(5,A,2,5,"ng-container",13),n.bd(6,Z,3,2,"ng-template",null,23,n.cd),n.bd(8,G,2,1,"li",24),n.gc(),n.gc(),n.gc()}if(2&e){const e=n.vc();n.Pb(e.panelStyleClass),n.Dc("ngClass","p-dropdown-panel p-component")("@overlayAnimation",n.Ic(14,K,n.Jc(11,U,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),n.Nb(1),n.Dc("ngIf",e.filter),n.Nb(1),n.Zc("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),n.Nb(2),n.Dc("ngIf",e.group),n.Nb(1),n.Dc("ngIf",!e.group),n.Nb(3),n.Dc("ngIf",e.filter&&(!e.optionsToDisplay||e.optionsToDisplay&&0===e.optionsToDisplay.length))}}const Q=function(e,t,i,s){return{"p-dropdown p-component":!0,"p-disabled":e,"p-dropdown-open":t,"p-focus":i,"p-dropdown-clearable":s}},X={provide:c.m,useExisting:Object(n.fb)(()=>Y),multi:!0};let q=(()=>{class e{constructor(){this.onClick=new n.r}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Vb({type:e,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(n.hc(0,"li",0),n.rc("click",function(e){return t.onOptionClick(e)}),n.bd(1,f,2,1,"span",1),n.bd(2,m,1,0,"ng-container",2),n.gc()),2&e&&(n.Dc("ngStyle",n.Ic(7,g,t.itemSize+"px"))("ngClass",n.Jc(9,v,t.selected,t.disabled)),n.Ob("aria-label",t.label)("aria-selected",t.selected),n.Nb(1),n.Dc("ngIf",!t.template),n.Nb(1),n.Dc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",n.Ic(12,b,t.option)))},directives:[u.a,a.r,a.o,a.q,a.v],encapsulation:2}),e})(),Y=(()=>{class e{constructor(e,t,i,s,l){this.el=e,this.renderer=t,this.cd=i,this.zone=s,this.filterService=l,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new n.r,this.onFocus=new n.r,this.onBlur=new n.r,this.onClick=new n.r,this.onShow=new n.r,this.onHide=new n.r,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;default:this.itemTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.updateFilledState(),this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?h.a.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?h.a.resolveFieldData(e,this.optionValue):this.optionLabel?e:e.value}isOptionDisabled(e){return this.optionDisabled?h.a.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?h.a.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?h.a.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const t=e.option;this.isOptionDisabled(t)||(this.selectItem(e,t),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide(e)},150)}selectItem(e,t){this.selectedOption!=t&&(this.selectedOption=t,this.value=this.getOptionValue(t),this.filled=!0,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let e=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(e.start>this.virtualScrollSelectedIndex||e.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}r.b.findSingle(this.overlay,"li.p-highlight")&&r.b.scrollInView(this.itemsWrapper,r.b.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide(e):this.show(),this.cd.detectChanges())}isInputClick(e){return r.b.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(e),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=r.b.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++r.b.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let e=r.b.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");e&&r.b.scrollInView(this.itemsWrapper,e)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):r.b.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=r.b.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(e){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck(),this.onHide.emit(e)}alignOverlay(){this.overlay&&(this.appendTo?r.b.absolutePosition(this.overlay,this.containerViewChild.nativeElement):r.b.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=e-1;0<=i;i--){let e=this.optionsToDisplay[i];if(!e.disabled){t=e;break}}if(!t)for(let i=this.optionsToDisplay.length-1;i>=e;i--){let e=this.optionsToDisplay[i];if(!this.isOptionDisabled(e)){t=e;break}}}return t}findNextEnabledOption(e){let t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=e+1;e<this.optionsToDisplay.length-1;i++){let e=this.optionsToDisplay[i];if(!this.isOptionDisabled(e)){t=e;break}}if(!t)for(let i=0;i<e;i++){let e=this.optionsToDisplay[i];if(!this.isOptionDisabled(e)){t=e;break}}}return t}onKeydown(e,t){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==t){let i=t.itemIndex+1;i<this.getOptionGroupChildren(this.optionsToDisplay[t.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[t.groupIndex])[i]),this.selectedOptionUpdated=!0):this.optionsToDisplay[t.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[t.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let t=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,i=this.findNextEnabledOption(t);i&&(this.selectItem(e,i),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==t){let i=t.itemIndex-1;if(i>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[t.groupIndex])[i]),this.selectedOptionUpdated=!0;else if(i<0){let i=this.optionsToDisplay[t.groupIndex-1];i&&(this.selectItem(e,this.getOptionGroupChildren(i)[this.getOptionGroupChildren(i).length-1]),this.selectedOptionUpdated=!0)}}}else{let t=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,i=this.findPrevEnabledOption(t);i&&(this.selectItem(e,i),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(e),e.preventDefault();break;case 27:case 9:this.hide(e);break;default:t&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const t=e.key;let i;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=t,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+t:t,this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};i=this.searchOptionWithinGroup(e)}else{let e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;i=this.searchOption(++e)}i&&!this.isOptionDisabled(i)&&(this.selectItem(e,i),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let t;return this.searchValue&&(t=this.searchOptionInRange(e,this.optionsToDisplay.length),t||(t=this.searchOptionInRange(0,e))),t}searchOptionInRange(e,t){for(let i=e;i<t;i++){let e=this.optionsToDisplay[i];if(this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(e))return e}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let t=e.groupIndex;t<this.optionsToDisplay.length;t++)for(let i=e.groupIndex===t?e.itemIndex+1:0;i<this.getOptionGroupChildren(this.optionsToDisplay[t]).length;i++){let e=this.getOptionGroupChildren(this.optionsToDisplay[t])[i];if(this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(e))return e}for(let t=0;t<=e.groupIndex;t++)for(let i=0;i<(e.groupIndex===t?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[t]).length);i++){let e=this.getOptionGroupChildren(this.optionsToDisplay[t])[i];if(this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(e))return e}}return null}findOptionIndex(e,t){let i=-1;if(t)for(let s=0;s<t.length;s++)if(null==e&&null==this.getOptionValue(t[s])||h.a.equals(e,this.getOptionValue(t[s]),this.dataKey)){i=s;break}return i}findOptionGroupIndex(e,t){let i,s;if(t)for(let n=0;n<t.length&&(i=n,s=this.findOptionIndex(e,this.getOptionGroupChildren(t[n])),-1===s);n++);return-1!==s?{groupIndex:i,itemIndex:s}:-1}findOption(e,t,i){if(this.group&&!i){let i;if(t&&t.length)for(let s of t)if(i=this.findOption(e,this.getOptionGroupChildren(s),!0),i)break;return i}{let i=this.findOptionIndex(e,t);return-1!=i?t[i]:null}}onFilter(e){let t=e.target.value;t&&t.length?(this._filterValue=t,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let t=[];for(let i of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(i),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&t.push({label:i.label,value:i.value,items:s})}this.optionsToDisplay=t}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?r.b.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():r.b.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",e=>{this.isOutsideClicked(e)&&(this.hide(e),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){r.b.isAndroid()||this.hide(event)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new r.a(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide(e)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}updateFilledState(){this.filled=null!=this.selectedOption}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(t){return new(t||e)(n.bc(n.p),n.bc(n.N),n.bc(n.j),n.bc(n.G),n.bc(o.a))},e.\u0275cmp=n.Vb({type:e,selectors:[["p-dropdown"]],contentQueries:function(e,t,i){if(1&e&&n.Ub(i,o.c,0),2&e){let e;n.Qc(e=n.sc())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&(n.jd(k,1),n.jd(S,1),n.jd(y,1),n.jd(s.c,1),n.jd(x,1)),2&e){let e;n.Qc(e=n.sc())&&(t.containerViewChild=e.first),n.Qc(e=n.sc())&&(t.filterViewChild=e.first),n.Qc(e=n.sc())&&(t.accessibleViewChild=e.first),n.Qc(e=n.sc())&&(t.viewPort=e.first),n.Qc(e=n.sc())&&(t.editableInputViewChild=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&n.Tb("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused||t.overlayVisible)},inputs:{scrollHeight:"scrollHeight",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",autoDisplayFirst:"autoDisplayFirst",emptyFilterMessage:"emptyFilterMessage",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",group:"group",showClear:"showClear",virtualScroll:"virtualScroll",itemSize:"itemSize",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",maxlength:"maxlength",tooltipStyleClass:"tooltipStyleClass"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[n.Mb([X])],decls:12,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"]],template:function(e,t){1&e&&(n.hc(0,"div",0,1),n.rc("click",function(e){return t.onMouseclick(e)}),n.hc(2,"div",2),n.hc(3,"input",3,4),n.rc("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)})("keydown",function(e){return t.onKeydown(e,!0)}),n.gc(),n.gc(),n.bd(5,O,3,12,"span",5),n.bd(6,E,2,4,"span",6),n.bd(7,I,2,4,"input",7),n.bd(8,V,1,0,"i",8),n.hc(9,"div",9),n.cc(10,"span",10),n.gc(),n.bd(11,J,9,16,"div",11),n.gc()),2&e&&(n.Pb(t.styleClass),n.Dc("ngClass",n.Lc(17,Q,t.disabled,t.overlayVisible,t.focused,t.showClear&&!t.disabled))("ngStyle",t.style),n.Nb(3),n.Dc("disabled",t.disabled),n.Ob("id",t.inputId)("aria-expanded",t.overlayVisible)("aria-labelledby",t.ariaLabelledBy)("tabindex",t.tabindex)("autofocus",t.autofocus),n.Nb(2),n.Dc("ngIf",!t.editable&&null!=t.label),n.Nb(1),n.Dc("ngIf",!t.editable&&null==t.label),n.Nb(1),n.Dc("ngIf",t.editable),n.Nb(1),n.Dc("ngIf",null!=t.value&&t.showClear&&!t.disabled),n.Nb(1),n.Ob("aria-expanded",t.overlayVisible),n.Nb(1),n.Dc("ngClass",t.dropdownIcon),n.Nb(1),n.Dc("ngIf",t.overlayVisible))},directives:[a.o,a.r,a.q,p,a.v,a.p,q,s.c,s.a,s.b],styles:[".p-dropdown{-ms-user-select:none;-webkit-user-select:none;cursor:pointer;display:inline-flex;position:relative;user-select:none}.p-dropdown-clear-icon{margin-top:-.5rem;position:absolute;top:50%}.p-dropdown-trigger{align-items:center;display:flex;flex-shrink:0;justify-content:center}.p-dropdown-label{cursor:pointer;display:block;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:1%}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;overflow:hidden;position:relative;white-space:nowrap}.p-dropdown-items{list-style-type:none;margin:0;padding:0}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{margin-top:-.5rem;position:absolute;top:50%}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[Object(l.n)("overlayAnimation",[Object(l.m)(":enter",[Object(l.l)({opacity:0,transform:"scaleY(0.8)"}),Object(l.e)("{{showTransitionParams}}")]),Object(l.m)(":leave",[Object(l.e)("{{hideTransitionParams}}",Object(l.l)({opacity:0}))])])]},changeDetection:0}),e})(),ee=(()=>{class e{}return e.\u0275mod=n.Zb({type:e}),e.\u0275inj=n.Yb({factory:function(t){return new(t||e)},imports:[[a.c,o.d,s.e,d,u.b],o.d,s.e]}),e})()},tmjD:function(e,t,i){"use strict";i.d(t,"a",function(){return f}),i.d(t,"b",function(){return m});var s=i("fXoL"),n=i("3Pt+"),l=i("ofXK");const a=new s.v("config"),o=new s.v("NEW_CONFIG"),r=new s.v("INITIAL_CONFIG"),h={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},c=["Hh:m0:s0","Hh:m0","m0:s0"],p=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let d=(()=>{class e{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(e,t,i,s)=>{const n=e.split(i),l=n.length>1?`${i}${n[1]}`:"";let a=n[0];const o=this.separatorLimit.replace(/\s/g,"");o&&+o&&(a="-"===a[0]?"-"+a.slice(1,a.length).slice(0,o.length):a.slice(0,o.length));const r=/(\d+)(\d{3})/;for(;t&&r.test(a);)a=a.replace(r,"$1"+t+"$2");return void 0===s?a+l:0===s?a:a+l.substr(0,s+1)},this.percentage=e=>Number(e)>=0&&Number(e)<=100,this.getPrecision=e=>{const t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{var t,i,s;for(let n=(null===(t=this.suffix)||void 0===t?void 0:t.length)-1;n>=0;n--){const t=this.suffix.substr(n,null===(i=this.suffix)||void 0===i?void 0:i.length);if(e.includes(t)&&(n-1<0||!e.includes(this.suffix.substr(n-1,null===(s=this.suffix)||void 0===s?void 0:s.length))))return e.replace(t,"")}return e},this.checkInputPrecision=(e,t,i)=>{if(t<1/0){const s=new RegExp(this._charToRegExpExpression(i)+`\\d{${t}}.*$`),n=e.match(s);n&&n[0].length-1>t&&(e=e.substring(0,e.length-(n[0].length-1-t))),0===t&&e.endsWith(i)&&(e=e.substring(0,e.length-1))}return e},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,t){const[i,s]=t;return this.customPattern=s,this.applyMask(e,i)}applyMask(e,t,i=0,s=!1,n=!1,l=(()=>{})){if(null==e||void 0===t)return"";let a=0,o="",r=!1,h=!1,c=1,p=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));const d=e.toString().split("");"IP"===t&&(this.ipError=!!(d.filter(e=>"."===e).length<3&&d.length<7),t="099.099.099.099");const u=[];for(let b=0;b<e.length;b++)e[b].match("\\d")&&u.push(e[b]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=!(11===u.length||14===u.length),t=u.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const i=this.getPrecision(t);e=this.checkInputPrecision(e,i,this.decimalMarker)}if(e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))){const t=e.substring(0,e.indexOf(".")-1);e=`${t}${e.substring(e.indexOf("."),e.length)}`}o=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker?e.slice(1,e.length):e;const s=this._charToRegExpExpression(this.thousandSeparator),n=this._charToRegExpExpression(this.decimalMarker),l='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(s,"").replace(n,""),a=new RegExp("["+l+"]");e.match(a)&&(e=e.substring(0,e.length-1));const r=this.getPrecision(t),p=(e=this.checkInputPrecision(e,r,this.decimalMarker)).replace(new RegExp(s,"g"),"");o=this._formatWithSeparators(p,this.thousandSeparator,this.decimalMarker,r);const d=o.indexOf(",")-e.indexOf(","),u=o.length-e.length;if(u>0&&","!==o[i]){h=!0;let e=0;do{this._shift.add(i+e),e++}while(e<u)}else 0!==d&&i>0&&!(o.indexOf(",")>=i&&i>3)||!(o.indexOf(".")>=i&&i>3)&&u<=0?(this._shift.clear(),h=!0,c=u,this._shift.add(i+=u)):this._shift.clear()}else for(let b=0,k=d[0];b<d.length&&a!==t.length;b++,k=d[b])if(this._checkSymbolMask(k,t[a])&&"?"===t[a+1])o+=k,a+=2;else if("*"===t[a+1]&&r&&this._checkSymbolMask(k,t[a+2]))o+=k,a+=3,r=!1;else if(this._checkSymbolMask(k,t[a])&&"*"===t[a+1])o+=k,r=!0;else if("?"===t[a+1]&&this._checkSymbolMask(k,t[a+2]))o+=k,a+=3;else if(this._checkSymbolMask(k,t[a])){if("H"===t[a]&&Number(k)>2){a+=1,this._shiftStep(t,a,d.length),b--,this.leadZeroDateTime&&(o+="0");continue}if("h"===t[a]&&"2"===o&&Number(k)>3){a+=1,b--;continue}if("m"===t[a]&&Number(k)>5){a+=1,this._shiftStep(t,a,d.length),b--,this.leadZeroDateTime&&(o+="0");continue}if("s"===t[a]&&Number(k)>5){a+=1,this._shiftStep(t,a,d.length),b--,this.leadZeroDateTime&&(o+="0");continue}const i=31;if("d"===t[a]&&(Number(k)>3&&this.leadZeroDateTime||Number(e.slice(a,a+2))>i||"/"===e[a+1])){a+=1,this._shiftStep(t,a,d.length),b--,this.leadZeroDateTime&&(o+="0");continue}if("M"===t[a]){const s=12,n=0===a&&(Number(k)>2||Number(e.slice(a,a+2))>s||"/"===e[a+1]),l=e.slice(a-3,a-1).includes("/")&&("/"===e[a-2]&&Number(e.slice(a-1,a+1))>s&&"/"!==e[a]||"/"===e[a]||"/"===e[a-3]&&Number(e.slice(a-2,a))>s&&"/"!==e[a-1]||"/"===e[a-1]),r=Number(e.slice(a-3,a-1))<=i&&!e.slice(a-3,a-1).includes("/")&&"/"===e[a-1]&&(Number(e.slice(a,a+2))>s||"/"===e[a+1]),h=Number(e.slice(a-3,a-1))>i&&!e.slice(a-3,a-1).includes("/")&&!e.slice(a-2,a).includes("/")&&Number(e.slice(a-2,a))>s,c=Number(e.slice(a-3,a-1))<=i&&!e.slice(a-3,a-1).includes("/")&&"/"!==e[a-1]&&Number(e.slice(a-1,a+1))>s;if(Number(k)>1&&this.leadZeroDateTime||n||l||r||h||c){a+=1,this._shiftStep(t,a,d.length),b--,this.leadZeroDateTime&&(o+="0");continue}}o+=k,a++}else-1!==this.maskSpecialCharacters.indexOf(t[a])?(o+=t[a],a++,this._shiftStep(t,a,d.length),b--):this.maskSpecialCharacters.indexOf(k)>-1&&this.maskAvailablePatterns[t[a]]&&this.maskAvailablePatterns[t[a]].optional?(d[a]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(o+=d[a]),a++,b--):"*"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(k)===this.maskExpression[a+2]&&r||"?"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(k)===this.maskExpression[a+2]&&r?(a+=3,o+=k):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(k)<0&&k!==this.placeHolderCharacter&&(p=!0);o.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(o+=t[t.length-1]);let f=i+1;for(;this._shift.has(f);)c++,f++;let m=s?a:this._shift.has(i)?c:0;p&&m--,l(m,h),c<0&&this._shift.clear();let g=!1;n&&(g=d.every(e=>this.maskSpecialCharacters.includes(e)));let v=`${this.prefix}${g?"":o}${this.suffix}`;return 0===o.length&&(v=`${this.prefix}${o}`),v}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((e,t)=>e.match("^-?\\d")||e.match("\\s")||"."===e||","===e||"-"===e&&0===t&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){if(e){const t="[\\^$.|?*+()";return" "===e?"\\s":t.indexOf(e)>=0?"\\"+e:e}return e}_shiftStep(e,t,i){const s=/[*?]/g.test(e.slice(0,t))?i:t;this._shift.add(s+this.prefix.length||0)}}return e.\u0275fac=function(t){return new(t||e)(s.oc(a))},e.\u0275prov=s.Xb({token:e,factory:e.\u0275fac}),e})(),u=(()=>{class e extends d{constructor(e,t,i,s){super(t),this.document=e,this._config=t,this._elementRef=i,this._renderer=s,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.onChange=e=>{}}applyMask(e,t,i=0,s=!1,n=!1,l=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const a=e&&"number"==typeof this.selStart?e[this.selStart]:"";let o="";if(void 0!==this.hiddenInput){let t=this.actualValue.split("");""!==e&&t.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>t.length?t.splice(this.selStart,0,a):e.length<t.length&&(t.length-e.length==1?t.splice(this.selStart-1,1):t.splice(this.selStart,this.selEnd-this.selStart))):t=[],o=this.actualValue.length?this.shiftTypedSymbols(t.join("")):e}o=Boolean(o)&&o.length?o:e;const r=super.applyMask(o,t,i,s,n,l);if(this.actualValue=this.getActualValue(r),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(e=>e!==this.decimalMarker)),this.formControlResult(r),!this.showMaskTyped)return this.hiddenInput&&r&&r.length?this.hideInput(r,this.maskExpression):r;const h=r.length,c=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const e=this._numberSkipedSymbols(r);return r+c.slice(h+e)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?r+c:r+c.slice(h)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let i=t.exec(e),s=0;for(;null!=i;)s+=1,i=t.exec(e);return s}applyValueChanges(e=0,t,i,s=(()=>{})){const n=this._elementRef.nativeElement;n.value=this.applyMask(n.value,this.maskExpression,e,t,i,s),n!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((e,i)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[t[i]]&&this.maskAvailablePatterns[t[i]].symbol?this.maskAvailablePatterns[t[i]].symbol:e).join("")}getActualValue(e){const t=e.split("").filter((e,t)=>this._checkSymbolMask(e,this.maskExpression[t])||this.maskSpecialCharacters.includes(this.maskExpression[t])&&e===this.maskExpression[t]);return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((i,s)=>{if(this.maskSpecialCharacters.includes(e[s+1])&&e[s+1]!==this.maskExpression[s+1])return t=i,e[s+1];if(t.length){const e=t;return t="",e}return i})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(e=>this._findSpecialChar(e)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let i=0;i<e.length;i++)e[i].match("\\d")&&t.push(e[i]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const s=[];for(let n=0;n<e.length;n++)e[n].match("\\d")&&s.push(e[n]);return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):11===s.length?"":12===s.length?i.slice(17===e.length?16:15,i.length):s.length>12&&s.length<=14?i.slice(s.length+4,i.length):""}formControlResult(e){this.writingValue||(Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e)))}_toNumber(e){if(!this.isNumberValue)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e?e.replace(this._regExpForRemove(t),""):e}_removePrefix(e){return this.prefix&&e?e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix&&e?e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(e=>"\\"+e).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let i=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(i=i.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,i):Number(i):i}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return e.\u0275fac=function(t){return new(t||e)(s.oc(l.e),s.oc(a),s.oc(s.p),s.oc(s.N))},e.\u0275prov=s.Xb({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e{constructor(e,t,i){this.document=e,this._maskService=t,this._config=i,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:i,patterns:s,prefix:n,suffix:l,thousandSeparator:a,decimalMarker:o,dropSpecialCharacters:r,hiddenInput:h,showMaskTyped:c,placeHolderCharacter:p,shownMaskExpression:d,showTemplate:u,clearIfNotMatch:f,validation:m,separatorLimit:g,allowNegativeNumbers:v,leadZeroDateTime:b}=e;if(t&&(this._maskValue=t.currentValue||"",t.currentValue&&t.currentValue.split("||").length>1&&(this._maskExpressionArray=t.currentValue.split("||").sort((e,t)=>e.length-t.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.maskSpecialCharacters=i.currentValue||[]}s&&s.currentValue&&(this._maskService.maskAvailablePatterns=s.currentValue),n&&(this._maskService.prefix=n.currentValue),l&&(this._maskService.suffix=l.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue),o&&(this._maskService.decimalMarker=o.currentValue),r&&(this._maskService.dropSpecialCharacters=r.currentValue),h&&(this._maskService.hiddenInput=h.currentValue),c&&(this._maskService.showMaskTyped=c.currentValue),p&&(this._maskService.placeHolderCharacter=p.currentValue),d&&(this._maskService.shownMaskExpression=d.currentValue),u&&(this._maskService.showTemplate=u.currentValue),f&&(this._maskService.clearIfNotMatch=f.currentValue),m&&(this._maskService.validation=m.currentValue),g&&(this._maskService.separatorLimit=g.currentValue),v&&(this._maskService.allowNegativeNumbers=v.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(e=>"-"!==e))),b&&(this._maskService.leadZeroDateTime=b.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator"))return null;if(p.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(c.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const i in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[i].optional&&!0===this._maskService.maskAvailablePatterns[i].optional){if(this._maskValue.indexOf(i)!==this._maskValue.lastIndexOf(i)?t+=this._maskValue.split("").filter(e=>e===i).join("").length:-1!==this._maskValue.indexOf(i)&&t++,-1!==this._maskValue.indexOf(i)&&e.toString().length>=this._maskValue.indexOf(i))return null;if(t===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const i=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<i)return this._createValidationError(e)}}return null}onPaste(){this._justPasted=!0}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);const i=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let s=0,n=!1;if(this._maskService.applyValueChanges(i,this._justPasted,"Backspace"===this._code,(e,t)=>{this._justPasted=!1,s=e,n=t}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let l=this._position?this._inputValue.length+i+s:i+("Backspace"!==this._code||n?s:0);l>this._getActualInputLength()&&(l=this._getActualInputLength()),t.setSelectionRange(l,l),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const i=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==i&&(t.value=i),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){var t;if(!this._maskValue)return;this._code=e.code?e.code:e.key;const i=e.target;if(this._inputValue=i.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===i.value.length&&(i.selectionStart=i.selectionEnd),8===e.keyCode&&0!==i.selectionStart)if(this.specialCharacters=(null===(t=this.specialCharacters)||void 0===t?void 0:t.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&i.selectionStart<=this.prefix.length)i.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==i.selectionStart&&1!==i.selectionStart)for(;this.specialCharacters.includes(this._inputValue[i.selectionStart-1].toString())&&(this.prefix.length>=1&&i.selectionStart>this.prefix.length||0===this.prefix.length);)i.setSelectionRange(i.selectionStart-1,i.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,i)}this.suffixCheckOnPressDelete(e.keyCode,i),this._maskService.prefix.length&&i.selectionStart<=this._maskService.prefix.length&&i.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const s=i.selectionStart;8!==e.keyCode||i.readOnly||0!==s||i.selectionEnd!==i.value.length||0===i.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<i.selectionStart?i.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey)&&(i.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=i.selectionStart,this._maskService.selEnd=i.selectionEnd}writeValue(e){return t=this,void 0,s=function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&this.setDisabledState(Boolean(e.disable)),e=e.value),void 0===e&&(e=""),"number"==typeof e&&(e=String(e),e="."!==this.decimalMarker?e.replace(".",this.decimalMarker):e,this._maskService.isNumberValue=!0),e&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(e,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",e],this._inputValue=e},new((i=void 0)||(i=Promise))(function(e,n){function l(e){try{o(s.next(e))}catch(t){n(t)}}function a(e){try{o(s.throw(e))}catch(t){n(t)}}function o(t){var s;t.done?e(t.value):(s=t.value,s instanceof i?s:new i(function(e){e(s)})).then(l,a)}o((s=s.apply(t,[])).next())});var t,i,s}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}suffixCheckOnPressDelete(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,i,s)=>{if(this._start="{"===i?s:this._start,"}"!==i)return this._maskService._findSpecialChar(i)?t+i:t;this._end=s;const n=Number(e.slice(this._start+1,this._end));return t+new Array(n+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(e=>":"!==e).length;return null===e||0===e.length?null:0==+e[e.length-1]&&e.length<t||e.length<=t-2?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{const t=this._maskService.removeMask(this._inputValue).length<=this._maskService.removeMask(e).length;if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return e.\u0275fac=function(t){return new(t||e)(s.bc(l.e),s.bc(u),s.bc(a))},e.\u0275dir=s.Wb({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&s.rc("paste",function(){return t.onPaste()})("input",function(e){return t.onInput(e)})("blur",function(){return t.onBlur()})("click",function(e){return t.onFocus(e)})("keydown",function(e){return t.onKeyDown(e)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[s.Mb([{provide:n.m,useExisting:Object(s.fb)(()=>e),multi:!0},{provide:n.l,useExisting:Object(s.fb)(()=>e),multi:!0},u]),s.Lb]}),e})(),m=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:o,useValue:t},{provide:r,useValue:h},{provide:a,useFactory:g,deps:[r,o]},d]}}static forChild(){return{ngModule:e}}}return e.\u0275mod=s.Zb({type:e}),e.\u0275inj=s.Yb({factory:function(t){return new(t||e)}}),e})();function g(e,t){return Object.assign(Object.assign({},e),t instanceof Function?t():t)}const v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};v.KeyboardEvent||(v.KeyboardEvent=function(e,t){})}}]);