(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{fRIO:function(e,t,c){"use strict";c.r(t),c.d(t,"TasksModule",function(){return Ve});var i=c("ofXK"),a=c("VToC"),n=c("25+x"),s=c("cplz"),l=c("7dP1"),r=c("bmg4"),o=c("44PX"),d=c("K3ix"),h=c("+Cnu"),g=c("Lm2G"),u=c("hzby"),f=c("dZIy"),b=c("LPYB"),m=c("oOf3"),p=c("3Pt+"),_=c("tyNb"),v=c("WuMH"),S=c("gFX4"),y=c.n(S),w=c("CMKA"),N=c("piOG"),D=c("PSD3"),x=c.n(D),E=c("fXoL"),M=c("3t6R"),k=c("REEf"),C=c("1kSV"),R=c("qeeY"),I=c("jhN1"),U=c("eLGb"),O=c("ZOsW"),T=c("sYmb");function A(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",69),E.ec()),2&e){const e=E.vc();E.Nb(1),E.Ec("alt",e.user.name)}}function F(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",70),E.ec()),2&e){const e=E.vc();E.Nb(1),E.Ec("alt",e.user.name),E.Dc("src",e.baseFolder+"/"+e.user.avatar,E.Wc)}}function G(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",72),E.ec()),2&e){const e=E.vc().$implicit,t=E.vc();E.Nb(1),E.Ec("alt",e.name),E.Dc("src",t.baseFolder+"/"+e.avatar,E.Wc)("ngbTooltip",e.name)}}function P(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",73),E.ec()),2&e){const e=E.vc().$implicit;E.Nb(1),E.Ec("alt",e.name),E.Dc("ngbTooltip",e.name)}}function j(e,t){if(1&e&&(E.hc(0,"li",71),E.bd(1,G,2,3,"ng-container",10),E.bd(2,P,2,2,"ng-container",10),E.gc()),2&e){const e=t.$implicit;E.Nb(1),E.Dc("ngIf",null!=e.avatar),E.Nb(1),E.Dc("ngIf",null==e.avatar)}}function L(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",72),E.ec()),2&e){const e=E.vc().$implicit,t=E.vc(2);E.Nb(1),E.Ec("alt",e.name),E.Dc("src",t.baseFolder+"/"+e.avatar,E.Wc)("ngbTooltip",e.name)}}function $(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",73),E.ec()),2&e){const e=E.vc().$implicit;E.Nb(1),E.Ec("alt",e.name),E.Dc("ngbTooltip",e.name)}}function z(e,t){if(1&e&&(E.hc(0,"li",71),E.bd(1,L,2,3,"ng-container",10),E.bd(2,$,2,2,"ng-container",10),E.gc()),2&e){const e=t.$implicit;E.Nb(1),E.Dc("ngIf",null!=e.avatar),E.Nb(1),E.Dc("ngIf",null==e.avatar)}}function q(e,t){if(1&e&&(E.fc(0),E.hc(1,"p"),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"div",13),E.hc(5,"ul"),E.bd(6,z,3,2,"li",14),E.gc(),E.gc(),E.ec()),2&e){const e=E.vc();E.Nb(2),E.fd("",E.xc(3,2,"Followers"),":"),E.Nb(4),E.Dc("ngForOf",e.ccList)}}function H(e,t){if(1&e){const e=E.ic();E.hc(0,"li",20),E.rc("click",function(){return E.Uc(e),E.vc()._createNew()}),E.hc(1,"a",21),E.hc(2,"span",22),E.cc(3,"i",29),E.dd(4),E.wc(5,"translate"),E.gc(),E.gc(),E.gc()}2&e&&(E.Nb(4),E.fd(" ",E.xc(5,1,"Create new"),""))}function B(e,t){if(1&e){const e=E.ic();E.hc(0,"li",25),E.rc("click",function(){E.Uc(e);const t=E.vc();return t.getUserEmail(t.type="trash")}),E.hc(1,"a",26),E.hc(2,"span",22),E.cc(3,"i",74),E.dd(4),E.wc(5,"translate"),E.gc(),E.hc(6,"span",24),E.dd(7),E.gc(),E.gc(),E.gc()}if(2&e){const e=E.vc();E.Nb(4),E.fd(" ",E.xc(5,2,"Trash"),""),E.Nb(3),E.fd("(",e.getUserEmail("trash").length,")")}}function V(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",81),E.ec()),2&e){const e=E.vc().$implicit,t=E.vc();E.Nb(1),E.Ec("alt",e.name),E.Dc("src",t.baseFolder+"/"+e.avatar,E.Wc)}}function Y(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",82),E.ec()),2&e){const e=E.vc().$implicit;E.Nb(1),E.Ec("alt",e.name)}}function K(e,t){if(1&e){const e=E.ic();E.hc(0,"a",26),E.hc(1,"div",8),E.hc(2,"label",75),E.hc(3,"input",76),E.rc("ngModelChange",function(e){return t.$implicit.is_active=e})("change",function(c){E.Uc(e);const i=t.$implicit;return E.vc().selectedmail(c,i)}),E.gc(),E.gc(),E.hc(4,"div",77),E.rc("click",function(){E.Uc(e);const c=t.$implicit;return E.vc().selectedUserEmail(c)}),E.bd(5,V,2,2,"ng-container",10),E.bd(6,Y,2,1,"ng-container",10),E.gc(),E.hc(7,"div",78),E.rc("click",function(){E.Uc(e);const c=t.$implicit;return E.vc().selectedUserEmail(c)}),E.hc(8,"h6"),E.dd(9),E.hc(10,"small"),E.dd(11,"("),E.hc(12,"span",79),E.dd(13),E.wc(14,"date"),E.gc(),E.dd(15,")"),E.gc(),E.gc(),E.hc(16,"p"),E.cc(17,"span",80),E.gc(),E.gc(),E.gc(),E.gc()}if(2&e){const e=t.$implicit,c=t.index;E.Nb(2),E.Dc("ngClass",2==e.type?"d-block jignore":"d-block"),E.Nb(1),E.Fc("id","chk-ani",c+1,""),E.Fc("name","chk-ani",c+1,""),E.Dc("ngModel",e.is_active)("disabled",!(2!=e.type&&!e.is_active)),E.Nb(2),E.Dc("ngIf",null!=e.avatar),E.Nb(1),E.Dc("ngIf",null==e.avatar),E.Nb(1),E.Dc("ngClass",2==e.type?"media-body jignore":"media-body"),E.Nb(2),E.fd(" ",e.title," "),E.Nb(4),E.ed(E.yc(14,11,e.timestamp,"dd/MM/yyyy HH:mm")),E.Nb(4),E.Dc("innerHtml",e.content,E.Vc)}}function W(e,t){1&e&&(E.fc(0),E.hc(1,"div",83),E.hc(2,"div",84),E.cc(3,"img",85),E.hc(4,"p",48),E.dd(5),E.wc(6,"translate"),E.gc(),E.gc(),E.gc(),E.ec()),2&e&&(E.Nb(5),E.ed(E.xc(6,1,"Not found items")))}function J(e,t){1&e&&(E.fc(0),E.dd(1),E.wc(2,"translate"),E.ec()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Send")))}function X(e,t){1&e&&(E.fc(0),E.dd(1),E.wc(2,"translate"),E.ec()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Loading")))}function Z(e,t){if(1&e){const e=E.ic();E.hc(0,"div",54),E.hc(1,"label",86),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"ng-select",87),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc().follow_users=t}),E.wc(5,"translate"),E.wc(6,"translate"),E.gc(),E.gc()}if(2&e){const e=E.vc();E.Nb(2),E.ed(E.xc(3,9,"Followers")),E.Nb(2),E.Dc("items",e._users)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",e.follow_users)("placeholder",E.xc(5,11,"Please choose"))("notFoundText",E.xc(6,13,"Not found item"))}}function Q(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",82),E.ec()),2&e){const e=E.vc(2);E.Nb(1),E.Ec("alt",null==e.selectEmail?null:e.selectEmail.name)}}function ee(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",102),E.ec()),2&e){const e=E.vc(2);E.Nb(1),E.Dc("src",e.baseFolder+"/"+(null==e.selectEmail?null:e.selectEmail.avatar),E.Wc)}}function te(e,t){if(1&e&&(E.hc(0,"span"),E.dd(1),E.gc()),2&e){const e=t.$implicit;E.Nb(1),E.fd("",e.name,", ")}}function ce(e,t){if(1&e){const e=E.ic();E.hc(0,"li",111),E.hc(1,"img",112),E.rc("click",function(){E.Uc(e);const c=t.$implicit;return E.vc(3)._downloadFileResult(c)}),E.gc(),E.gc()}}function ie(e,t){if(1&e&&(E.fc(0),E.hc(1,"div",71),E.hc(2,"h6",103),E.cc(3,"i",104),E.dd(4),E.wc(5,"translate"),E.gc(),E.hc(6,"a",105),E.cc(7,"i",106),E.dd(8),E.wc(9,"translate"),E.gc(),E.cc(10,"div",107),E.gc(),E.hc(11,"div",108),E.hc(12,"ul",109),E.bd(13,ce,2,0,"li",110),E.gc(),E.gc(),E.cc(14,"hr"),E.ec()),2&e){const e=E.vc(2);E.Nb(4),E.fd(" ",E.xc(5,3,"Attachment")," "),E.Nb(4),E.ed(E.xc(9,5,"All")),E.Nb(5),E.Dc("ngForOf",null==e.selectEmail?null:e.selectEmail.urls.data)}}function ae(e,t){if(1&e){const e=E.ic();E.hc(0,"li"),E.hc(1,"a",100),E.rc("click",function(){E.Uc(e);const t=E.vc(2);return t.updateType(t.selectEmail,2)}),E.cc(2,"i",113),E.dd(3),E.wc(4,"translate"),E.gc(),E.gc()}2&e&&(E.Nb(3),E.ed(E.xc(4,1,"Delete")))}function ne(e,t){if(1&e){const e=E.ic();E.hc(0,"li"),E.hc(1,"a",100),E.rc("click",function(){E.Uc(e);const t=E.vc(2);return t.updateType(t.selectEmail,null)}),E.cc(2,"i",114),E.dd(3),E.wc(4,"translate"),E.gc(),E.gc()}2&e&&(E.Nb(3),E.ed(E.xc(4,1,"Recall")))}function se(e,t){1&e&&E.cc(0,"i",125)}function le(e,t){1&e&&(E.fc(0),E.dd(1),E.wc(2,"translate"),E.ec()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Processing")))}function re(e,t){if(1&e){const e=E.ic();E.fc(0),E.cc(1,"hr"),E.hc(2,"div",2),E.hc(3,"div",115),E.hc(4,"div",54),E.hc(5,"div",116),E.hc(6,"input",117),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc(2).entitySubDID.content=t}),E.wc(7,"translate"),E.gc(),E.hc(8,"div",118),E.hc(9,"span",119),E.cc(10,"i",120),E.hc(11,"input",121,122),E.rc("change",function(t){E.Uc(e);const c=E.Rc(12);return E.vc(2).fileEvent1(t,c)}),E.gc(),E.gc(),E.hc(13,"span",123),E.rc("click",function(){E.Uc(e);const t=E.vc(2);return t.isSaveComment?null:t.submitComment(t.selectEmail)}),E.bd(14,se,1,0,"i",124),E.bd(15,le,3,3,"ng-container",10),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.ec()}if(2&e){const e=E.vc(2);E.Nb(6),E.Ec("placeholder",E.xc(7,4,"Comment")),E.Dc("ngModel",e.entitySubDID.content),E.Nb(8),E.Dc("ngIf",!e.isSaveComment),E.Nb(1),E.Dc("ngIf",e.isSaveComment)}}const oe=function(e){return{"active show":e}};function de(e,t){if(1&e){const e=E.ic();E.hc(0,"div",88),E.hc(1,"div",89),E.hc(2,"div",35),E.hc(3,"div",2),E.hc(4,"div",90),E.hc(5,"div",8),E.bd(6,Q,2,1,"ng-container",10),E.bd(7,ee,2,1,"ng-container",10),E.hc(8,"div",11),E.hc(9,"h6"),E.dd(10),E.hc(11,"small"),E.hc(12,"span",79),E.dd(13),E.wc(14,"date"),E.gc(),E.hc(15,"span",79),E.dd(16),E.wc(17,"date"),E.gc(),E.dd(18),E.wc(19,"date"),E.hc(20,"i",91),E.rc("click",function(){E.Uc(e);const t=E.vc();return t.updateType(t.selectEmail,1)}),E.gc(),E.gc(),E.gc(),E.hc(21,"p"),E.bd(22,te,2,1,"span",92),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(23,"div",93),E.hc(24,"div",94),E.hc(25,"p",95),E.dd(26),E.gc(),E.hc(27,"i",96),E.rc("click",function(){E.Uc(e);const t=E.vc();return t.addFavourite(t.selectEmail)}),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(28,"div",52),E.cc(29,"p",97),E.cc(30,"hr"),E.bd(31,ie,15,7,"ng-container",10),E.hc(32,"div",98),E.hc(33,"ul",99),E.hc(34,"li"),E.hc(35,"a",100),E.rc("click",function(){E.Uc(e);const t=E.vc();return t.flagReply=!t.flagReply}),E.cc(36,"i",101),E.dd(37),E.wc(38,"translate"),E.gc(),E.gc(),E.dc(39),E.bd(40,ae,5,3,"li",10),E.bd(41,ne,5,3,"li",10),E.gc(),E.gc(),E.bd(42,re,16,6,"ng-container",10),E.gc(),E.gc(),E.gc()}if(2&e){const e=E.vc();E.Dc("ngClass",E.Ic(29,oe,!e.compose)),E.Nb(6),E.Dc("ngIf",null==(null==e.selectEmail?null:e.selectEmail.avatar)),E.Nb(1),E.Dc("ngIf",null!=(null==e.selectEmail?null:e.selectEmail.avatar)),E.Nb(3),E.fd(" ",null==e.selectEmail?null:e.selectEmail.title," "),E.Nb(3),E.fd("(",E.yc(14,18,null==e.selectEmail?null:e.selectEmail.timestamp,"dd/MM/yyyy"),")"),E.Nb(3),E.fd(" ",E.yc(17,21,null==e.selectEmail?null:e.selectEmail.timestamp,"h:mm"),""),E.Nb(2),E.fd(" ",E.yc(19,24,null==e.selectEmail?null:e.selectEmail.timestamp,"a")," "),E.Nb(2),E.Dc("ngClass",1==(null==e.selectEmail?null:e.selectEmail.type)?"icofont icofont-flag-alt-1 text-danger":"icofont icofont-flag-alt-1"),E.Nb(2),E.Dc("ngForOf",null==e.selectEmail?null:e.selectEmail.cc),E.Nb(4),E.ed(null==e.selectEmail?null:e.selectEmail.email),E.Nb(1),E.Tb("starred",e._flagFav),E.Nb(2),E.Dc("innerHTML",null==e.selectEmail?null:e.selectEmail.content,E.Vc),E.Nb(2),E.Dc("ngIf",null!=(null==e.selectEmail?null:e.selectEmail.urls)),E.Nb(6),E.ed(E.xc(38,27,"Reply")),E.Nb(3),E.Dc("ngIf",2!=(null==e.selectEmail?null:e.selectEmail.type)),E.Nb(1),E.Dc("ngIf",2==(null==e.selectEmail?null:e.selectEmail.type)),E.Nb(1),E.Dc("ngIf",e.flagReply)}}function he(e,t){if(1&e){const e=E.ic();E.hc(0,"li",111),E.hc(1,"img",112),E.rc("click",function(){E.Uc(e);const c=t.$implicit;return E.vc(3)._downloadFileResult(c)}),E.gc(),E.gc()}}const ge=function(){return[]};function ue(e,t){if(1&e&&(E.hc(0,"tr"),E.hc(1,"td"),E.dd(2),E.gc(),E.hc(3,"td"),E.hc(4,"div",108),E.hc(5,"ul",109),E.bd(6,he,2,0,"li",110),E.gc(),E.gc(),E.gc(),E.hc(7,"td"),E.dd(8),E.gc(),E.hc(9,"td"),E.dd(10),E.wc(11,"date"),E.gc(),E.gc()),2&e){const e=t.$implicit;E.Nb(2),E.ed(e.content),E.Nb(4),E.Dc("ngForOf",null==e.urls?E.Hc(7,ge):e.urls.data),E.Nb(2),E.ed(e.name),E.Nb(2),E.ed(E.yc(11,4,e.timestamp,"dd/MM/yyyy h:mm a"))}}function fe(e,t){if(1&e&&(E.hc(0,"div",115),E.hc(1,"div",5),E.hc(2,"div",126),E.hc(3,"h4",127),E.dd(4),E.wc(5,"translate"),E.gc(),E.gc(),E.hc(6,"div",6),E.hc(7,"div",128),E.hc(8,"table",129),E.hc(9,"thead"),E.hc(10,"th"),E.dd(11),E.wc(12,"translate"),E.gc(),E.hc(13,"th"),E.dd(14),E.wc(15,"translate"),E.gc(),E.hc(16,"th"),E.dd(17),E.wc(18,"translate"),E.gc(),E.hc(19,"th"),E.dd(20),E.wc(21,"translate"),E.gc(),E.gc(),E.hc(22,"tbody"),E.bd(23,ue,12,8,"tr",92),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc()),2&e){const e=E.vc();E.Nb(4),E.fd(" ",E.xc(5,6,"Related information")," "),E.Nb(7),E.ed(E.xc(12,8,"Content")),E.Nb(3),E.ed(E.xc(15,10,"Attachement")),E.Nb(3),E.ed(E.xc(18,12,"Created by")),E.Nb(3),E.ed(E.xc(21,14,"CreatedDate")),E.Nb(3),E.Dc("ngForOf",e._children)}}let be=(()=>{class e{constructor(e,t,c,i,a,n,s,l,r,o,d){this._authenService=e,this._dataService=t,this._route=c,this._notifyService=i,this._uploadService=a,this._excelService=n,this._numberFormat=s,this.modalService=l,this._utilyService=r,this.sanitizer=o,this._activatedRoute=d,this._id="",this.entity={},this.entitySub={},this.baseFolder=w.a.BASE_API,this._users=[],this.follow_users=[],this.related_users=[],this.ccList=[],this.flagShow=!1,this.filesToUpload=[],this.isSave=!1,this.getlist=[],this.getlistAll=[],this.flagReply=!1,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._children=[],this.entitySubDID={},this.filesToUpload1=[],this.isSaveComment=!1,this._flagFav=!1,this._flagAllowCC=!1,this.compose=!0,this.allEmails=v.a.Emails,this.selectedEmails=[],this.socket=y()(w.a.BASE_API)}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this._activatedRoute.params.subscribe(e=>{this._id=e.id,this.loadUsersWithDept(this._id),this.loadData(),this.socket.on("refreshPage",e=>{})})}loadUsersWithDept(e){let t={};t.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",t).subscribe(t=>{this._dataService.post("/tasks/detailCount",{id:e,userid:this.user.id}).subscribe(e=>{this.entity=e.data,this.related_users=null==e.data.related_users?[]:e.data.related_users.data;let c=[];for(let t of e.data.related_users.data)t.id!=this.user.id&&c.push({id:t.id,name:t.name});let i=null==e.data.follow_users?[]:JSON.parse(e.data.follow_users);for(let n of i)if(this.user.id!=n){let e=t.data.filter(e=>e.id==n)[0];c.push({id:n,name:e.name})}let a=[];for(let n of i){this.user.id==n&&(this._flagAllowCC=!0,this.compose=!1);let e=t.data.filter(e=>e.id==n)[0];a.push({id:n,name:e.name,avatar:e.avatar})}this.ccList=a,this._users=c,this.socket.emit("refresh",{})})})}loadDetail(e){this._dataService.post("/tasks/detailCount",{id:e,userid:this.user.id}).subscribe(e=>{this.entity=e.data;let t=[];for(let i of e.data.related_users.data)i.id!=this.user.id&&t.push({id:i.id,name:i.name});let c=null==e.data.follow_users?[]:JSON.parse(e.data.follow_users);for(let i of c)this.user.id!=i&&t.push({id:i,name:null});this._users=t,this.socket.emit("refresh",{})})}fileEvent(e,t){this.filesToUpload=e.target.files,this._files=t}submit(){this.entitySub.follow_users=this.flagShow?JSON.stringify(this.follow_users):null,this.isSave=!0,this.entitySub.id=this._id,this.entitySub.parent_id=null,this.entitySub.created_by=this.user.id,0==this.filesToUpload.length?this._dataService.post("/tasks/addDetail",this.entitySub).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySub={},this.entitySub.title=null,this.entitySub.content=null,this.follow_users=[],this.entitySub.follow_users=null,this.flagShow=!1,this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}):this._processUploadDisagreeAfter(this.filesToUpload)}_processUploadDisagreeAfter(e){let t={folder_name:"tasks"};t.id=this._id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+t.id+"/"+t.folder_name,e).subscribe(e=>{this.entitySub.urls={data:e.data},console.log(this.entitySub,e),this._dataService.post("/tasks/addDetail",this.entitySub).subscribe(e=>{this.isSave=!1,"failed"!=e.result&&(this._files.value=[],this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"),this.socket.emit("refresh",{}))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}loadData(){this._dataService.post("/tasks/getalltaskdetail",{userid:this.user.id,id:this._id}).subscribe(e=>{console.log("kq",e),this.getlist=e.data.filter(e=>2!=e.type),this.getlistAll=e.data})}getUserEmail(e){let t=[];if("allmail"==e)return t=this.getlist,t;if("favourite"==e){let e=[];for(let t of this.getlistAll.filter(e=>null!=e.favorites&&2!=e.type))t.favorites.data.filter(e=>e.id==this.user.id&&e.stat).length>0&&e.push(t);return t=e,t}return"trash"===e?this.getlistAll.filter(e=>2==e.type):"draft"===e?this.getlistAll.filter(e=>(null==e.is_active||0==e.is_active)&&2!=e.type):"important"===e?this.getlistAll.filter(e=>1==e.type):[]}selectedUserEmail(e){this.selectEmail=e,null!=this.selectEmail&&(this._flagFav=null!=this.selectEmail.favorites&&this.selectEmail.favorites.data.filter(e=>e.id==this.user.id&&e.stat).length>0),this.compose=!1,this.loadSubData(e.did)}selectedmail(e,t){x.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_complete_en:N.a.are_you_sure_complete,text:t.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(e=>{if(e.value){let e={};e.did=t.did,e.stat=!0,this._dataService.post("/tasks/updateStatus",e).subscribe(e=>{this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.loadData()},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}})}moveEmails(e){e&&this.selectedEmails.filter(t=>t.type=e)}addFavourite(e){console.log(e),this.updateFavorite(e.did,!this._flagFav)}_downloadFileResult(e){window.open(w.a.BASE_API+"/"+e,"blank")}loadSubData(e){this._dataService.post("/tasks/getalltaskdetailbydid",{did:e,page:this.pageIndex,limit:this.pageSize}).subscribe(e=>{console.log(e),this._children=e.data,this.totalRow=e.rowCount,this.totalPage=e.totalPages})}_createNew(){this.compose=!0,this._children=[]}fileEvent1(e,t){this.filesToUpload1=e.target.files,this._files1=t}submitComment(e){this.isSaveComment=!0,this.entitySubDID.id=this._id,this.entitySubDID.parent_id=e.did,this.entitySubDID.created_by=this.user.id,this.entitySubDID.title="Re: "+e.title,0==this.filesToUpload1.length?this._dataService.post("/tasks/addDetail",this.entitySubDID).subscribe(t=>{this.isSaveComment=!1,this.flagReply=!1,"failed"===t.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.entitySubDID={},this.loadSubData(e.did),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"))},()=>{this.isSaveComment=!1,this.flagReply=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}):this._processUploadDisagreeAfter1(this.filesToUpload1,e.did)}_processUploadDisagreeAfter1(e,t){let c={folder_name:"tasks"};c.id=this._id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+c.id+"/"+c.folder_name,e).subscribe(e=>{this.entitySubDID.urls={data:e.data},this._dataService.post("/tasks/addDetail",this.entitySubDID).subscribe(e=>{this.isSaveComment=!1,this.flagReply=!1,"failed"!=e.result&&(this._files1.value=[],this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"),this.loadSubData(t))},()=>{this.isSaveComment=!1,this.flagReply=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})},()=>{this.isSaveComment=!1,this.flagReply=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}updateFavorite(e,t){let c={};c.did=e,c.stat=t,c.userid=this.user.id,this._dataService.post("/tasks/updateFavorite",c).subscribe(t=>{"failed"===t.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_UPDATENO_EN:N.a.MSG_UPDATENO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.compose=!0,this._children=[],this.selectEmail=t.data,this.loadData(),this.loadSubData(e),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"))},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}updateType(e,t){this.compose=!0,this._children=[];let c={};c.did=e.did,c.type=1==e.type?null:t,this._dataService.post("/tasks/updateTypes",c).subscribe(t=>{"failed"===t.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_UPDATENO_EN:N.a.MSG_UPDATENO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.loadDetail(e.did),this.loadData(),this.loadSubData(e.did),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"))},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}}return e.\u0275fac=function(t){return new(t||e)(E.bc(l.a),E.bc(s.a),E.bc(_.d),E.bc(M.a),E.bc(n.a),E.bc(a.a),E.bc(k.a),E.bc(C.s),E.bc(R.a),E.bc(I.b),E.bc(_.a))},e.\u0275cmp=E.Vb({type:e,selectors:[["app-task-detail"]],decls:137,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-xl-3","col-md-6"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"email-app-sidebar"],[1,"media"],[1,"media-size-email"],[4,"ngIf"],[1,"media-body"],[1,"f-w-600"],[1,"customers","d-inline-block","avatar-group"],["class","d-inline-block",4,"ngFor","ngForOf"],["role","tablist",1,"nav","main-menu"],[1,"nav-item"],["routerLink","/tasks/requests","id","pills-darkhome-tab","data-toggle","pill","role","tab","aria-controls","pills-darkhome","aria-selected","true",1,"btn-primary","btn-block","btn-mail"],[1,"icofont","icofont-rounded-double-left","mr-2"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["href","javascript:void(0)","id","pills-darkprofile-tab","data-toggle","pill","role","tab","aria-controls","pills-darkprofile","aria-selected","false",1,"show"],[1,"title"],[1,"icon-info-alt"],[1,"badge","pull-right","digits"],[3,"click"],["href","javascript:void(0)"],[1,"icon-star"],[1,"icon-folder"],[1,"icon-pencil-alt"],[3,"ngClass"],[3,"click",4,"ngIf"],[1,"email-right-aside"],[1,"card","email-body"],[1,"pr-0","b-r-light"],[1,"email-top"],[1,"col"],[1,"col","text-right"],[1,"inbox",2,"max-height","630px !important"],["href","javascript:void(0)",4,"ngFor","ngForOf"],[1,"col-xl-6","col-md-12"],[1,"card","email-body","radius-left"],[1,"pl-0"],[1,"tab-content"],["id","pills-darkhome","role","tabpanel","aria-labelledby","pills-darkhome-tab",1,"tab-pane","fade",3,"ngClass"],[1,"email-compose"],[1,"email-top","compose-border"],[1,"col-sm-8","xl-50"],[1,"mb-0"],[1,"col-sm-4","btn-middle","xl-50"],["type","button",1,"btn","btn-primary","btn-block","btn-mail","text-center","mb-0","mt-0",3,"click"],[1,"fa","fa-paper-plane","mr-2"],[1,"email-wrapper"],[1,"theme-form"],[1,"form-group"],["for","title"],[1,"text-danger"],["id","title","type","text","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","chk-hidden",1,"d-block"],["id","chk-hidden","name","chk-hidden","type","checkbox",1,"checkbox_animated",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"form-group","mb-0"],["id","content",1,"text-muted"],["name","content","id","content","skin","moono-lisa","language","en",3,"ngModel","ngModelChange"],["for","filesToUpload",1,"col-form-label","pt-0"],["id","filesToUpload","name","filesToUpload","multiple","","type","file","accept",".pdf,.doc,.docx,.png,.jpg,jpeg",1,"form-control",3,"change"],["filesToUpload",""],["class","tab-pane fade","id","pills-darkprofile","role","tabpanel","aria-labelledby","pills-darkprofile-tab",3,"ngClass",4,"ngIf"],["class","col-md-12",4,"ngIf"],["src","../../../../assets/img/icon.png",1,"mr-3","rounded-circle","img-60",3,"alt"],[1,"mr-3","rounded-circle","img-60",3,"src","alt"],[1,"d-inline-block"],[1,"img-40","rounded-circle",3,"src","alt","ngbTooltip"],["src","../../../../assets/img/icon.png",1,"img-40","rounded-circle",3,"alt","ngbTooltip"],[1,"icon-trash"],["for","chk-ani",3,"ngClass"],["type","checkbox",1,"checkbox_animated",3,"id","name","ngModel","disabled","ngModelChange","change"],[1,"media-size-email",3,"click"],[3,"ngClass","click"],[1,"digits"],[3,"innerHtml"],[1,"mr-3","rounded-circle","img-50",3,"src","alt"],["src","../../../../assets/img/icon.png",1,"mr-3","rounded-circle","img-50",3,"alt"],[1,"search-not-found","text-center"],[1,""],["src","../../../../assets/images/search-not-found.png","alt","",1,"second-search"],["for","follower"],["name","_usersCc","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["id","pills-darkprofile","role","tabpanel","aria-labelledby","pills-darkprofile-tab",1,"tab-pane","fade",3,"ngClass"],[1,"email-content"],[1,"col-md-6","xl-100","col-sm-12"],[2,"cursor","pointer","font-size","16pt",3,"ngClass","click"],[4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12"],[1,"float-right","d-flex"],[1,"user-emailid"],[1,"fa","fa-star-o","f-18","mt-1",2,"cursor","pointer",3,"click"],[3,"innerHTML"],[1,"action-wrapper"],[1,"actions"],["href","javascript:void(0)",1,"text-muted",3,"click"],[1,"fa","fa-reply","mr-2"],["alt","image",1,"mr-3","rounded-circle","img-50",3,"src"],[1,"text-muted"],[1,"icofont","icofont-clip"],["href","javascript:void(0)",1,"text-muted","text-right","right-download"],[1,"fa","fa-long-arrow-down","mr-2"],[1,"clearfix"],[1,"attachment"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],["src","../../../../assets/files/ico_file.png",1,"img-fluid",2,"width","20px","height","25px","cursor","pointer",3,"click"],[1,"fa","fa-trash","mr-2"],[1,"fa","fa-recycle","mr-2"],[1,"col-md-12"],[1,"input-group"],["type","text","aria-label","Recipient's username","name","comment",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text","btn-file"],[1,"icofont","icofont-attachment"],["type","file","name","filesToUpload1","multiple","","type","file","accept",".pdf,.doc,.docx,.png,.jpg,jpeg",3,"change"],["filesToUpload1",""],[1,"input-group-text",3,"click"],["class","icofont icofont-save",4,"ngIf"],[1,"icofont","icofont-save"],[1,"card-header"],[1,"card-title","mb-0"],[1,"table-responsive"],[1,"table","card-table","table-vcenter","text-nowrap"]],template:function(e,t){if(1&e){const e=E.ic();E.hc(0,"div",0),E.hc(1,"div",1),E.hc(2,"div",2),E.hc(3,"div",3),E.hc(4,"div",4),E.hc(5,"div",5),E.hc(6,"div",6),E.hc(7,"div",7),E.hc(8,"div",8),E.hc(9,"div",9),E.bd(10,A,2,1,"ng-container",10),E.bd(11,F,2,2,"ng-container",10),E.gc(),E.hc(12,"div",11),E.hc(13,"h6",12),E.dd(14),E.gc(),E.hc(15,"p"),E.dd(16),E.gc(),E.gc(),E.gc(),E.hc(17,"div",8),E.hc(18,"div",11),E.hc(19,"p"),E.dd(20),E.wc(21,"translate"),E.gc(),E.hc(22,"p"),E.dd(23),E.wc(24,"translate"),E.gc(),E.hc(25,"p"),E.dd(26),E.wc(27,"translate"),E.gc(),E.hc(28,"div",13),E.hc(29,"ul"),E.bd(30,j,3,2,"li",14),E.gc(),E.gc(),E.bd(31,q,7,4,"ng-container",10),E.gc(),E.gc(),E.hc(32,"ul",15),E.hc(33,"li",16),E.hc(34,"a",17),E.cc(35,"i",18),E.dd(36),E.wc(37,"translate"),E.gc(),E.gc(),E.hc(38,"li"),E.cc(39,"hr"),E.gc(),E.bd(40,H,6,3,"li",19),E.hc(41,"li",20),E.rc("click",function(){return t.getUserEmail(t.type="important")}),E.hc(42,"a",21),E.hc(43,"span",22),E.cc(44,"i",23),E.dd(45),E.wc(46,"translate"),E.gc(),E.hc(47,"span",24),E.dd(48),E.gc(),E.gc(),E.gc(),E.hc(49,"li",25),E.rc("click",function(){return t.getUserEmail(t.type="favourite")}),E.hc(50,"a",26),E.hc(51,"span",22),E.cc(52,"i",27),E.dd(53),E.wc(54,"translate"),E.gc(),E.hc(55,"span",24),E.dd(56),E.gc(),E.gc(),E.gc(),E.hc(57,"li",25),E.rc("click",function(){return t.getUserEmail(t.type="allmail")}),E.hc(58,"a",26),E.hc(59,"span",22),E.cc(60,"i",28),E.dd(61),E.wc(62,"translate"),E.gc(),E.hc(63,"span",24),E.dd(64),E.gc(),E.gc(),E.gc(),E.hc(65,"li",25),E.rc("click",function(){return t.getUserEmail(t.type="draft")}),E.hc(66,"a",26),E.hc(67,"span",22),E.cc(68,"i",29),E.dd(69),E.wc(70,"translate"),E.gc(),E.hc(71,"span",30),E.dd(72),E.gc(),E.gc(),E.gc(),E.bd(73,B,8,4,"li",31),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(74,"div",3),E.hc(75,"div",32),E.hc(76,"div",33),E.hc(77,"div",34),E.hc(78,"div",35),E.hc(79,"div",2),E.hc(80,"div",36),E.hc(81,"h5"),E.dd(82),E.wc(83,"translate"),E.wc(84,"titlecase"),E.gc(),E.gc(),E.cc(85,"div",37),E.gc(),E.gc(),E.hc(86,"div",38),E.bd(87,K,18,14,"a",39),E.wc(88,"slice"),E.bd(89,W,7,3,"ng-container",10),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(90,"div",40),E.hc(91,"div",32),E.hc(92,"div",41),E.hc(93,"div",42),E.hc(94,"div",43),E.hc(95,"div",44),E.hc(96,"div",45),E.hc(97,"div",46),E.hc(98,"div",2),E.hc(99,"div",47),E.hc(100,"h4",48),E.dd(101),E.wc(102,"translate"),E.gc(),E.gc(),E.hc(103,"div",49),E.hc(104,"button",50),E.rc("click",function(){return t.isSave?null:t.submit()}),E.cc(105,"i",51),E.bd(106,J,3,3,"ng-container",10),E.bd(107,X,3,3,"ng-container",10),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(108,"div",52),E.hc(109,"form",53),E.hc(110,"div",54),E.hc(111,"label",55),E.dd(112),E.wc(113,"translate"),E.hc(114,"span",56),E.dd(115,"*"),E.gc(),E.gc(),E.hc(116,"input",57),E.rc("ngModelChange",function(e){return t.entitySub.title=e}),E.gc(),E.gc(),E.hc(117,"div",54),E.hc(118,"label",58),E.dd(119),E.wc(120,"translate"),E.wc(121,"translate"),E.gc(),E.hc(122,"input",59),E.rc("ngModelChange",function(e){return t.flagShow=e}),E.gc(),E.gc(),E.bd(123,Z,7,15,"div",60),E.hc(124,"div",61),E.hc(125,"label",62),E.dd(126),E.wc(127,"translate"),E.gc(),E.hc(128,"ck-editor",63),E.rc("ngModelChange",function(e){return t.entitySub.content=e}),E.gc(),E.gc(),E.hc(129,"div",54),E.hc(130,"label",64),E.dd(131),E.wc(132,"translate"),E.gc(),E.hc(133,"input",65,66),E.rc("change",function(c){E.Uc(e);const i=E.Rc(134);return t.fileEvent(c,i)}),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.bd(135,de,43,31,"div",67),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.bd(136,fe,24,16,"div",68),E.gc(),E.gc(),E.gc()}2&e&&(E.Nb(10),E.Dc("ngIf",null==t.user.avatar),E.Nb(1),E.Dc("ngIf",null!=t.user.avatar),E.Nb(3),E.ed(t.user.name),E.Nb(2),E.ed(t.user.email),E.Nb(4),E.gd("",E.xc(21,41,"Title"),": ",t.entity.title,""),E.Nb(3),E.gd("",E.xc(24,43,"Content"),": ",t.entity.description,""),E.Nb(3),E.fd("",E.xc(27,45,"Assigned to"),":"),E.Nb(4),E.Dc("ngForOf",t.related_users),E.Nb(1),E.Dc("ngIf",t.ccList.length>0),E.Nb(5),E.fd(" ",E.xc(37,47,"Return")," "),E.Nb(4),E.Dc("ngIf",!t._flagAllowCC),E.Nb(5),E.fd(" ",E.xc(46,49,"Important"),""),E.Nb(3),E.fd("(",t.getUserEmail("important").length,")"),E.Nb(5),E.fd(" ",E.xc(54,51,"Favourite"),""),E.Nb(3),E.fd("(",t.getUserEmail("favourite").length,")"),E.Nb(5),E.fd(" ",E.xc(62,53,"All"),""),E.Nb(3),E.fd("(",t.getUserEmail("allmail").length,")"),E.Nb(5),E.fd(" ",E.xc(70,55,"Pending"),""),E.Nb(2),E.Dc("ngClass",0==t.getUserEmail("draft").length?"badge pull-right digits":"badge pull-right text-danger digits"),E.Nb(1),E.fd("(",t.getUserEmail("draft").length,")"),E.Nb(1),E.Dc("ngIf",!t._flagAllowCC),E.Nb(9),E.fd(" ",E.xc(83,57,t.type?E.xc(84,59,"allmail"==t.type?"All":t.type):"All")," "),E.Nb(5),E.Dc("ngForOf",E.zc(88,61,t.getUserEmail(t.type?t.type:"allmail"),0,7)),E.Nb(2),E.Dc("ngIf",!t.getUserEmail(t.type?t.type:"allmail").length),E.Nb(6),E.Dc("ngClass",E.Ic(77,oe,t.compose)),E.Nb(6),E.ed(E.xc(102,65,"New message")),E.Nb(5),E.Dc("ngIf",!t.isSave),E.Nb(1),E.Dc("ngIf",t.isSave),E.Nb(5),E.fd("",E.xc(113,67,"Title")," "),E.Nb(4),E.Dc("ngModel",t.entitySub.title),E.Nb(3),E.gd(" ",E.xc(120,69,"Shown")," / ",E.xc(121,71,"Hidden"),"?"),E.Nb(3),E.Dc("ngModel",t.flagShow),E.Nb(1),E.Dc("ngIf",t.flagShow),E.Nb(3),E.ed(E.xc(127,73,"Description")),E.Nb(2),E.Dc("ngModel",t.entitySub.content),E.Nb(3),E.ed(E.xc(132,75,"Attachment")),E.Nb(4),E.Dc("ngIf",null!=t.selectEmail),E.Nb(1),E.Dc("ngIf",t._children.length>0))},directives:[i.q,i.p,_.g,i.o,p.z,p.o,p.p,p.c,p.w,p.n,p.q,p.b,U.a,C.N,O.a],pipes:[T.c,i.z,i.y,i.f],styles:[".btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;text-align:right;opacity:0;outline:none;background:#fff;cursor:pointer;display:block}"]}),e})();var me=c("wd/R");function pe(e,t){1&e&&E.cc(0,"img",31)}function _e(e,t){1&e&&(E.fc(0),E.hc(1,"tr"),E.hc(2,"td",32),E.hc(3,"h3",33),E.dd(4),E.wc(5,"translate"),E.gc(),E.gc(),E.gc(),E.ec()),2&e&&(E.Nb(4),E.fd(" ",E.xc(5,1,"No records now!!!")," "))}function ve(e,t){if(1&e&&(E.fc(0),E.dd(1),E.wc(2,"date"),E.ec()),2&e){const e=E.vc().$implicit;E.Nb(1),E.ed(E.yc(2,1,e.valid_date,"dd/MM/yyyy HH:mm"))}}function Se(e,t){1&e&&(E.fc(0),E.dd(1),E.wc(2,"translate"),E.ec()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Indefinite")))}function ye(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",44),E.ec()),2&e){const e=E.vc().$implicit,t=E.vc(2);E.Nb(1),E.Ec("alt",e.name),E.Dc("src",t.baseFolder+"/"+e.avatar,E.Wc)("ngbTooltip",e.name)}}function we(e,t){if(1&e&&(E.fc(0),E.cc(1,"img",45),E.ec()),2&e){const e=E.vc().$implicit;E.Nb(1),E.Ec("alt",e.name),E.Dc("ngbTooltip",e.name)}}function Ne(e,t){if(1&e&&(E.hc(0,"li",43),E.bd(1,ye,2,3,"ng-container",28),E.bd(2,we,2,2,"ng-container",28),E.gc()),2&e){const e=t.$implicit;E.Nb(1),E.Dc("ngIf",null!=e.avatar),E.Nb(1),E.Dc("ngIf",null==e.avatar)}}function De(e,t){1&e&&(E.hc(0,"span",46),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Opening")))}function xe(e,t){1&e&&(E.hc(0,"span",47),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Completed")))}function Ee(e,t){1&e&&(E.hc(0,"span",48),E.dd(1),E.wc(2,"translate"),E.gc()),2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Cancel")))}function Me(e,t){if(1&e){const e=E.ic();E.hc(0,"button",52),E.rc("click",function(){E.Uc(e);const t=E.vc(2).$implicit;return E.vc().deleteItem(t)}),E.wc(1,"translate"),E.cc(2,"i",53),E.gc()}2&e&&E.Dc("ngbTooltip",E.xc(1,1,"Delete"))}function ke(e,t){if(1&e){const e=E.ic();E.fc(0),E.hc(1,"button",49),E.rc("click",function(){E.Uc(e);const t=E.vc().$implicit,c=E.vc(),i=E.Rc(78);return c._openModal(i,t)}),E.wc(2,"translate"),E.cc(3,"i",50),E.gc(),E.bd(4,Me,3,3,"button",51),E.ec()}if(2&e){const e=E.vc().$implicit;E.Nb(1),E.Dc("ngbTooltip",E.xc(2,2,"Edit")),E.Nb(3),E.Dc("ngIf",0==e.is_active)}}function Ce(e,t){if(1&e){const e=E.ic();E.fc(0),E.hc(1,"tr"),E.hc(2,"td",27),E.dd(3),E.gc(),E.hc(4,"td",27),E.hc(5,"a",34),E.dd(6),E.gc(),E.gc(),E.hc(7,"td",27),E.bd(8,ve,3,4,"ng-container",28),E.bd(9,Se,3,3,"ng-container",28),E.gc(),E.hc(10,"td",27),E.hc(11,"div",35),E.hc(12,"ul"),E.bd(13,Ne,3,2,"li",36),E.gc(),E.gc(),E.gc(),E.hc(14,"td",37),E.rc("click",function(){E.Uc(e);const c=t.$implicit,i=E.vc();return 0==c.is_active?i._addReminder(c):null}),E.cc(15,"i",38),E.wc(16,"translate"),E.hc(17,"span",39),E.dd(18),E.gc(),E.gc(),E.hc(19,"td",27),E.dd(20),E.wc(21,"translate"),E.gc(),E.hc(22,"td",27),E.bd(23,De,3,3,"span",40),E.bd(24,xe,3,3,"span",41),E.bd(25,Ee,3,3,"span",42),E.gc(),E.hc(26,"td",27),E.bd(27,ke,5,4,"ng-container",28),E.gc(),E.gc(),E.ec()}if(2&e){const e=t.$implicit,c=t.index,i=E.vc();E.Nb(3),E.fd(" ",c+1," "),E.Nb(2),E.Fc("routerLink","/tasks/requests/detail/",e.id,""),E.Nb(1),E.ed(e.title),E.Nb(2),E.Dc("ngIf",null!=e.valid_date),E.Nb(1),E.Dc("ngIf",null==e.valid_date),E.Nb(4),E.Dc("ngForOf",e.related_users.data),E.Nb(2),E.Dc("ngbTooltip",E.xc(16,15,"Reminder")),E.Nb(3),E.ed(null==e.reminder?0:e.reminder),E.Nb(2),E.hd(" ",E.xc(21,17,"Viewed")," (",e.count_view,"/",e.total_users,") "),E.Nb(3),E.Dc("ngIf",0==e.is_active),E.Nb(1),E.Dc("ngIf",1==e.is_active),E.Nb(1),E.Dc("ngIf",2==e.is_active),E.Nb(2),E.Dc("ngIf",e.created_by==i.user.id)}}function Re(e,t){if(1&e){const e=E.ic();E.hc(0,"a",74),E.rc("click",function(){return E.Uc(e),E.vc(2).turnOnFlagCC()}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.ed(E.xc(2,1,"Cc")))}function Ie(e,t){if(1&e){const e=E.ic();E.hc(0,"div",60),E.hc(1,"label",75),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"ng-select",76),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc(2).follow_users=t}),E.wc(5,"translate"),E.wc(6,"translate"),E.gc(),E.gc()}if(2&e){const e=E.vc(2);E.Nb(2),E.ed(E.xc(3,10,"Followers")),E.Nb(2),E.Dc("items",e._usersCc)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",e.follow_users)("placeholder",E.xc(5,12,"Please choose"))("notFoundText",E.xc(6,14,"Not found item"))("disabled",0!=e.entity.is_active)}}function Ue(e,t){1&e&&(E.fc(0),E.hc(1,"a",77),E.cc(2,"img",78),E.dd(3),E.wc(4,"translate"),E.gc(),E.ec()),2&e&&(E.Nb(3),E.fd(" ",E.xc(4,1,"Processing")," "))}function Oe(e,t){if(1&e){const e=E.ic();E.hc(0,"button",80),E.rc("click",function(){return E.Uc(e),E.vc(3).saveChange()}),E.dd(1),E.wc(2,"translate"),E.gc()}2&e&&(E.Nb(1),E.fd(" ",E.xc(2,1,"Save")," "))}function Te(e,t){if(1&e&&(E.fc(0),E.bd(1,Oe,3,3,"button",79),E.ec()),2&e){const e=E.vc(2);E.Nb(1),E.Dc("ngIf",!e.isSave)}}const Ae=function(){return{dateInputFormat:"DD-MM-YYYY HH:mm",containerClass:"theme-dark-blue"}};function Fe(e,t){if(1&e){const e=E.ic();E.hc(0,"div",54),E.hc(1,"h4",55),E.dd(2),E.wc(3,"translate"),E.gc(),E.hc(4,"button",56),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.hc(5,"span",57),E.dd(6,"\xd7"),E.gc(),E.gc(),E.gc(),E.hc(7,"div",58),E.hc(8,"div",59),E.hc(9,"div",60),E.hc(10,"label",61),E.dd(11),E.wc(12,"translate"),E.hc(13,"span",33),E.dd(14,"*"),E.gc(),E.gc(),E.hc(15,"input",62),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc().entity.title=t}),E.gc(),E.gc(),E.hc(16,"div",60),E.hc(17,"label",63),E.dd(18),E.wc(19,"translate"),E.hc(20,"span",33),E.dd(21,"*"),E.gc(),E.gc(),E.hc(22,"textarea",64),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc().entity.description=t}),E.gc(),E.gc(),E.hc(23,"div",60),E.hc(24,"label",65),E.dd(25),E.wc(26,"translate"),E.hc(27,"span",66),E.dd(28,"*"),E.gc(),E.bd(29,Re,3,3,"a",67),E.gc(),E.hc(30,"ng-select",68),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc().related_users=t})("change",function(){return E.Uc(e),E.vc().changeUserCC()}),E.wc(31,"translate"),E.wc(32,"translate"),E.gc(),E.gc(),E.bd(33,Ie,7,16,"div",69),E.hc(34,"div",60),E.hc(35,"label",70),E.dd(36),E.wc(37,"translate"),E.gc(),E.hc(38,"input",71),E.rc("ngModelChange",function(t){return E.Uc(e),E.vc().jdate=t})("bsValueChange",function(t){return E.Uc(e),E.vc().orgValueChange(t)}),E.wc(39,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(40,"div",72),E.hc(41,"button",73),E.rc("click",function(){return t.$implicit.dismiss("Cross click")}),E.dd(42),E.wc(43,"translate"),E.gc(),E.bd(44,Ue,5,3,"ng-container",28),E.bd(45,Te,2,1,"ng-container",28),E.gc()}if(2&e){const e=E.vc();E.Nb(2),E.gd(" ",E.xc(3,28,"ADD"==e._flagModal?"Add new":"Update")," ",e._title," "),E.Nb(9),E.fd("",E.xc(12,30,"Title")," "),E.Nb(4),E.Dc("ngModel",e.entity.title)("disabled",0!=e.entity.is_active),E.Nb(3),E.fd("",E.xc(19,32,"Content")," "),E.Nb(4),E.Dc("ngModel",e.entity.description)("disabled",0!=e.entity.is_active),E.Nb(3),E.fd("",E.xc(26,34,"Assigned to")," "),E.Nb(4),E.Dc("ngIf",0==e.entity.is_active),E.Nb(1),E.Dc("items",e._users)("multiple",!0)("closeOnSelect",!1)("searchable",!0)("bindLabel","name")("ngModel",e.related_users)("placeholder",E.xc(31,36,"Please choose"))("notFoundText",E.xc(32,38,"Not found item"))("disabled",0!=e.entity.is_active),E.Nb(3),E.Dc("ngIf",e.flagCc),E.Nb(3),E.ed(E.xc(37,40,"Valid date")),E.Nb(2),E.Dc("placeholder",E.xc(39,42,"Indefinite"))("ngModel",e.jdate)("bsConfig",E.Hc(46,Ae))("disabled",0!=e.entity.is_active),E.Nb(4),E.fd(" ",E.xc(43,44,"Close")," "),E.Nb(2),E.Dc("ngIf",e.isSave),E.Nb(1),E.Dc("ngIf",0==e.entity.is_active)}}const Ge=[{path:"",children:[{path:"requests",component:(()=>{class e{constructor(e,t,c,i,a,n,s,l,r,o){this._authenService=e,this._dataService=t,this._route=c,this._notifyService=i,this._uploadService=a,this._excelService=n,this._numberFormat=s,this.modalService=l,this._utilyService=r,this.sanitizer=o,this._keyword="",this.baseFolder=w.a.BASE_API,this._isLoading=!1,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._requestslist=[],this._title="",this._flagModal="ADD",this.isSave=!1,this.entity={},this.related_users=[],this.follow_users=[],this._users=[],this._usersCc=[],this.jdate=null,this.flagCc=!1,this.socket=y()(w.a.BASE_API)}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.loadUsersWithDept(),this.socket.on("refreshPage",e=>{this.loadData()})}loadData(){this._isLoading=!0;let e={};e.page=this.pageIndex,e.limit=this.pageSize,e.filter=this._keyword,e.userid=this.user.id,this._dataService.post("/tasks/getall",e).subscribe(e=>{let t=[];for(let c of e.data){let e=c.related_users.data.filter(e=>e.is_view).length;c.count_view=e,c.total_users=c.related_users.data.length,t.push(c)}this._requestslist=t,this.totalRow=e.rowCount,this.totalPage=e.totalPages,this._isLoading=!1})}_pageSizeChange(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}pageChanged(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}loadUsersWithDept(){let e={};e.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",e).subscribe(e=>{console.log(e),this._users=e.data;let t=[];if(null!=this.entity.follow_users){for(let e of this._users)null!=this.entity.follow_users&&0==JSON.parse(this.entity.follow_users).filter(t=>t==e.id).length&&t.push(e);this._usersCc=t}else this._usersCc=this._users})}changeUserCC(){if(console.log("Before",this.related_users,this.follow_users),0==this.related_users.length)this.entity.related_users=null;else{let e=[],t=[];for(let c of this.related_users){let i=this._users.filter(e=>e.id==c)[0];e.push({id:c,name:i.name,avatar:i.avatar,is_view:!1}),t.push(c)}this.entity.related_users={data:e},this.entity.joined_users=0==t.length?null:JSON.stringify(t)}let e=[];for(let t of this._users)0==this.related_users.filter(e=>e==t.id).length&&e.push(t);this._usersCc=e}turnOnFlagCC(){if(this.flagCc=!this.flagCc,this.flagCc){let e=[];for(let t of this._users)0==this.related_users.filter(e=>e==t.id).length&&e.push(t);this._usersCc=e}}_openModal(e,t){null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.description=null,this.related_users=[],this.entity.related_users={data:[]},this.follow_users=[],this.jdate=null,this.entity.valid_date=null,this.entity.is_active=0,this.entity.created_by=this.user.id):(this._flagModal="UPDATE",this.loadDetailById(t.id)),this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}loadDetailById(e){this._dataService.post("/tasks/detail",{id:e}).subscribe(e=>{this.entity=e.data;let t=[];for(let c of e.data.related_users.data)t.push(c.id);if(this.related_users=t,null!=e.data.valid_date&&(this.jdate=new Date(e.data.valid_date),this.entity.valid_date=me(new Date(this.jdate)).format("DD/MM/YYYY HH:mm")),null!=e.data.follow_users){this.flagCc=!0,this.follow_users=JSON.parse(e.data.follow_users);let t=[];for(let c of this._users)0==e.data.related_users.data.filter(e=>e.id==c.id).length&&t.push(c);this._usersCc=t}else this.flagCc=!1,this.follow_users=[]})}orgValueChange(e){null!=e&&"Invalid date"!=e?(this.jdate=e,this.entity.valid_date=me(this.jdate).format("YYYY-MM-DD HH:mm")):(this.jdate=null,this.entity.valid_date=null)}saveChange(){this.entity.follow_users=0==this.follow_users.length?null:JSON.stringify(this.follow_users),this.isSave=!0,"ADD"==this._flagModal?this._dataService.post("/tasks/add",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_ADDNO_EN:N.a.MSG_ADDNO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_ADD_EN:N.a.MSG_ADD,"OK"),this.modalService.dismissAll())},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}):this._dataService.post("/tasks/update",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?N.a.MSG_UPDATENO_EN:N.a.MSG_UPDATENO,"en"==this.user.lang?N.a.error_title_en:N.a.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.modalService.dismissAll())},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})}_addReminder(e){x.a.fire({title:"en"==this.user.lang?N.a.are_you_sure2send_en:N.a.are_you_sure2send,text:e.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(t=>{t.value&&this._dataService.post("/tasks/addReminder",{id:e.id}).subscribe(e=>{this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK"),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)})})}deleteItem(e){x.a.fire({title:"en"==this.user.lang?N.a.are_you_sure_cancel_en:N.a.are_you_sure_cancel,text:e.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?N.a.cancel_en:N.a.cancel,confirmButtonText:"en"==this.user.lang?N.a.confirmtext_en:N.a.confirmtext}).then(t=>{t.value&&(e.is_active=2,this._dataService.post("/tasks/update",e).subscribe(e=>{this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?N.a.MSG_UPDATE_EN:N.a.MSG_UPDATE,"OK")},()=>{this._notifyService.showError("en"==this.user.lang?N.a.MSG_ERROR_EN:N.a.MSG_ERROR,"en"==this.user.lang?N.a.error_title_en:N.a.error_title)}))})}}return e.\u0275fac=function(t){return new(t||e)(E.bc(l.a),E.bc(s.a),E.bc(_.d),E.bc(M.a),E.bc(n.a),E.bc(a.a),E.bc(k.a),E.bc(C.s),E.bc(R.a),E.bc(I.b))},e.\u0275cmp=E.Vb({type:e,selectors:[["app-task-request"]],decls:79,vars:72,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],["src","../../../../assets/img/loading.gif","width","25px",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"form-control","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["popupWorkModal",""],["src","../../../../assets/img/loading.gif","width","25px"],["colspan","8",2,"text-align","center"],[1,"text-danger"],["href","javascript:;",1,"text-danger",3,"routerLink"],[1,"customers","d-inline-block","avatar-group"],["class","d-inline-block",4,"ngFor","ngForOf"],[1,"text-truncate",2,"cursor","pointer",3,"click"],[1,"fa","fa-bell-o",2,"font-size","14pt",3,"ngbTooltip"],[1,"badge-pill","badge-danger"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"d-inline-block"],[1,"img-40","rounded-circle",3,"src","alt","ngbTooltip"],["src","../../../../assets/img/icon.png",1,"img-40","rounded-circle",3,"alt","ngbTooltip"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"btn","btn-sm","btn-warning","mr-sm-1",3,"ngbTooltip","click"],[1,"icofont","icofont-pencil-alt-5"],["class","btn btn-sm btn-danger mr-sm-1",3,"ngbTooltip","click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","mr-sm-1",3,"ngbTooltip","click"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"col-md-12"],["for","title"],["type","text","name","title","id","title","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","description"],["id","description","rows","3","name","description","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","assignedto"],[1,"text-danger","mr-sm-2"],["href","javascript:;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["name","_users","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["class","col-md-12",4,"ngIf"],["for","validdate"],["type","text","name","jdate","bsDatepicker","","autocomplete","off","required","",1,"form-control",3,"placeholder","ngModel","bsConfig","disabled","ngModelChange","bsValueChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["for","follower"],["name","_usersCc","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=E.ic();E.hc(0,"div",0),E.hc(1,"div",1),E.hc(2,"div",2),E.hc(3,"div",3),E.hc(4,"div",4),E.hc(5,"div",1),E.hc(6,"div",5),E.hc(7,"div",6),E.hc(8,"input",7),E.rc("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),E.wc(9,"translate"),E.gc(),E.hc(10,"button",8),E.rc("click",function(){E.Uc(e);const c=E.Rc(78);return t._openModal(c,null)}),E.dd(11),E.wc(12,"translate"),E.gc(),E.bd(13,pe,1,0,"img",9),E.gc(),E.gc(),E.hc(14,"div",10),E.hc(15,"div",11),E.hc(16,"select",12),E.rc("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),E.hc(17,"option",13),E.dd(18,"#10"),E.gc(),E.hc(19,"option",14),E.dd(20,"#25"),E.gc(),E.hc(21,"option",15),E.dd(22,"#50"),E.gc(),E.hc(23,"option",16),E.dd(24,"#100"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(25,"div",17),E.hc(26,"div",18),E.hc(27,"div",19),E.hc(28,"div",20),E.hc(29,"pagination",21),E.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),E.gc(),E.gc(),E.hc(30,"div",22),E.hc(31,"a",23),E.dd(32),E.wc(33,"translate"),E.wc(34,"translate"),E.wc(35,"translate"),E.wc(36,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.hc(37,"div",24),E.hc(38,"table",25),E.hc(39,"thead"),E.hc(40,"th",26),E.dd(41,"#"),E.gc(),E.hc(42,"th",27),E.dd(43),E.wc(44,"translate"),E.gc(),E.hc(45,"th",27),E.dd(46),E.wc(47,"translate"),E.gc(),E.hc(48,"th",27),E.dd(49),E.wc(50,"translate"),E.gc(),E.hc(51,"th",27),E.dd(52),E.wc(53,"translate"),E.gc(),E.hc(54,"th",27),E.dd(55),E.wc(56,"translate"),E.gc(),E.hc(57,"th",27),E.dd(58),E.wc(59,"translate"),E.gc(),E.hc(60,"th",27),E.dd(61),E.wc(62,"translate"),E.gc(),E.gc(),E.hc(63,"tbody"),E.bd(64,_e,6,3,"ng-container",28),E.bd(65,Ce,28,19,"ng-container",29),E.gc(),E.gc(),E.gc(),E.hc(66,"div",18),E.hc(67,"div",19),E.hc(68,"div",20),E.hc(69,"pagination",21),E.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),E.gc(),E.gc(),E.hc(70,"div",22),E.hc(71,"a",23),E.dd(72),E.wc(73,"translate"),E.wc(74,"translate"),E.wc(75,"translate"),E.wc(76,"translate"),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.gc(),E.bd(77,Fe,46,47,"ng-template",null,30,E.cd)}2&e&&(E.Nb(8),E.Dc("placeholder",E.xc(9,38,"Search"))("ngModel",t._keyword),E.Nb(3),E.fd(" ",E.xc(12,40,"Add new request")," "),E.Nb(2),E.Dc("ngIf",t._isLoading),E.Nb(3),E.Dc("ngModel",t.pageSize),E.Nb(13),E.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),E.Nb(3),E.id("",E.xc(33,42,"Total of records"),": ",t.totalRow," - ",E.xc(34,44,"Page")," ",t.pageIndex," ",E.xc(35,46,"of")," ",t.totalPage," ",E.xc(36,48,"page"),""),E.Nb(11),E.ed(E.xc(44,50,"Title")),E.Nb(3),E.fd(" ",E.xc(47,52,"Valid date")," "),E.Nb(3),E.fd(" ",E.xc(50,54,"Assigned to")," "),E.Nb(3),E.fd(" ",E.xc(53,56,"Reminder")," "),E.Nb(3),E.fd(" ",E.xc(56,58,"Joined")," "),E.Nb(3),E.ed(E.xc(59,60,"Status")),E.Nb(3),E.ed(E.xc(62,62,"Actions")),E.Nb(3),E.Dc("ngIf",0==t._requestslist.length),E.Nb(1),E.Dc("ngForOf",t._requestslist),E.Nb(4),E.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),E.Nb(3),E.id("",E.xc(73,64,"Total of records"),": ",t.totalRow," - ",E.xc(74,66,"Page")," ",t.pageIndex," ",E.xc(75,68,"of")," ",t.totalPage," ",E.xc(76,70,"page"),""))},directives:[p.c,p.n,p.q,i.q,p.x,p.r,p.A,g.a,i.p,_.g,C.N,p.w,O.a,u.b,u.a],pipes:[T.c,i.f],styles:[""]}),e})(),data:{title:"Requests",breadcrumb:"Requests"}},{path:"requests/detail/:id",component:be,data:{title:"Details",breadcrumb:"Details"}}]}];let Pe=(()=>{class e{}return e.\u0275mod=E.Zb({type:e}),e.\u0275inj=E.Yb({factory:function(t){return new(t||e)},imports:[[_.h.forChild(Ge)],_.h]}),e})();var je=c("arFO"),Le=c("tmjD"),$e=c("Kdsb"),ze=c("g9iH"),qe=c("UkRs"),He=c("VXpv"),Be=c("IkSl");let Ve=(()=>{class e{}return e.\u0275mod=E.Zb({type:e}),e.\u0275inj=E.Yb({factory:function(t){return new(t||e)},providers:[l.a,s.a,n.a,a.a,T.d,k.a],imports:[[i.c,Pe,p.k,m.a,b.b,T.b,f.a,u.c.forRoot(),g.b.forRoot(),h.a.forRoot(),d.a.forRoot(),ze.b,o.a,r.a,je.a,C.u,O.b,Le.b.forRoot(),$e.c,qe.c,U.b,He.b,Be.b]]}),e})()}}]);